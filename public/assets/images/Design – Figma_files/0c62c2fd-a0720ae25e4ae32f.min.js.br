"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="dc2b40ab-3646-536c-875c-0d5713cdb5f4")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8717],{923085:(e,t,r)=>{r.d(t,{AS:()=>o,DD:()=>i,Fx:()=>d,I6:()=>n,Ly:()=>c,PQ:()=>f,VA:()=>s,W8:()=>_,au:()=>E,hF:()=>m,hj:()=>p,ij:()=>b,ni:()=>a,pv:()=>u,wH:()=>l,y8:()=>g});let a="component_browser_chip_search_input--inlineSearchContainer--Iwtoi",n="component_browser_chip_search_input--inputWrapper--s7f-v",o="component_browser_chip_search_input--item---lkkM",l="component_browser_chip_search_input--selected--74Des",i="component_browser_chip_search_input--title--RbHXf",s="component_browser_chip_search_input--subtitle--ZgHic",c="component_browser_chip_search_input--itemContent--sAjPR",d="component_browser_chip_search_input--itemIcon--FG0dn",m="component_browser_chip_search_input--input--qZU7z faceted_search_bar--input--V5ksZ",u="component_browser_chip_search_input--pillBase--lA46p",_="component_browser_chip_search_input--pillLabel--jAv50 utilities--bodyMedium--7-YGK",p="component_browser_chip_search_input--clearIcon--aSfQ5",f="component_browser_chip_search_input--noItemsView--B72m-",g="component_browser_chip_search_input--noItemsTitle--Id8JV",E="component_browser_chip_search_input--noItemsDescription--xYPRg",b="component_browser_chip_search_input--clearIconContainer--s4LRP"},839551:(e,t,r)=>{r.d(t,{C7:()=>l,Pf:()=>u,Qe:()=>n,R_:()=>s,_y:()=>o,aY:()=>i,hF:()=>m,lc:()=>a,so:()=>c,y3:()=>d});let a="component_browser_code_connect_code--suggestionsWrapper--svvhH",n="component_browser_code_connect_code--connectedFile--UG-GF",o="component_browser_code_connect_code--connectedFileDetails--ghy71",l="component_browser_code_connect_code--codeConnect--2QiYH",i="component_browser_code_connect_code--code--ynitj",s="component_browser_code_connect_code--heading--Kre-b utilities--bodyMediumStrong--1R5cZ",c="component_browser_code_connect_code--connectHeadingText--lhjfF",d="component_browser_code_connect_code--warningWrapper--IGXEr",m="component_browser_code_connect_code--input--kUf7b",u="component_browser_code_connect_code--label--43048 utilities--bodyMedium--7-YGK"},190010:(e,t,r)=>{r.d(t,{Gd:()=>s,I$:()=>f,KF:()=>E,L3:()=>o,LU:()=>u,T$:()=>d,WD:()=>_,WX:()=>l,dl:()=>c,hP:()=>i,i7:()=>g,r9:()=>b,sp:()=>m,v6:()=>p,yO:()=>n,yS:()=>a});let a="component_browser_component_list--componentListLoadingRow--7mekH",n="component_browser_component_list--componentListLoadingItems--tvn9D",o="component_browser_component_list--componentsList--0ktIv",l="component_browser_component_list--componentsListLoadingContainer--qJmd2",i="component_browser_component_list--componentsListTable--Nn5oQ",s="component_browser_component_list--componentsListTableHeader--6ug-T",c="component_browser_component_list--componentsListTableBody--xc1O9",d="component_browser_component_list--componentsListTableRow--WpZdm",m="component_browser_component_list--isSelected--aU-xU",u="component_browser_component_list--componentsListTableCell--y6giI",_="component_browser_component_list--countItemNumber--HKzsg",p="component_browser_component_list--componentItemImageContainer--MWsBQ",f="component_browser_component_list--componentItemImage--ksuBQ",g="component_browser_component_list--codeConnectionStatus--O6cPv",E="component_browser_component_list--searchInputContainer--Zp-hl",b="component_browser_component_list--disabled--ZxWBe"},605247:(e,t,r)=>{r.d(t,{B8:()=>p,IW:()=>_,J:()=>E,Ou:()=>h,R6:()=>g,Uu:()=>s,X5:()=>u,XX:()=>i,YK:()=>o,ay:()=>b,eK:()=>l,fI:()=>n,jD:()=>f,me:()=>m,nM:()=>c,wD:()=>d,yU:()=>a});let a="step_pay--addAnnualPlan--3YUVe",n="step_pay--paymentForm--gqjt-",o="step_pay--totalLabelText--FsxE-",l="step_pay--smallGrayText--C8Sfn",i="step_pay--bigButton--Gtz0E",s="step_pay--flex--ZZh0K",c="step_pay--row--DcuMl",d="step_pay--rowFlex--Mf5y8 step_pay--row--DcuMl",m="step_pay--separator--gTqAJ",u="step_pay--total--FgOpU",_="step_pay--totalText--VTLEG step_pay--jumboText--JE1wb",p="step_pay--plusTaxText--gSICq",f="step_pay--numEditorsInput--mTc8p",g="step_pay--subtotal--188gf",E="step_pay--changeLink--dSfAg blue_link--blueLink--9rlnd",b="step_pay--bigTerms--nC3J9",h="step_pay--flowActionsSingle--X0Hy-"},722541:(e,t,r)=>{r.d(t,{JP:()=>s,O6:()=>i,R3:()=>a,Rg:()=>o,Xq:()=>l,b:()=>n,j:()=>d,zu:()=>c});let a="ready_for_dev_signals_upsell--tooltipContainer--MfMyF pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",n="ready_for_dev_signals_upsell--closeButton--IqINb",o="ready_for_dev_signals_upsell--tooltipHeader--vN9FE utilities--bodyMediumStrong--1R5cZ",l="ready_for_dev_signals_upsell--tooltipPageIdNodeHeader--9D-dA ready_for_dev_signals_upsell--tooltipHeader--vN9FE utilities--bodyMediumStrong--1R5cZ",i="ready_for_dev_signals_upsell--tooltipBody--LCLlM utilities--bodyMediumStrong--1R5cZ",s="ready_for_dev_signals_upsell--tooltipFooter--bN45f",c="ready_for_dev_signals_upsell--tooltipBodyText--fXjaC",d="ready_for_dev_signals_upsell--videoContainer--Hcl5T"},214758:(e,t,r)=>{r.d(t,{Dq:()=>u,KE:()=>y,Mf:()=>S,Mp:()=>b,Nr:()=>L,Nz:()=>v,O0:()=>A,Pl:()=>f,Pz:()=>o,RE:()=>n,Sp:()=>a,VC:()=>T,VQ:()=>F,Vt:()=>E,YW:()=>w,_J:()=>h,aY:()=>i,dB:()=>k,hi:()=>I,iB:()=>_,jE:()=>R,jG:()=>C,l$:()=>l,mB:()=>N,n6:()=>s,oG:()=>d,q8:()=>P,sR:()=>g,sl:()=>p,vu:()=>c,vy:()=>O,wH:()=>m,yR:()=>x});let a="legacy_pages_panel--pageChangesCount--ZvU4X",n="legacy_pages_panel--pagesHeaderContainer--LWPh-",o="legacy_pages_panel--pagesHeaderText--vgHeJ",l="legacy_pages_panel--pagesList--20gAo",i="legacy_pages_panel--pendingPagesList--Kqq9Y legacy_pages_panel--pagesList--20gAo",s="legacy_pages_panel--pageIcon--2SeMV",c="legacy_pages_panel--active--4gxmS",d="legacy_pages_panel--pageRow--RXLs9 legacy_pages_panel--pageRowBase--2BLqh",m="legacy_pages_panel--selected--ZWcge",u="legacy_pages_panel--hoverByMouse--QLchE",_="legacy_pages_panel--hoverState--Jq0dh",p="legacy_pages_panel--pageRowActive--wbZe-",f="legacy_pages_panel--activePageBrand--X-F3Y",g="legacy_pages_panel--pageRowActiveUI2--Lwdqd",E="legacy_pages_panel--flipVertically--ZvNfN",b="legacy_pages_panel--pageRowSvgV2--QicIQ legacy_pages_panel--pageRowSvg--nbDOj",h="legacy_pages_panel--pageRowSvgV2Unselected--1IlVx legacy_pages_panel--pageRowSvgV2--QicIQ legacy_pages_panel--pageRowSvg--nbDOj",v="legacy_pages_panel--renameableNode--JPw8y",y="legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",w="legacy_pages_panel--disabledNodeText--2HBBi legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",T="legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",I="legacy_pages_panel--renameableNodeTextEndDisabled--fFOaW legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",C="legacy_pages_panel--scrollContainer--YR8Lw",S="legacy_pages_panel--tab--inhND",x="legacy_pages_panel--tabActive--hmo0j legacy_pages_panel--tab--inhND",k="legacy_pages_panel--assetsTab--nMUmk",N="legacy_pages_panel--pageRowDividerContainer--eWfpW legacy_pages_panel--pageRowBase--2BLqh",R="legacy_pages_panel--pageRowDivider--0c9dh",A="legacy_pages_panel--pageRowDividerTitleText--WSgbm",O="legacy_pages_panel--hasDividerWithTitleAbove--QYBGL",L="legacy_pages_panel--offlineContainer--zrR3y",F="legacy_pages_panel--offlineIcon--sLbbs",P="legacy_pages_panel--pageRowRight--N3-uE"},50742:(e,t,r)=>{r.d(t,{IK:()=>l,Vi:()=>s,cJ:()=>a,iZ:()=>i,pf:()=>o,yF:()=>n});let a="pages_list--pagesRowWrapper--Plig-",n="pages_list--divider--idUOu",o="pages_list--withInsertBefore---ui-o",l="pages_list--withInsertAfter--7QoMA",i="pages_list--withInsertBeforeTop--IQT63",s="pages_list--withInsertAfterBottom--yG3xD"},509982:(e,t,r)=>{r.d(t,{w:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,192736)).then(e=>e.EduReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"EduReviewPage"})},59767:(e,t,r)=>{r.d(t,{N:()=>o});var a=r(41015),n=r(473889);let o=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,451626)).then(e=>e.OrgSelfServeFigJamPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeFigJamPage"})},212108:(e,t,r)=>{r.d(t,{G:()=>o});var a=r(41015),n=r(473889);let o=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,428829)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},539855:(e,t,r)=>{r.d(t,{z:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,262558)).then(e=>e.PromoReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"PromoReviewPage"})},703518:(e,t,r)=>{r.d(t,{q:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,447243)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},357886:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(41015);let n=r(783594).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(785),r.e(4297),r.e(8187),r.e(2677)]).then(r.bind(r,33994)).then(e=>e.TeamUpgradePageV2),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageV2"})},412922:(e,t,r)=>{r.d(t,{m:()=>x});var a=r(848318),n=r(716544),o=r(992277),l=r(228238),i=r(360589),s=r(17755),c=r(61485),d=r(645906),m=r(668122);if(443==r.j)var u=r(286913);var _=r(790355),p=r(713547),f=r(254310),g=r(87089),E=r(834996),b=r(376780),h=r(694253),v=r(572699),y=r(796503),w=r(965845),T=r(977508),I=r(504647),C=r(637378),S=r(710166);function x(){let e=(0,n.wA)(),t=(0,v.tJ)(),r=(0,v.Xd)(),x=(0,c.RR)(),k=(0,E._6)(),N=(0,g.dq)(),R=(0,n.d4)(e=>(0,h.getPermissionsStateMemoized)(e)),A=(0,n.d4)(e=>e.teams),O=(0,f.MF)({oldValue:l.Qw.useMemoizedLoaded((0,h.canAdminOrg)(N,R)),newValue:(0,v.j_)(),label:f.A5.SeatRequestsPageView.canAdminOrg,enableFullRead:(0,p.DQ)(p.Pw.GROUP_4)}),L=(0,p.DQ)(p.Pw.GROUP_4)&&"loaded"===O.status&&(0,m.pO)({isAdminOrg:O.data,permissions:R,teams:A,view:k}),F=(0,y.vS)(k),P="loaded"===t.status&&"loaded"===r.status&&r.data.permission!==b.Xn.ADMIN;return(a.useEffect(()=>{L?e(_.$T({view:"resourceUnavailable",resourceType:F})):P&&e(_.$T(I.o0))},[e,F,P,L]),"loaded"!==t.status||"loaded"!==r.status||P||(0,p.DQ)(p.Pw.GROUP_4)&&L)?a.createElement("div",{className:s.s.wFull.pl32.py24.bb1.colorBorder.bSolid.$},a.createElement(i.Wi,{className:s.s.w200.h32.$,dataTestId:"srpv-loading"})):(x||(t.data.key.type===b.OL.ORG?e(_.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:w.J7.DASHBOARD})):e(_.$T({view:"teamAdminConsole",teamId:t.data.key.parentId??"",teamAdminConsoleViewTab:T.Iv.DASHBOARD}))),a.createElement(u.r,{containerClass:S.nF,scrollableContainerClass:S.lF,content:a.createElement(C.l,{plan:t.data,isOrgAdmin:t.data.type===b.OL.ORG}),toolbar:a.createElement(d.g,null),errorBoundaryConfig:{figmaTeam:o.e.MONETIZATION_EXPANSION,boundaryKeySuffix:"SeatRequestsPageView"}}))}},399339:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeEditorsModal:()=>s});var a=r(848318),n=r(431118),o=r(442313),l=r(155651),i=r(314272);function s(e){let{team:t,editors:r}=e,{id:s}=t,c=r.length,d=r.filter(e=>e.id).map(e=>e.id).join(),m=(0,o.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,o.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return a.createElement(l.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:s}},a.createElement(i.Eo,{title:c>1?u:m,confirmText:(0,o.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},a.createElement("p",null,c>1&&(0,o.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),(0,o.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"))))}},501388:(e,t,r)=>{r.r(t),r.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>c});var a=r(848318),n=r(145015),o=r(442313),l=r(155651),i=r(765982),s=r(314272);function c(e){let{team:t,members:r,paidStatus:c}=e,{id:d}=t;if(![i.Zf.FULL,i.Zf.RESTRICTED].includes(c))return a.createElement(a.Fragment,null);let m=r.length,u=r.filter(e=>e.id).map(e=>e.id).join(),_=c===i.Zf.RESTRICTED,p=e.paidStatusType===i.j4.WHITEBOARD,f=p?r.every(e=>!e.whiteboard_editor_upgrade):r.every(e=>!e.design_editor_upgrade),g=c===i.Zf.RESTRICTED&&f,E=r[0].name||r[0].email;return a.createElement(l.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:m,memberIds:u,teamId:d}},a.createElement(s.Eo,{title:_?g?p?(0,o.tx)("team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"):(0,o.tx)("team_view.downgrade_design_access_from_viewer_to_viewer_restricted"):p?(0,o.tx)("team_view.remove_figjam_edit_status.seat_rename"):(0,o.tx)("team_view.remove_design_edit_status.seat_rename"):p?(0,o.tx)("team_view.grant_figjam_edit_status.seat_rename"):(0,o.tx)("team_view.grant_design_edit_status.seat_rename"),confirmText:_?g?(0,o.t)("team_view.change"):(0,o.t)("team_view.remove.seat_rename"):(0,o.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},c===i.Zf.RESTRICTED&&(g?p?(0,o.tx)("team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):(0,o.tx)("team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):p?(0,o.tx)("team_view.downgrade_figjam_description.seat_rename",{memberNameOrEmail:E,numMembers:m}):(0,o.tx)("team_view.downgrade_design_description.seat_rename",{memberNameOrEmail:E,numMembers:m})),c===i.Zf.FULL&&a.createElement(a.Fragment,null,(()=>{if(!_)return p?(0,o.tx)("team_view.change_to_editor_figjam_description.seat_rename",{numMembers:m,memberNameOrEmail:E}):(0,o.tx)("team_view.change_to_editor_design_description.seat_rename",{numMembers:m,memberNameOrEmail:E})})(),a.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--D5LgW"},a.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--cb35L",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,o.tx)("team_view.learn_more.seat_rename"))))))}},511600:(e,t,r)=>{r.r(t),r.d(t,{MemberEditAccessModal:()=>x});var a=r(848318),n=r(716544),o=r(425642),l=r(508242),i=r(430285),s=r(575492),c=r(442313),d=r(61485),m=r(449737),u=r(155651),_=r(871117),p=r(376780),f=r(24096),g=r(995946),E=r(765982),b=r(314272);let h="edit_access_modal--column--MYvAz",v="edit_access_modal--resource--qhm-x",y="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",w="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",T=(e,t)=>{if("file"===e.resource_type){let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.key}}else{let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.id}}},I=(0,l.xx)((e,t)=>{let r={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let a=T(e,t);a?r.editableResources.push(a):r.privateResourceCount++}),(0,o.v7)(r.editableResources,e=>e.name)),r}),C=(e,t)=>{let r,a,n;let o=e.team_user,l=e.edit_roles,i=l?.whiteboard_files||[],s=l?.design_files||[],c=l?.slides_files||[];return t?(r=!(0,f.on)(o,_.vu),a=!(0,f.on)(o,_.tL),n=!(0,f.on)(o,_.B7)):(r=!!(0,f.qR)(o,p._Y.DESIGN),a=!!(0,f.qR)(o,p._Y.WHITEBOARD),n=!1),{whiteboardRoles:a?[]:i,designRoles:r?[]:s,slidesRoles:n?[]:c}},S=(e,t,r)=>{let{whiteboardRoles:a,designRoles:n,slidesRoles:o}=C(e,r);return I(a.concat(n).concat(o),t)};function x(e){let t=(0,n.wA)(),r=function(e,t){let r=(0,n.d4)(r=>r.teamMembersByTeamId[e][t]);return i.Qw.loaded(r)}(e.teamId,e.memberEmail),o=(0,n.d4)(e=>e.folders),l=a.useMemo(()=>r.transform(e=>I(e?.edit_roles?.folders,o)),[o,r]),p=(0,d.RR)(),v=(0,n.d4)(e=>e.folders),w=a.useMemo(()=>r.transform(e=>e?S(e,v,p):{privateResourceCount:0,editableResources:[]}),[v,r,p]),T=(0,n.d4)(t=>t.teams[e.teamId]),C=i.Qw.all([r,l,w]);if("loaded"!==C.status)return null;let[x,k,R]=C.data;if(!x)return console.error("Member not found"),null;let A=!!x.team_role&&x.team_role?.level>=g.e6.EDITOR,O=k.editableResources.length+k.privateResourceCount,L=R.editableResources.length+R.privateResourceCount,F=p?(0,f.on)(x.team_user,_.vu):x.team_user?.design_paid_status===E.Zf.FULL,P=p?(0,f.on)(x.team_user,_.tL):x.team_user?.whiteboard_paid_status===E.Zf.FULL,D=!p||(0,f.on)(x.team_user,_.B7);return a.createElement(u.fu,{name:"Member Edit Access Modal",properties:{teamId:T.id,userId:x.id,folderCount:O,fileCount:L}},a.createElement(b.XV,{title:(0,c.t)("team_view.member_edit_access_modal.title",{memberName:x.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(m.Ce())}},a.createElement("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:h},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.projects_title"))),a.createElement("div",{className:h},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.files_title")))),a.createElement(s.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0},a.createElement("div",{className:"edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:h},a.createElement(N,{hasTeamEditPermissions:A,isWhiteboardEditor:P,isDesignEditor:F,isSlidesEditor:D,resources:k,resourceType:"project"})),a.createElement("div",{className:h},a.createElement(N,{hasTeamEditPermissions:A,isWhiteboardEditor:P,isDesignEditor:F,isSlidesEditor:D,resources:R,resourceType:"file"}))))))}let k=e=>"file"===e?(0,c.tx)("team_view.member_edit_access_modal.none_files"):(0,c.tx)("team_view.member_edit_access_modal.none_projects");function N(e){let t;let{hasTeamEditPermissions:r,isDesignEditor:n,isWhiteboardEditor:o,isSlidesEditor:l,resourceType:i}=e;if(r)return"project"===i?a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_projects")):n&&o&&l?a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_files")):n||o||l?a.createElement(a.Fragment,null,n&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_design_files")),o&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_figjam_files")),l&&a.createElement("div",{className:w},(0,c.tx)("team_view.member_edit_access_modal.all_slides_files"))):a.createElement("div",{className:w},k(i));let s=e.resources;if(0===s.privateResourceCount&&0===s.editableResources.length)return a.createElement("div",{className:w},k(i));if(s.privateResourceCount>0){let e=a.createElement("span",null);0===s.editableResources.length&&"project"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:s.privateResourceCount}):0===s.editableResources.length&&"file"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:s.privateResourceCount}):s.editableResources.length>0&&"project"===i?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:s.privateResourceCount}):s.editableResources.length>0&&"file"===i&&(e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:s.privateResourceCount})),t=a.createElement("div",{className:v},e)}return a.createElement(a.Fragment,null,s.editableResources.map(e=>a.createElement("div",{key:e.id_or_key,className:v},e.name)),t)}},390808:(e,t,r)=>{r.d(t,{JC:()=>m,Oe:()=>c,VY:()=>l,ay:()=>u,dZ:()=>d,vW:()=>i,wu:()=>o,y$:()=>s});var a=r(41015),n=r(647379);r(412922);let o=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,1970)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),l=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,517077)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),i=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,576165)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgAdminSettingsPageView"}),s=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,292629)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),c=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,258255)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgDomainManagementPageView"}),d=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,582566)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:a.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),m=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,138281)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:a.H4.NONE,componentName:"TeamAdminConsoleView"}),u=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(9215),r.e(2111),r.e(4279),r.e(8125),r.e(2308),r.e(3576),r.e(3720),r.e(6048)]).then(r.bind(r,656956)).then(e=>e.AdminSidebar),{loading:()=>null,error:a.H4.NONE,componentName:"AdminSidebar"})},599601:(e,t,r)=>{r.r(t),r.d(t,{BlockConnectedFileMoveModal:()=>p});var a=r(848318),n=r(776402),o=r(792978),l=r(777611),i=r(731755),s=r(493554),c=r(17755),d=r(442313),m=r(155651),u=r(635547),_=r(615608);function p(e){let t=n.hS(e),r=(0,s.Rs)(u.s0Z,{fileKey:e.fileKey}),p=r?.data?.file?.project?.name,f=r?.data?.file?.plan?.name;return a.createElement(m.fu,{name:"Block Connected File Move Modal"},a.createElement(l.bL,{manager:t,width:"md"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,p?(0,d.tx)("resource_connection.block_file_move.unable_to_move_out_of_project_name",{projectName:p}):(0,d.tx)("resource_connection.block_file_move.unable_to_move_out_of_this_project"))),a.createElement(i.nB,{className:_.Yw},a.createElement("div",{className:c.s.mt4.mb4.$},(0,d.tx)("resource_connection.block_file_move.learn_more_about_what_you_can_do_in_connected_projects",{learnMore:a.createElement(o.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects"},(0,d.tx)("resource_connection.request_modal.learn_more")),hostPlanName:f??""}))))))}},818515:(e,t,r)=>{r.r(t),r.d(t,{FileMoveDropdown:()=>tn,FileMoveHiddenDiv:()=>to,FileMoveModal:()=>e6,FileMoveModalComponent:()=>e3,FileMoveSearch:()=>e9,TeamSection:()=>te,TeamsDisplay:()=>tr,getCurrentFolderId:()=>e7,getTargetAttribute:()=>e5,isSubscribedLG:()=>e2});var a=r(848318),n=r(716544),o=r(445777),l=r(157907),i=r(805353),s=r.n(i),c=r(579020),d=r(818754),m=r(857188),u=r(493554),_=r(195507),p=r(653959),f=r(389191),g=r(182059),E=r(145015),b=r(32413),h=r(282424),v=r(473889),y=r(575492),w=r(166365),T=r(17755),I=r(442313),C=r(186323),S=r(57589),x=r(465766),k=r(404658),N=r(249913);function R(e){let t=(0,n.wA)(),r=a.useCallback(r=>{r.stopPropagation(),e.team.canEdit&&((0,c.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,S.SX)({where:k.Ah.FolderListView,team:{...(0,x.Ws)(e.team),canEdit:e.team.canEdit}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?a.createElement(N.f,{data_tooltip:(0,I.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:r,isBackgroundTransparent:e.isBackgroundTransparent}):null}var A=r(790355),O=r(8574),L=r(815268),F=r(449737),P=r(155651),D=r(890477),M=r(376780),B=r(746948),U=r(494955),$=r(995946),j=r(92537),W=r(739349),G=r(635547),V=r(834111),H=r(922030),z=r(616385),Y=r(399545),K=r(430330),q=r(503024),J=r(229424),X=r(972813);let Q=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,X.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var Z=r(781806),ee=r(314272),et=r(896966),er=r(757033),ea=r(26039);function en(e){return a.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},a.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},a.createElement(ea.MW,{type:ea.y1.DESIGN})),a.createElement(E.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,I.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var eo=r(564769),el=r(310681),ei=r(984033),es=r(551316),ec=r(361860),ed=r(8374),em=r(710665),eu=r(24096),e_=r(793954),ep=r(900169),ef=r(931516);let eg="32px",eE=(0,d.hG)(eg),eb=e=>e?.id||O.iK,eh=new e_.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),ev=(e,t,r,a,n,o)=>{if(e.orgId!==n&&t?.orgId!==n)return!1;if(!(0,l.k)().ps_benchmark){if((0,j.VA)(e))return e.id===o;if((0,j.B_)(e))return!1}return!(!e.canEdit||t&&(0,em.S$)(e,t,r)&&!(0,j.VA)(e))&&(!a||!!(0,em.XX)(t))},ey=(e,t,r)=>!(!(0,l.k)().ps_benchmark&&(0,em.dX)(e,t))&&(!r||!!(0,em.XX)(e)),ew=(e,t=!1)=>{let r=[],a=(0,j.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let o=e.folders[n],l=o.teamId?e.teams[o.teamId]:null;ev(o,l,e.user,t,e.orgId,a?.id)&&((0,j.VA)(o)&&(o={...o,path:(0,ef.Tb)()}),r.push(o))}),eh.set(r.map(t=>{let r=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},a={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription,...(0,ec.VI)(t)};return r?{folder:a,team:r}:{folder:a}}))},eT=({folders:e,roles:t,user:r,orgUsers:a,teams:n,orgId:o,implicitTeamRolesTeamIds:i},s,c,d)=>{let m=Object.create(null),u=0,_=0,p=(0,j.gj)(r&&r.id,e,t.byFolderId,r&&o?a[o][r.id]:null);for(let e in m[O.HK]=[],m[O.iK]=[],t.byTeamId)ey(n[e],r,s)&&(_++,m[e]=[]);i&&i.forEach(e=>{ey(n[e],r,s)&&(_++,m[e]=[])}),Object.keys(e).forEach(t=>{let a={...e[t]},i=ev(a,a.teamId?n[a.teamId]:null,r,s,o,p?.id);if((0,l.k)().file_move_show_all_resources){if(i&&(!c||a.subscription||(0,j.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?O.HK:eb(e)].push(a),u++}}else if(i&&(a.subscription||(0,j.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?O.HK:eb(e)].push(a),u++}});let f=u+_;return d(O.CU({indexCount:f})),d(O.xH()),m},eI=(e,t,r,a,n)=>{let o=Object.create(null),l=Object.create(null),i=[],s=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(l[e]=s,c+=8,e!==O.iK&&e!==O.HK){let t={type:z.b.NEW_FOLDER_TEAM,id:e,positionTop:c};i.push(t),c+=eE,s+=1}let r=t[e];s+=r.length,r.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(r);a&&n&&e===n&&d.forEach((e,t)=>{e.id===a&&(r.splice(t,1),r.unshift(e))}),r.forEach(e=>{let t={type:z.b.FOLDER_ROW,id:e.id,positionTop:c};c+=eE,i.push(t)}),o[e]=r,c+=9}),[o,l,i]},eC=(e,t,r)=>{let a=Object.create(null),n=Object.create(null),o=0,l=0,i=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,s=(0,j.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,i);for(let r of e){let e=r.item.folder,i=s&&e.id===s.id?0:r.score,c=e.teamId?t.teams[e.teamId]:null,d=s&&e.id===s.id?O.HK:eb(c);!(d in a)&&(a[d]=[],d!==O.iK&&d!==O.HK&&l++),a[d].push(e),null==n[d]?n[d]=i:n[d]=Math.min(n[d],i),o++}let c=o+l;return r(O.CU({indexCount:c})),[n,a]},eS=e=>(t,r)=>{if(t===O.iK)return 1;let a=e[t],n=e[r];return a?n&&a.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},ex=e=>(t,r)=>e[t]-e[r],ek=async(e,t,r,a,n=!1,i=!1,s,c,d,m)=>{var u,_;let p=e.getState(),f=null,g=null;t.type===z.A.FILE?(f=t.file.parent_org_id||null,g=t.file.team_id):t.type===z.A.REPO?(f=t.repo.parent_org_id||null,g=t.repo.team_id):t.type===z.A.FILE_IMPORT&&(f=t.orgId);let E=[];if(r){let e=eC(await eh.search(r),a,s);_=e[0],(E=Object.keys(u=e[1])).length&&E.sort(ex(_))}else u=eT(a,n,!!m,e.dispatch),a.user?(E.push(O.HK),E=E.concat((0,H.n$)(Object.values(a.teams),a.fileBrowserPreferences?.orderedTeamIds||[])),u[O.iK].length>0&&E.push(O.iK)):(E=Object.keys(u)).sort(eS(a.teams));let b=(()=>{switch(t.type){case z.A.FILE:return[t.file.editor_type];case z.A.REPO:return[M._Y.DESIGN];case z.A.FILE_IMPORT:return t.files.map(e=>(0,ep.NU)(e));default:(0,o.xb)(t)}})(),h=new Set(Object.values(u).flat().filter(e=>b.every(t=>!!t&&(0,ec.d6)(e,t))).map(e=>e.id)),v=E.filter(e=>{if(e===O.iK)return null===u||u[e].length>0;let t=a.teams;if(e!==O.HK){let r=t[e]?.orgId||null;if(f||r){if(r!==f)return!1}else if(g&&e===O.iK)return!1}return!(t[e]?.deletedAt||!(0,l.k)().ps_benchmark&&b.some(r=>(0,eu.XG)(t[e]?.currentTeamUser,r)))&&!!u[e]?.some(e=>h.has(e.id))}),[y,w,T]=eI(v,u,i,c,d);e.dispatch(O.OT({rows:T})),e.dispatch(O.t3({indexOffsets:w})),e.dispatch(O.Pb({foldersByTeamId:y})),e.dispatch(O.Mi({teamIds:v})),r||e.dispatch(O.w3({userTeamCount:v.length})),p.fileMove.isSearchResult!==i&&e.dispatch(O.EN({isSearchResult:i}));let I=O.HK in w&&T[0].type===z.b.FOLDER_ROW;r&&I?e.dispatch(O.Dp({indexAt:0})):r&&!I&&e.dispatch(O.Dp({indexAt:1}))},eN=(e,t,r,a=!1,n,o,l)=>{ek(e,t,"",r,a,!1,e.dispatch,o,l,n)},eR=(0,es.s)((e,t,r,a,n=!1)=>{ek(e,t,r,a,n,!!r,e.dispatch)},200),eA=(0,ed.nF)((e,t)=>{ew(t.userResources,t.modalData.isPublishing),eN(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eO=(0,ed.nF)((e,t)=>{eR(e,t.modalData,t.query,t.userResources),e.dispatch(O.hq(t))});var eL=r(141039),eF=r(579463),eP=r(280198),eD=r(110979),eM=r(802780),eB=r(296580),eU=r(832876),e$=r(785534);let ej="file_move--main--fz-As",eW="file_move--iconContainer--2ExyP",eG="file_move--folderRowWrapper--R5vx1",eV="file_move--folderRow--ZBYjx",eH="file_move--horizontalDivider--g43mL";var ez=r(367542);function eY(e){let t=(0,e$.S)(),r=(0,n.d4)(e=>e.user),[o,l]=(0,a.useState)(""),i=e.dispatch,[s,d]=(0,a.useState)(!0),m=(0,eF.I7)("starter_team_loophole_experiment_m0"),u=(0,eF.I7)("starter_team_loophole_experiment_m1");return a.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,c.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),o?(i((0,eB.KQ)({teamName:o,orgAccess:M.bU.PUBLIC,dontRedirect:!0})),d(!0),l("")):i(eP.s.error((0,I.t)("flash.team_name_cannot_be_empty")))}},a.createElement("div",{className:"file_move--teamCreateRow--GglhU file_move--folderRow--ZBYjx"},s?a.createElement("button",{type:"button",className:"file_move--rowButton--CSDNV",onClick:()=>{null!=r&&!e.orgId&&(0,eM.e5)({userId:r.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(i(F.Ce()),i(eD.Dw({openInNewTab:!eL.eD}))):(d(!1),i(O.xH()))}},a.createElement(w.B,{className:"file_move--newProjectIconFileMove--V9037 sidebar--icon--wMzUY",svg:ez.A}),a.createElement("span",{className:t?"file_move--newFolderNameCustomSections--OqBS9 sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"file_move--newFolderName--mHXUY sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},(0,I.tx)("file_browser.inline_team_creation.button_text"))):a.createElement(a.Fragment,null,a.createElement("div",{className:eW},a.createElement(eU.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),a.createElement("div",{className:"file_move--newTeamTitleText--cax1f file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa"},a.createElement(E.ks,{value:o||"",onChange:e=>{l(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--0kCF4",maxLength:e.teamNameMaxWidth,placeholder:(0,I.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eK=r(7452),eq=r(578888),eJ=r(992724),eX=r(90724),eQ=r(8108),eZ=r(391205),e0=r(763016);let e1=(0,d.hG)(eg),e4="FileMoveModalContent";function e5(e){return"folder"===e.view||(0,V.K)(e)?"_self":"_blank"}function e2(e){return!!e.subscription||(0,j.VA)(e)}function e7(e){switch(e.type){case z.A.FILE:let t=e.file;return t?.folder_id||null;case z.A.REPO:let r=e.repo;return r?.folder_id||null;case z.A.FILE_IMPORT:return null;default:(0,o.xb)(e)}}function e3(e){let t=null;e.type===z.A.FILE?t=e.file.parent_org_id||null:e.type===z.A.REPO?t=e.repo.parent_org_id||null:e.type===z.A.FILE_IMPORT&&(t=e.orgId);let r=(0,n.d4)(e=>e.orgById),o=t?r[t]:null,l=(0,n.d4)(e=>e.fileMove),i=(0,n.d4)(e=>!!e.creatingNewFolder),s=(0,n.d4)(e=>e.dropdownShown),d=(0,n.d4)(e=>e.selectedView),m=e7(e),p=(0,C.R)(),g=(0,u.Rs)(G.Y9I,{projectId:m},{enabled:!!m}),E=(0,u.Rs)(G.G0Y,{orgId:t});"errors"===E.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(E.errors));let b="loaded"===E.status&&("loaded"===g.status||e.type===z.A.FILE_IMPORT)?{fetched:E,transformed:function(e,t,r,a){let n={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},o={},l={},i={},s={byFolderId:{},byTeamId:{}},c=(0,B.Um)(e.currentUser),d=[],m=e=>{l[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{i[e.orgId]={[e.userId]:{...e,type:U.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||M.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||M.El.RESTRICTED,...a?{active_seat_type:(0,D.TA)(e.activeSeatTypeUpgrade?.billableProduct)}:void 0}},e.draftsProject&&(m(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[n.id]:(0,B.aU)(e.draftsProject.ownerRole,c,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:r}=e.team;o[t]={...e.team,canEdit:e.level>=$.e6.EDITOR,canAdmin:e.level>=$.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:(0,B.aU)(e,c,null,null)},r&&r.forEach(e=>m(e))});let u=e&&e.org?e.org:null;if(u){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&m(e)}u.teams&&u.teams.forEach(e=>{let{id:t,orgEditProjects:r}=e;if(!o[t]){let r=e.canEdit,a=e.canAdmin,n=e.licenseGroup;o[t]={...e,canEdit:r??!1,canAdmin:a??!1,licenseGroup:n||null},d.push(t)}let a=(0,_.oA)(r);a&&a.forEach(e=>{m(e)})})}return e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;o[t]||(o[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:B.aU(e,c,null,null)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(m(e.project),s.byFolderId[e.project.id]={[n.id]:(0,B.aU)(e,c,null,null)})}),e.currentUser.draftsProject&&(m(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[n.id]:(0,B.aU)(e.currentUser.draftsProject.ownerRole,c,null,null)})),{org:u,user:n,teams:o,folders:l,roles:s,orgUsers:i,orgId:r,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:d}}(E.data,e.type!==z.A.FILE_IMPORT?g.data:null,t,p)}:null,h=null===b?{loaded:!1}:{loaded:!0,userResources:b.transformed},v=null==m||null===b?null:b.transformed.folders[m],y=v?v.teamId:null,w=(0,n.wA)();a.useEffect(()=>{h.loaded&&w(eA({modalData:e,userResources:h.userResources,currentFolderId:m,currentFolderTeamId:y}))},[b&&b.fetched]);let T=[];if(h.loaded&&!t)for(let e in h.userResources.teams){let t=h.userResources.teams[e];"ok"!==t.subscription&&T.push(t.id)}let I=function(e){let[t,r]=a.useState((0,_.Xm)()),n=e.join(",");return a.useEffect(()=>{if(0===n.length){r((0,_.gB)({}));return}r((0,_.Xm)());let e=!1;return(async()=>{let t=await Q.getTeamRestrictionsLists({teamIds:n});e||r((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(T);if("loaded"===I.status&&h.loaded)for(let e in h.userResources.teams){let t=h.userResources.teams[e];I.data[e]&&(t.restrictionsList=I.data[e])}return(0,f.oY)("loaded"===E.status,e=>{(0,c.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),a.createElement(e6,{creatingNewFolder:i,currentOrg:o,dispatch:w,dropdownShown:s,fileMove:l,fileMoveData:e,isBillingRemodelEnabled:p,modalId:e._modalId,selectedView:d,userResources:h})}function e8(e){let t=null!=e.orgId,r=e.subscription===M.Qh.INCOMPLETE||e.subscription===M.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!r,pro_team:r,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}}class e6 extends a.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.setScrollContainer=e=>{this.scrollContainer=e},this.scrollContainerRef=a.createRef(),this.isMovePageToNewFile=(0,l.k)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(O.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(O.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e4);if((0,Z.NB)(t))return;let{userResources:r}=this.props.userResources;switch(e.keyCode){case m.Uz.ESCAPE:this.onClose();break;case m.Uz.UP_ARROW:this.props.dispatch(O.zv());break;case m.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(O.TL({upperBound:this.props.fileMove.indexCount}));break;case m.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===z.b.NEW_FOLDER_TEAM){let t=e.id,a=r.teams[t];this.props.dispatch((0,S.SX)({where:this.props.modalId.type,team:{...(0,x.Ws)(a),canEdit:!0}}))}else if(e.type===z.b.FOLDER_ROW){let t=r.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(F.Lo()):this.props.dispatch(F.Ce())},this.openOrgView=e=>{this.props.dispatch(A.$T({view:"org",orgId:e,orgViewTab:Y.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(F.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==z.A.FILE_IMPORT){var r,a,n;this.onClose();let t=this.props.fileMoveData.type===z.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;r=this.props.fileMoveData.page_id,a=e.id,n=this.state.newFileName,(0,et.ED)("startMovePagesJob","Send request to start move pages job."),er.Ay.post(`/api/files/${t}/move_pages`,{folder_id:a,page_ids:r,file_name:n}).catch(e=>{(0,et.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,et.ED)("startMovePagesJob","Move pages job successfully started.")});return}let o=this.props.fileMoveData;if(o.type===z.A.FILE&&o.file.is_team_template&&(0,j.VA)(e)){this.props.dispatch(F.to({type:ei.X0,data:{title:(0,I.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,I.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,I.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case z.A.FILE:this.moveFile(e,t.file);break;case z.A.REPO:this.moveRepo(e,t.repo);break;case z.A.FILE_IMPORT:for(let r of t.files)this.props.dispatch((0,W.z)({name:r.name,blob:new Blob([r.contents]),folderId:e.id}));break;default:(0,o.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(F.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[],repos:[t],folder:e,team:r,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,I.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===z.A.FILE_IMPORT)return 1===e.files.length?(0,I.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,I.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===z.A.FILE?e.file.name:e.repo.name;return(0,I.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===z.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(A.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})},this.renderViewerUpgradeAwarenessBanner=(e,t,r)=>{if(!this.props.userResources.loaded)return null;let{userResources:n}=this.props.userResources;if(!(0,j.VA)(t)||(0,j.VA)(r))return null;let o=this.props.fileMoveData.type===z.A.FILE?this.props.fileMoveData.fileKey:"";if(n.orgId){if(n.org?.k12GoogleOrg)return null;let t=n.orgUsers[n.orgId],r=t&&n.user?t[n.user.id]:null,l=!1;if(e===M._Y.DESIGN?l=r?.design_paid_status===M.El.STARTER:e===M._Y.WHITEBOARD&&(l=r?.whiteboard_paid_status===M.El.STARTER),l)return a.createElement(eo.n,{planName:this.props.currentOrg?.name,planType:K.O.ORG,planId:n.orgId,fileKey:o,upgradeReason:el.X.MOVE_DRAFT})}else{let t=r?.teamId,l=t?n.teams[t]:null;if(l&&e8(l).pro_team){let t=!1;if(e===M._Y.DESIGN?t=l.currentTeamUser?.designPaidStatus===M.Zf.STARTER:e===M._Y.WHITEBOARD&&(t=l.currentTeamUser?.whiteboardPaidStatus===M.Zf.STARTER),t)return a.createElement(eo.n,{planName:l.name,planType:K.O.TEAM,planId:l.id,fileKey:o,upgradeReason:el.X.MOVE_DRAFT})}}return null}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(O.qb({fileMove:this.props.fileMove})),this.props.dispatch(O.YG({isSearchFocused:!0})));let r=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==r){if(!this.scrollContainerRef.current||-1===r)return;let e=this.props.fileMove.folderRows[r].positionTop,t=this.scrollContainer.getScrollTop(),a=this.scrollContainerRef.current.clientHeight;e<t?0===r?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+e1>t+a&&(null!=this.props.fileMove.indexCount&&r===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-a+e1))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(O.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let r=e.folders[t.data.folderId];return r?a.createElement(tn,{folder:r,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,r;let n=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return a.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},a.createElement("div",{className:ej},a.createElement(v.a_,{className:"file_move--spinner--eDfAF"})));let{userResources:s}=this.props.userResources,c=e7(this.props.fileMoveData),d=null==c?null:s.folders[c],m=this.getFocusedFolder();e=this.isMovePageToNewFile?null!=m&&0!==this.state.newFileName.length:this.props.fileMoveData.type===z.A.FILE_IMPORT?null!=m:null!=m&&null!=d&&m.id!==d.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&!(0,l.k)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==z.A.FILE_IMPORT,p=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&(0,l.k)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==z.A.FILE_IMPORT,f=this.props.fileMoveData;switch(f.type){case z.A.FILE:t={fileKey:f.fileKey,fileTeamId:f.file&&f.file?.team_id,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=f.file.editor_type??M._Y.DESIGN;break;case z.A.REPO:t={repoId:f.repoId,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=M._Y.DESIGN;break;case z.A.FILE_IMPORT:t={},r=null;break;default:(0,o.xb)(f)}return a.createElement(P.fu,{name:J.e0.FILE_MOVE_MODAL,properties:t},a.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},_?a.createElement("div",{className:"file_move--mainZeroState--HWbCa file_move--main--fz-As",id:e4},a.createElement("div",{className:"file_move--zeroStateModal--yrur1"},a.createElement("div",{style:{paddingTop:"100px"}},(0,I.tx)("file_browser.file_move.zero_state")),this.props.currentOrg&&a.createElement("div",{className:T.s.pt20.$},a.createElement(E.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,I.t)("file_browser.file_move.view_workspaces"):(0,I.t)("file_browser.file_move.view_teams"))))):a.createElement("div",{className:ej,id:e4},this.isMovePageToNewFile?a.createElement(en,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):a.createElement(a.Fragment,null,r&&d&&m&&!this.props.isBillingRemodelEnabled&&this.renderViewerUpgradeAwarenessBanner(r,d,m),a.createElement("div",{className:"file_move--searchWrapperNew--fSvPz"},a.createElement(e9,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:s}))),a.createElement("div",{className:eH}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&a.createElement(a.Fragment,null,this.props.fileMoveData.displayBanner,a.createElement("div",{className:eH})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?a.createElement("div",{className:"file_move--emptyModal--o-ei-"},(0,I.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})):a.createElement(y.P,{width:n,className:"file_move--teamSectionBody--jIFZO",ref:this.setScrollContainer,scrollContainerRef:this.scrollContainerRef,onScroll:this.onScroll},a.createElement(tr,{componentMountedAt:this.componentMountedAt,creatingNewFolder:this.props.creatingNewFolder,currentFolderId:c,dispatch:this.props.dispatch,fileEditorType:r,fileMove:this.props.fileMove,folders:s.folders,indexOffsets:this.props.fileMove.indexOffsets,onDoubleClick:this.moveToSelectedFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,orgId:s.orgId,rolesByTeamId:s.roles.byTeamId,selectedView:this.props.selectedView,teamNameMaxWidth:n-88,teams:s.teams})),a.createElement("div",{className:"file_move--footer--pBClJ"},a.createElement(E.nR,{onClick:this.onClose},(0,I.tx)("modal.cancel")),a.createElement(E.vd,{disabled:!e,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,I.t)("file_browser.file_move.move")))),this.renderDropdown(),a.createElement(to,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e6.displayName="FileMoveModal";class e9 extends a.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(O.xH()),this.props.dispatch(O.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(O.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eO({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case m.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(O.TL({upperBound:this.props.folderCount}));break;case m.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(O.zv());break;case m.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eO({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(F.Ce()),this.props.dispatch(O.xH());break;case m.Uz.TAB:t&&t.blur(),this.props.dispatch(O.xH());break;case m.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=a.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return a.createElement("div",{className:"file_move--searchContainer--VZId9"},a.createElement("div",{className:eW},a.createElement(w.B,{svg:eX.A})),a.createElement(h.L,{ref:this.searchInputRef,placeholder:(0,I.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--No-wL":"file_move--searchInputEmptyNew--Gv7eB file_move--searchInputNew--No-wL",value:this.props.searchQuery,onChange:this.onChange}))}}function te(e){let{team:t,teamId:r}=e,[n,{onMouseOver:o,onMouseOut:l}]=(()=>{let[e,t]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>t(!0),[t]),n=(0,a.useCallback)(()=>t(!1),[t]);return(0,a.useMemo)(()=>[e,{onMouseOver:r,onMouseOut:n}],[e,r,n])})(),i=(0,u.Rs)(G.bel,{teamId:t?.id??""},{enabled:!!t?.id}),s=i.data?.team?.teamFileCounts||H.Cz,c=e.fileNotInTeam&&e.fileEditorType&&t&&!(0,H.aW)(t,{type:H.sK.ADD_FILE,editorType:e.fileEditorType,teamFileCounts:s});return a.createElement(a.Fragment,null,e.showTitle&&a.createElement("div",{className:"file_move--teamTitleNew--1hv9- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:o,onMouseLeave:l},(r===O.iK||r===O.HK)&&a.createElement("div",{className:eW},a.createElement(w.B,{svg:eZ.A})),a.createElement("div",{className:"file_move--teamTitleRow--hMU87"},a.createElement("div",{className:"file_move--teamName--Jmsoa"},a.createElement("div",{className:"file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},r===O.iK||r===O.HK?(0,I.t)("file_browser.shared_projects"):t.name),c&&a.createElement("div",{className:"file_move--warningIcon--MVFCa"},a.createElement(w.B,{svg:eq.A,"data-tooltip-type":q.Ib.TEXT,"data-tooltip":(0,I.t)("file_browser.file_move.paywall_team_tooltip")}))),n&&t&&!c&&a.createElement("div",{className:"file_move--newProjButton--7b5Xq"},a.createElement(R,{team:t,isBackgroundTransparent:!0,trackingContextName:J.e0.FILE_MOVE_MODAL})))))}function tt(e){let t=(0,a.useRef)(null),[r,o]=(0,a.useState)(!1),l=(0,n.wA)();return(0,a.useEffect)(()=>{!r&&e.isTeamNew&&t.current&&e.hasFolderSection&&(l(O.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),o(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,r,t,l]),a.createElement("div",{className:e.className,ref:t},e.children)}function tr(e){let{fileMove:t,teams:r,selectedView:n}=e,o=Object.values(r).map(e=>e8(e));return a.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{let o=n!==O.HK,i=n!==O.iK&&n!==O.HK,s=(t.foldersByTeamId?.[n]||[]).length>0;if(!(o||i||s))return null;let c=r[n];if(!c&&!(n===O.iK||n===O.HK)||(0,l.k)().ps_benchmark&&n===O.HK&&!e.orgId)return null;let d=c?new Date(r[n].createdAt):void 0,m=d&&d>e.componentMountedAt,u=t.indexOffsets[n]+1,_=!!e.currentFolderId&&n!==e.folders[e.currentFolderId]?.teamId;return a.createElement(tt,{className:"file_move--teamSection--mI5yE",isTeamNew:m,firstFolderFocusedIndex:u,hasFolderSection:s,key:`Team Section ${n}`},a.createElement(te,{team:c,teamId:n,showTitle:o,isACustomTeam:i,fileNotInTeam:_,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),s&&(t.foldersByTeamId[n]||[]).map((r,o)=>{let l=o+e.indexOffsets[n];return i&&(l+=1),a.createElement(ta,{key:`${r.teamId} ${r.id}`,currentFolderId:e.currentFolderId,focusedFolderIndex:t.focusedIndex,folder:r,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:l,isSearchingFolders:!!t.isSearchResult,onDoubleClick:e.onDoubleClick,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:J.e0.FILE_MOVE_MODAL})}))}),!e.orgId&&a.createElement(eY,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:J.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:o,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}function ta(e){let t=(0,n.wA)(),r=(0,p.gY)(S.mq),o=(a,n)=>{(0,c.sx)("Rename Folder",{trackingContext:e.trackingContextName}),r({folderId:a.id,folderName:n}),t(O.Mn())},i=(t,r)=>{e.onFileMoveContextMenu(r,t)},s=e.folderBeingRenamed===e.folder.id,d=e.focusedFolderIndex===e.index,m=e.folderBeingRenamed?eG:d?"file_move--folderRowWrapperFocusedNew--XWjyz file_move--folderRowWrapper--R5vx1":eG,{folder:u}=e;return a.createElement("div",{className:m,onMouseDown:()=>{t(O.Dp({indexAt:e.index}))},key:`${u.teamId} ${u.id}`,onContextMenu:e=>i(u,e),onDoubleClick:()=>{s||e.onDoubleClick()}},s?a.createElement("div",{className:eV},a.createElement(b.p,{key:`input ${u.id}`,className:"file_move--renameInput--WL-5T",placeholderValue:(0,j.CI)(u),submit:e=>o(u,e),cancel:()=>{t(O.Mn())}})):((t,r)=>{let n=e2(t)&&e.isSearchingFolders,o=e.focusedFolderIndex&&e.focusedFolderIndex>-1?r:e.currentFolderId===t.id,i=(0,l.k)().ps_benchmark&&(0,j.jd)(t)?e0.A:eJ.A;return a.createElement("div",{className:eV},a.createElement("div",{className:eW},a.createElement(w.B,{svg:o?eK.A:i})),a.createElement("span",{className:"file_move--folderName--YbDNz ellipsis--ellipsis--Tjyfa"},(0,j.CI)(t)),a.createElement("div",{className:eW},n&&a.createElement(w.B,{svg:eQ.A})))})(u,d))}e9.displayName="FileMoveSearch";class tn extends a.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(O.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,r=e5(this.props.selectedView);return a.createElement(g.ms,{className:"file_move--fileMoveContextMenu--47Rjw",style:this.props.dropdownShown.data.position},a.createElement(g.c$,{disabled:!t,onClick:this.renameFolder},(0,I.tx)("file_browser.file_move.context_menu_rename")),a.createElement(g.wv,null),a.createElement(g.c$,{href:(0,k.EE)(e.id,e.orgId),target:r},(0,I.tx)("file_browser.file_move.context_menu_show_in_files")))}}tn.displayName="FileMoveDropdown";class to extends a.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return a.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}to.displayName="FileMoveHiddenDiv"},574133:(e,t,r)=>{r.r(t),r.d(t,{MoveDraftToProjectInterstitialModal:()=>b});var a=r(848318),n=r(716544),o=r(157907),l=r(536384),i=r.n(l),s=r(991371),c=r(145015),d=r(442313),m=r(496431),u=r(449737),_=r(405866),p=r(155651),f=r(117592),g=r(289198),E=r(871493);function b(e){let t=(0,n.wA)(),r=(0,o.k)().ps_benchmark,l=()=>{t(_.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return a.createElement(p.fu,{name:"MoveDraftToProjectInterstitialModal"},a.createElement(f.aF,{title:r?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:g.wN,className:g.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},a.createElement(s.Jn,{className:i()(E.J_,E.BQ),onClick:l}),a.createElement("span",null,r?(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"):(0,d.tx)("file_browser.draft_to_project.body.seat_rename"),a.createElement("br",null)),a.createElement("div",{className:i()(g.v0,g.hF)},a.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},a.createElement(c.tM,null,(0,d.tx)("general.learn_more"))),a.createElement(c.vd,{className:g.pL,onClick:()=>{l(),(0,m.h)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData,e.bannerToDisplay)}},(0,d.tx)("file_browser.draft_to_project.move")))))}},697411:(e,t,r)=>{r.d(t,{cx:()=>o});var a=r(41015),n=r(729411);r(17178);let o=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(6896),r.e(9727),r.e(7509),r.e(3663),r.e(441),r.e(7476),r.e(3427),r.e(7054),r.e(214),r.e(5974),r.e(8355),r.e(9567),r.e(6739),r.e(3455),r.e(6514),r.e(9215),r.e(1292),r.e(2111),r.e(6436),r.e(7824),r.e(785),r.e(2525),r.e(4279),r.e(2308),r.e(4297),r.e(1092),r.e(1591),r.e(8204),r.e(3576),r.e(8187),r.e(9890),r.e(8717)]).then(r.bind(r,17178)).then(e=>e.default),{loading:()=>null,error:a.H4.NONE,componentName:"FileBrowserOverlays"})},822273:(e,t,r)=>{r.r(t),r.d(t,{EduUpgradeModal:()=>E});var a=r(848318),n=r(716544),o=r(145015),l=r(442313),i=r(651631),s=r(61485),c=r(110979),d=r(449737),m=r(194546),u=r(155651),_=r(841747),p=r(710665),f=r(314272);function g({handleClose:e}){let t=(0,n.wA)(),r=a.useCallback(()=>{e(),t((0,c.Dw)({isEduTeam:!0}))},[t,e]);return a.createElement(o.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:r,trusted:!0},(0,l.tx)("edu.or_create_a_new_team"))}function E(){let e=(0,_.FC)(),t=(0,n.wA)(),r=(0,s.sx)(),E=a.useCallback(()=>{t(d.Ce())},[t]),b=a.useCallback(e=>{E(),t(m.Vm({teamId:e.id}))},[t,E]),h=a.useMemo(()=>(0,p.Kg)(e),[e]);return a.useLayoutEffect(()=>{0!==h.length||r||(E(),t((0,c.Dw)({isEduTeam:!0})))},[t,h.length,E,r]),a.createElement(u.fu,{name:"Edu Team Upgrade Modal"},a.createElement(f.XV,{title:(0,l.t)("edu.upgrade_teams.headline"),onClose:E},a.createElement("div",{className:"edu_upgrade_modal--container--i-0VV"},a.createElement("p",{className:"edu_upgrade_modal--bodyText--BXu7I"},(0,l.tx)("edu.upgrade_teams.body",{link:a.createElement(o.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0},(0,l.tx)("edu.upgrade_teams.body_link_text"))}),h.length>1&&a.createElement(a.Fragment,null," ",(0,l.tx)("edu.upgrade_teams.body_multiple_teams"))),a.createElement(i.I,{eligibleTeams:h,selectTeam:b,showEditorCount:!1,customUpgradeText:(0,l.t)("general.next")}),!r&&a.createElement(g,{handleClose:E}))))}},794315:(e,t,r)=>{r.r(t),r.d(t,{DowngradeSurveyModal:()=>L,DowngradeSurveyModalAdmin:()=>F,DowngradeSurveyModalLeaveTeam:()=>P});var a=r(848318),n=r(716544),o=r(502255),l=r(442313),i=r(106067),s=r(579020),c=r(145015),d=r(449737),m=r(834996),u=r(314272);function _({id:e,label:t,children:r,onChange:n}){let[o,l]=a.useState(!1);return a.createElement("fieldset",{name:e},a.createElement("div",{className:"survey_option--inputContainer---R-Fh"},a.createElement(c.tB,{id:e,checked:o,onChange:e=>{l(!o),n&&n(e)}}),a.createElement("label",{className:"survey_option--label--NqXEk",htmlFor:e},t)),o&&r&&a.createElement("div",{className:"survey_option--subContainer--Omjmy"},r))}var p=r(425642),f=r(536384),g=r.n(f),E=r(182059),b=r(963570),h=r(678290);function v(e){let[t,r]=a.useState(""),n=e=>{r(e.target.value)};return e.textarea?a.createElement(h.v,{value:t,onChange:n,...e}):a.createElement(c.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let y="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",w="downgrade_survey_modal_component_v2--researchContact--qGc3V",T="downgrade_survey_modal_component_v2--hiddenInput--04h5p",I="downgrade_survey_modal_component_v2--radio--xvUsz",C=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function S({id:e,shorthand:t}){return a.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln"},a.createElement("p",null,(0,l.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)),a.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy"},t))}let x=[{id:"too_expensive",value:"Too expensive",children:a.createElement(function(){let e="other_currency",[t,r]=a.useState(""),n=e=>{r(e.currentTarget.id)},o=[...C.map(({id:e,shorthand:t})=>a.createElement(E.c$,{id:e,key:e,onClick:n},a.createElement(S,{id:e,shorthand:t}))),a.createElement(E.wv,{key:"separator"}),a.createElement(E.c$,{id:e,onClick:n,key:e},(0,l.tx)("downgrade_survey.survey_option.too_expensive.other_currency"))];return a.createElement("fieldset",null,a.createElement(_,{id:"currency_conversion",label:(0,l.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},a.createElement("fieldset",{className:g()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e})},a.createElement(E.Ve,{label:t.length?(0,l.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,l.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:o}),a.createElement("input",{id:"currency",className:T,readOnly:!0,value:t}),t===e&&a.createElement(v,{id:"currency_input",placeholder:(0,l.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),r=t.find(e=>"currency_conversion"===e.id),a=t.find(e=>"currency"===e.id),n=a?.value,o=t.find(e=>"currency_input"===e.id),l=o?.value||n||void 0;return{currencyConversion:r?.checked,currency:l}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:a.createElement(function(){return a.createElement("fieldset",null,a.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO"},(0,l.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")),a.createElement(v,{id:"other_products",placeholder:(0,l.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:a.createElement(function(){let[e,t]=a.useState("");return a.createElement(a.Fragment,null,a.createElement(b.z,{value:e,onChange:e=>t(e)},a.createElement(b.Z,{className:I,value:"Starter plan"},(0,l.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")),a.createElement(b.Z,{className:I,value:"Organization plan"},(0,l.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")),a.createElement(b.Z,{className:I,value:"Enterprise plan"},(0,l.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")),a.createElement(b.Z,{className:I,value:"Education plan"},(0,l.tx)("downgrade_survey.survey_option.switching_plans.education_plan"))),a.createElement("input",{id:"new_plan",className:T,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],k={id:"other",value:"Other",children:a.createElement(function(){return a.createElement(v,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,l.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},N=(0,p.k4)(x).concat(k);var R=r(639088),A=r(249555);function O({cancelText:e,onSubmit:t}){let[r,o]=a.useState([]),i=e=>{let{id:t}=e.currentTarget;r.includes(t)?o(r.filter(e=>e!==t)):o([...r,t])},p=(0,n.wA)(),f=(0,m._6)().teamId,g=()=>{p(d.Ce())};return a.createElement(u.XV,{title:(0,l.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:g,dataTestId:"downgrade-survey-modal"},a.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:e=>{e.preventDefault();let a=Array.from(e.currentTarget.getElementsByClassName(y)[0].getElementsByTagName("fieldset")),n=r.map(e=>{let t=a.find(t=>t.name===e),{value:r,getSubOptions:n}=N.find(t=>t.id===e);return{reason:r,...n&&n(t)}}),o=e.currentTarget.getElementsByClassName(w)[0].getElementsByTagName("input")[0].checked;(0,s.sx)("Team Downgrade Survey",{teamId:f,canContact:o,selectedOptions:n.map(e=>JSON.stringify(e))}),t?.(),p(d.Ce())}},a.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF"},a.createElement("fieldset",{className:y},a.createElement("legend",null,(0,l.tx)("downgrade_survey.what_made_you_cancel_your_plan")),!r.length&&a.createElement("p",{className:A.Q},(0,l.tx)("downgrade_survey.select_one")),N.map(({id:e,children:t})=>a.createElement(_,{id:e,label:(0,l.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:i},t))),a.createElement("fieldset",{className:w},a.createElement("legend",null,(0,l.tx)("downgrade_survey.research_contact")),a.createElement(_,{id:"research",label:(0,l.t)("downgrade_survey.allow_research_contact")}))),a.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH"},a.createElement(c.tM,{className:R.Lu,type:"button",onClick:g},e),a.createElement(c.vd,{type:"submit",disabled:!r.length,className:R.pL,autoFocus:!1},(0,l.tx)("downgrade_survey.continue")))))}function L({context:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.modalShown?.data.teamId),s=(0,n.d4)(e=>e.teams[r]),c="admin"===e?(0,l.t)("downgrade_survey.go_back"):(0,l.t)("downgrade_survey.do_not_leave_team"),d="leave-team"===e?()=>{(0,o.us)("User entered leave team survey"),t(i.yH({team:s,userInitiated:!0}))}:void 0;return a.createElement(O,{cancelText:c,onSubmit:d})}function F(){return a.createElement(L,{context:"admin"})}function P(){return a.createElement(L,{context:"leave-team"})}},456785:(e,t,r)=>{r.r(t),r.d(t,{FolderBatchAbandonedDraftDeleteConfirmModal:()=>m});var a=r(848318),n=r(716544),o=r(579020),l=r(653959),i=r(280198),s=r(442313),c=r(57589),d=r(117592);function m({folders:e}){let t=(0,n.wA)(),r=(0,l.gY)(c.U),m=e=>{e.forEach(e=>{(0,o.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),r({folderIds:e.map(e=>e.id)}).catch(()=>{t(i.s.error((0,s.t)("file_browser.api_folder.error_when_deleting")))})};return a.createElement(d.Rw,{confirmationTitle:(0,s.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,s.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{m(e)}},(0,s.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length}))}},60370:(e,t,r)=>{r.r(t),r.d(t,{FolderMoveModal:()=>U});var a=r(848318),n=r(716544);r(629829);var o=r(536384),l=r.n(o),i=r(44509),s=r(493554),c=r(195507),d=r(145015),m=r(482675),u=r(575492),_=r(166365),p=r(442313),f=r(249913),g=r(449737),E=r(155651),b=r(592845),h=r(713547),v=r(254310),y=r(57589),w=r(841747),T=r(635547),I=r(746948),C=r(694253),S=r(920963),x=r(183905),k=r(980753),N=r(229424),R=r(314272),A=r(184353),O=r(330328);let L="folder_move--iconContainer--nXjIY file_move--iconContainer--2ExyP",F="folder_move--warningContainer--MXpOB";var P=r(555288),D=r(7452),M=r(663128),B=r(254490);function U(e){let t,r;let o=(0,n.wA)(),l=(0,O.sy)(),f=(0,n.d4)(e=>e.currentUserOrgId),h=(0,n.d4)(e=>null!=f?e.orgById[f]:null),v=(0,s.Rs)(T.AbW,{currentOrgId:f,currentTeamId:null,folderId:e.folderId}),C=(0,n.d4)(t=>t.folders[e.folderId]),[L,D]=(0,a.useState)(void 0),[B,U]=(0,a.useState)(void 0),W="loaded"===v.status?{...v.data.currentUser}:null,G=b.h.useTrackingContext({trigger:S.b.FOLDER_MOVE_MODAL}),V={},H=[],z=(0,w.FC)();if(W){let e=[];(W.teamRoles??[]).forEach(t=>{if(t.team?.orgId===f&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===C?.team_id){r=t;return}e.push(t),t.team?.workspace?.id?(V[t.team.workspace?.id]=V[t.team.workspace?.id]??[],V[t.team.workspace?.id].push(t)):t.team&&H.push(t)}});let a=W.baseOrgUser?.workspaceUsers;t=a?.find(e=>e?.isMainWorkspace)?.workspaceId}let Y=()=>{o(g.Ce())},K=(e,t)=>{D(e),U(t)},q=(0,a.useCallback)(()=>{if(L&&!B){let e=(0,x.bL)(L?.id,L.orgId);i.Ay.redirect(e,"_blank")}},[L,B]),J=(0,a.useCallback)(e=>{if(!h)return;let t={workspaceId:e??k.O,onSubmitReturnToPrevView:!1};o(g.to({type:A.Uc,data:t}))},[h,o]),X=e=>a.createElement(a.Fragment,null,e.map(e=>a.createElement(j,{team:e.team,key:e.id,selectedTeamId:L?.id,onSelectTeam:K,permissionsState:z}))),Q=e=>a.createElement(j,{team:e.team,key:e.id,selectedTeamId:L?.id,isCurrentTeam:!0,permissionsState:z,onSelectTeam:K});if(!C)return null;let Z=Object.keys(V).length>0,ee=L&&r&&r.team.id===L.id;return a.createElement(E.fu,{name:N.e0.FILE_MOVE_MODAL,properties:G},a.createElement(R.XV,{title:(0,p.t)("file_browser.folder_move.modal_header",{folderName:C.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:Y,truncateTitleText:!0},a.createElement("div",{className:"folder_move--main--TkW9w file_move--main--fz-As"},a.createElement(u.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--jIFZO"},a.createElement("div",{className:"folder_move--teamSection---S02k file_move--teamSection--mI5yE"},Z?(function(e,t,r){let a=t?.team?.workspace?.id??null,n=[a];return r&&r!==a&&e[r]&&n.push(r),Object.keys(e).filter(e=>e!==a&&e!==r).sort((t,r)=>{let a=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",n=e[r][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return a<n?-1:a>n?1:0}).forEach(e=>{n.push(e)}),null!==a&&n.push(null),n})(V,r,t).map(e=>{if(null===e){if(H.length>0)return a.createElement(a.Fragment,{key:"other_teams_key"},a.createElement($,{headerName:(0,p.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:J,workspaceId:null}),null!=r&&r.team?.workspace?.id==null&&Q(r),X(H))}else if(V[e]){let t=V[e],n=t?t[0].team?.workspace??null:null;return a.createElement(a.Fragment,{key:e},a.createElement($,{headerName:n?.name??"",onCreateNewTeamClick:J,workspaceId:n?.id??null}),null!=r&&r.team?.workspace?.id===e&&Q(r),X(t))}}):a.createElement(a.Fragment,null,h&&a.createElement($,{key:"org_teams_header",headerName:h.name,onCreateNewTeamClick:J,workspaceId:null}),null!=r&&Q(r),X(H)))),a.createElement("div",{className:"x78zum5 xdt5ytf xv42yna"},L&&!B&&a.createElement("div",{className:F},a.createElement("div",{className:"folder_move--warningBanner--Tnfff"},a.createElement("div",{className:"folder_move--warningSectionIcon--gOcDL"},a.createElement(_.B,{svg:M.A})),a.createElement("div",null,(0,p.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),a.createElement("div",{className:"folder_move--warningCTALink--f74xo",onClick:q,role:"link",tabIndex:0},(0,p.tx)("file_browser.folder_move.view_team"),a.createElement("div",{className:"folder_move--arrowRightIcon--xIk7X"},a.createElement(_.B,{svg:P.A})))))),l&&!h&&L&&B&&"loaded"===v.status&&v.data?.project?.hasPublishedSite.status==="loaded"&&(0,c.oA)(v.data?.project?.hasPublishedSite)&&a.createElement("div",{className:F},a.createElement(m._,{dataTestId:"project-move-site-unpublish-banner",color:m.S.ERROR,text:(0,p.t)("file_browser.file_move.sites_unpublished_on_project_move_warning")})),a.createElement("div",{className:"folder_move--footer--jcEsZ file_move--footer--pBClJ"},a.createElement(d.nR,{onClick:Y},(0,p.tx)("modal.cancel")),a.createElement(d.vd,{onClick:()=>{null!=L&&C?o((0,y.Nr)({folder:(0,I.Bp)(C),team:L,onSuccess:Y})):Y()},disabled:void 0===L||!B||!!ee},(0,p.tx)("file_browser.folder_move.move_project")))))))}function $(e){let[t,r]=(0,a.useState)(!1);return a.createElement("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>r(!0),onMouseLeave:()=>r(!1)},a.createElement("div",null,e.headerName),t&&a.createElement(f.f,{data_tooltip:(0,p.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,p.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function j(e){let{team:t}=e,r=!!t&&(0,C.canEditTeam)(t.id,e.permissionsState),n=t?.canEdit??!1,o=(0,v.u8)({label:v.A5.TeamRow.userCanEditTeam,oldValue:r,newValue:n,enableFullRead:(0,h.DQ)(h.Pw.GROUP_3),oldValueReady:null!==t,newValueReady:null!==t,maxReports:5});if(null==t)return a.createElement(a.Fragment,null);let i=l()(["folder_move--teamTitle--PwZow file_move--teamTitle--1IL8S text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":""]);return a.createElement("div",{className:i,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,o)},role:"button",tabIndex:0},a.createElement("div",{className:L},a.createElement(_.B,{svg:e.isCurrentTeam?D.A:B.A})),a.createElement("div",{className:"folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--hMU87"},a.createElement("div",{className:"folder_move--teamName--fvmi0 file_move--teamName--Jmsoa"},t.name)),e.selectedTeamId===t.id&&!o&&a.createElement("div",{className:L},a.createElement(_.B,{svg:M.A})))}},496331:(e,t,r)=>{r.r(t),r.d(t,{FolderPermanentlyDeleteConfirmModal:()=>b});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(731755),s=r(356505),c=r(579020),d=r(653959),m=r(17755),u=r(280198),_=r(442313),p=r(572977),f=r(57589),g=r(92537),E=r(667360);function b(e){var t;let r=(0,n.wA)(),b=o.hS(e),h=(0,d.gY)(f.Q4),v=(0,E.x)(e.folder.id,!0),y=a.createElement("span",{className:m.s.fontBold.$},(0,g.CI)(e.folder)),w=(0,_.t)("file_browser.delete_project.delete_project"),T="loaded"!==v.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:y}):0===(t=v.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:y}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:y,numFiles:(0,p.t)(t)}),I="loaded"===v.status&&0===v.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return a.createElement(l.bL,{manager:b,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,_.tx)("file_browser.trash_project.delete_project_forever"))),a.createElement(i.nB,null,a.createElement("div",{className:m.s.mb16.$},T),a.createElement("div",null,I)),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,_.tx)("modal.cancel")),a.createElement(s.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),h({folderId:e.folder.id}).catch(()=>{r(u.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()}},w)))))}},557462:(e,t,r)=>{r.r(t),r.d(t,{FolderTrashConfirmModal:()=>I});var a=r(848318),n=r(716544),o=r(445777),l=r(776402),i=r(731755),s=r(468189),c=r(777611),d=r(420235),m=r(356505),u=r(579020),_=r(653959),p=r(482675),f=r(17755),g=r(280198),E=r(442313),b=r(106483),h=r(572977),v=r(449737),y=r(57589),w=r(92537),T=r(667360);function I(e){let{folder:t}=e,r=l.hS(e),n=(0,T.N)(t.id),o="loaded"===n.status?a.createElement(C,{...e,numFiles:n.data.fileCount,hasPublishedSite:n.data.publishedSiteCount>0}):a.createElement(i.nB,{padding:{top:"1rem",bottom:"1rem"}},a.createElement("div",{className:f.s.flex.justifyCenter.$,"data-testid":"loading-spinner-container"},a.createElement(s.k,null)));return a.createElement(c.bL,{manager:r,width:"lg",height:"fixed"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,E.t)("file_browser.trash_project.move_project_to_trash"))),o))}function C(e){let t=(0,n.wA)(),r=(0,d.X)(),{folder:l,numFiles:s,hasPublishedSite:c}=e,T=a.createElement("span",{className:f.s.fontBold.$},(0,E.tx)("file_browser.tool_bar.trash")),I=(e=>{switch(e){case 0:return(0,E.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,E.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,E.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,h.t)(e)})}})(s),C=a.createElement("span",{className:f.s.fontBold.$},(0,w.CI)(l)),S=(e=>{switch(e){case 0:return(0,E.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:C});case 1:return(0,E.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:C});default:return(0,E.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:C,numFiles:(0,h.t)(e)})}})(s),x=(0,_.gY)(y.Ct),k=e=>{(0,u.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),x({folderId:e.id}).catch(()=>{t(g.s.error((0,E.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t(v.Ce())};return a.createElement(a.Fragment,null,a.createElement(i.nB,null,e.folderState&&a.createElement("div",{className:f.s.mb12.$},a.createElement(p._,{dataTestId:"trash-folder-warning-banner",color:p.S.ERROR,text:(e=>{switch(e){case b.cm.PENDING_ASSET_TRANSFER:return(0,E.tx)("file_browser.trash_project.warning.pending_asset_transfer");case b.cm.PENDING_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.pending_resource_connection");case b.cm.ACTIVE_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.active_resource_connection");default:(0,o.xb)(e)}})(e.folderState)})),a.createElement("div",{className:f.s.mb12.$},S),c&&a.createElement("div",{className:f.s.mb12.$},(0,E.tx)("file_browser.trash_project.published_site_warning")),a.createElement("div",null,(0,E.tx)("file_browser.trash_project.description_restore",{trashStyled:T}))),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(m.$n,{variant:"secondary",onClick:()=>{e.onClose()},ref:r},(0,E.t)("modal.cancel")),a.createElement(m.$n,{variant:"destructive",onClick:()=>k(l)},I))))}},238669:(e,t,r)=>{r.r(t),r.d(t,{ChangeAnnualPlanModal:()=>A,ChangeAnnualPlanRow:()=>R,ConfirmCancelAnnualPlanModal:()=>O});var a=r(848318),n=r(716544),o=r(379338),l=r(653959),i=r(145015),s=r(280198),c=r(442313),d=r(8509),m=r(449737),u=r(194546),_=r(155651),p=r(95646),f=r(171063),g=r(595919),E=r(871117),b=r(661780),h=r(376780),v=r(511231),y=r(710665),w=r(572699),T=r(668249),I=r(922030),C=r(993421),S=r(143983),x=r(117592),k=r(479313);function N({currency:e,teamId:t}){let r=g.Oq.exclude([f.ud.DEV_MODE]).dict(t=>({currency:e,billableProductKey:t,tier:C.Ju.PRO,renewalTerm:C.IX.MONTH,unit:C.IX.MONTH})),a=(0,p.ic)(r,{planParentId:t,planType:h.OL.TEAM},p.Fq.ADMIN_SETTINGS),[n]=(0,l.mI)(a);if(null===n.data)throw Error("Price data is null");return n.data}function R(e){return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.number_of_editors.seat_rename",{productType:(0,S.E)((0,E.vc)(e.editorType))}),a.createElement(i.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:y.m,value:e.tempNumEditors,onChange:t=>{let r=t.target.value;e.setTempEditorsValue(parseInt(r))}}))}function A(){let e=(0,I.cD)(),t=(0,b.TA)(),r=(0,n.d4)(e=>e.teamBilling.summary),l=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),i=N({currency:r.currency,teamId:e}),p=()=>{try{if(r?.annual_subscription)return r?.annual_subscription||void 0;return}catch(e){return}},g=p(),w=g?.whiteboard_quantity||0,[T,C]=a.useState(w),[A,O]=a.useState(g?.design_quantity||g?.quantity||0),L=(0,n.wA)(),F=(t,r)=>{L(u.MV({teamId:e,annualQuantity:t,annualWhiteboardQuantity:r}))},P=!!g?.trial_end&&!!(0,y.mt)(g.trial_end),D=g?(0,c.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(g.current_period_end)}):(0,c.t)("change_annual_plan_modal.unknown_start_date"),M=P?(0,c.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:D}):(0,c.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:D});return a.createElement(_.fu,{name:"Change Annual Plan Modal",properties:{teamId:e,userId:t??void 0}},a.createElement(x.Rw,{confirmationTitle:M,confirmText:(0,c.t)("change_annual_plan_modal.confirm_text"),onConfirm:()=>{isNaN(A)||isNaN(T)||A<0||T<0||0===A&&0===T?L(s.s.error((0,c.t)("change_annual_plan_modal.invalid_seats_error"))):A+T>y.m?(L(s.s.error(a.createElement("div",null,(0,c.tx)("change_annual_plan_modal.contact_support_to_purchase_more_seats_error",{maxAnnualSubscriptions:y.m,contactSupportLink:a.createElement("a",{href:`mailto:${(0,o.W4)()}`},(0,c.t)("change_annual_plan_modal.contact_support_link"))})))),O(p()?.design_quantity||p()?.quantity||0),C(p()?.whiteboard_quantity||0)):T+A>100?L(m.to({type:d.Mv,data:{numAnnualEditors:A+T,onConfirm:()=>{F(A,T)}}})):L(u.MV({teamId:e,annualQuantity:A,annualWhiteboardQuantity:T}))},onCancel:()=>{L(m.Ce())},dontClose:!0,disableConfirm:l,trackedConfirmationProperties:{teamId:e,userId:t??void 0,monthly_quantity_design:A,monthly_quantity_figjam:T}},a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"),a.createElement("br",null),a.createElement("br",null),(()=>{let e=r.currency,t=new v.vr(e),n=i[f.ud.DESIGN].amount,o=i[f.ud.FIGJAM].amount;return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.instructions.seat_rename",{monthlyEditorCost:t.formatMoney(n,{showCents:!1}),editorProduct:(0,S.E)(E.Te.DESIGN),monthlyFigjamCost:t.formatMoney(o,{showCents:!1}),figJamProduct:(0,S.E)(E.Te.WHITEBOARD)}))})(),a.createElement("br",null),a.createElement("br",null),a.createElement(R,{editorType:h._Y.DESIGN,tempNumEditors:A,setTempEditorsValue:e=>O(e),dispatch:L}),a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement(R,{editorType:h._Y.WHITEBOARD,tempNumEditors:T,setTempEditorsValue:e=>C(e),dispatch:L})),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{className:"change_annual_plan_modal--link--n0jw2 blue_link--blueLink--9rlnd",onClick:()=>{L(m.to({type:k.V}))}},P?(0,c.t)("change_annual_plan_modal.remove_annual_plan"):(0,c.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}function O(){let e=(0,w.NP)({component:"ConfirmCancelAnnualPlanModal",migrationGroup:T.L.GROUP_5});if(!e)throw Error("Team is undefined");let t=(0,n.d4)(e=>e.teamBilling.summary.currency),r=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),o=N({currency:t,teamId:e}),l=(0,n.wA)(),i=new v.vr(t),s=o[f.ud.DESIGN].amount,d=o[f.ud.FIGJAM].amount;return a.createElement(x.Rw,{title:(0,c.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,c.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,c.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{l(u.MV({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{l(m.to({type:k.X,data:{}}))},dontClose:!0,disableConfirm:r},a.createElement("br",null),a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_text.seat_rename",{monthlyEditorCost:i.formatMoney(s),monthlyFigJamEditorCost:i.formatMoney(d)})),a.createElement("br",null),a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_subtext"))}},339857:(e,t,r)=>{r.r(t),r.d(t,{TeamChangePaymentModal:()=>y});var a=r(848318),n=r(716544),o=r(157907),l=r(536384),i=r.n(l),s=r(446934),c=r(145015),d=r(473889),m=r(17755),u=r(442313),_=r(449737),p=r(903579),f=r(834111),g=r(977508),E=r(314272),b=r(93151),h=r(559083);function v({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:l,isReactivating:v,canSeeBillingAddressExp:y}){let w=v?(0,u.t)("change_payment.success.successfully_reactivated_subscription"):(0,u.t)("change_payment.success.successfully_updated_your_payment_method"),T=(0,n.d4)(e=>(0,f.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:g.Iv.SETTINGS})),{createPaymentElement:I,unmountPaymentElement:C,savePayment:S,billingAddress:x,updateBillingAddress:k,nameOnPaymentMethod:N,setNameOnPaymentMethod:R,paymentMethodType:A,error:O}=(0,p.Op)({setupIntentParams:{redirect_url:T,subtotal_estimate:l,success_message:w,currency:e},paymentFlowSource:p.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e,canSeeBillingAddressExp:y,isCheckout:!1}),[L,F]=a.useState(!1),[P,D]=a.useState(!1),[M,B]=a.useState(window.innerHeight),U=(0,n.wA)(),$=O?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,j=()=>U(_.Ce());(0,s.P)(({height:e})=>{B(e)});let W=async e=>{e&&e.preventDefault(),D(!0),await S(),D(!1)};return a.createElement(E.XV,{title:y?(0,u.t)("change_payment.update_payment_details"):(0,u.t)("change_payment.enter_payment_method"),onClose:j,maxWidth:465,headerSize:"large"},a.createElement("div",{className:i()({[h.$J]:!L,[h.Un]:$})},a.createElement("form",{onSubmit:W},a.createElement("div",{className:h.KJ,style:{maxHeight:Math.min(M-49-65,652)}},L&&y&&a.createElement("div",{className:m.s.mb16.$},a.createElement("label",{htmlFor:"updatePaymentDetails",className:m.s.colorTextSecondary.$},(0,o.k)().locked_pro_team_revamp_ui_enabled?(0,u.tx)("change_payment.update_payment_details_description_default"):(0,u.tx)("change_payment.update_payment_details_description"))),a.createElement(b.F,{billingAddress:x,canSeeBillingAddressExp:y,createPaymentElement:I,error:O,nameOnPaymentMethod:N,paymentElementEventHandlers:{ready:()=>F(!0)},paymentFlow:p.wn.PRO_CHANGE_PAYMENT,paymentMethodType:A,unmountPaymentElement:C,updateBillingAddress:k,updateNameOnPaymentMethod:R})),L&&!$&&a.createElement("div",{className:h.UD},P&&a.createElement(d.kt,{className:h.u1}),a.createElement(c.tM,{onClick:j},(0,u.tx)("change_payment.cancel")),a.createElement(c.vd,{tabIndex:0,type:"submit",disabled:P},(0,u.tx)("change_payment.save")))),$&&a.createElement(c.tM,{onClick:j},(0,u.tx)("change_payment.close_window"))))}function y({currency:e,customerInfo:t,defaultCountry:r,monthlySub:n,annualSub:o,isReactivating:l,canSeeBillingAddressExp:i}){let s=n?.estimated_amount_due??0,c=Math.max(o?.estimated_amount_due??0,s);return a.createElement(v,{currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:c,isReactivating:l,canSeeBillingAddressExp:i})}},947779:(e,t,r)=>{r.r(t),r.d(t,{ChangeVatGstIdModal:()=>b});var a=r(848318),n=r(716544),o=r(536384),l=r.n(o),i=r(493554),s=r(145015),c=r(482675),d=r(442313),m=r(449737),u=r(376780),_=r(635547),p=r(314272),f=r(425878),g=r(289198);function E(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let b=a.memo(function(e){let t=(0,n.wA)(),{updateVatGstId:r}=e,o=!!e.org?.id,b=(0,i.Rs)(_.Wt6,{orgId:e.org?.id||""},{enabled:o}),h=(0,i.Rs)(_.xS7,{teamId:e.team?.id||""},{enabled:!o}),v=o?b:h,y=E(o,v),w=y?.taxIdVerificationStatus,[T,I]=a.useState(),[C,S]=a.useState(""),[x,k]=a.useState(""),[N,R]=a.useState(!1),[A,O]=a.useState({country:"",state:""}),[L,F]=a.useState(!1);a.useEffect(()=>{let e=y?.taxInfo;if(!L&&"loaded"===v.status&&e?.status==="loaded"){let t=E(o,v),r=e?.data;S(t?.vatGstId||""),k(r?.regionalVatGstId||""),R(r?.canUpdateRegionalVatGst||!1),O({country:r?.country||"",state:r?.state||""}),F(!0)}},[o,v,L,y?.taxInfo]);let P=()=>{t(m.Ce())};return a.createElement(p.XV,{onClose:P,title:(0,d.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},T&&a.createElement("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error"},a.createElement(c._,{color:c.S.ERROR,rounded:!1,text:T})),w===u.kI.VERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-information"},a.createElement(c._,{color:c.S.INFORMATION,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_succeeded")})),w===u.kI.UNVERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-warning"},a.createElement(c._,{color:c.S.WARNING,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_failed")})),a.createElement("div",{className:g.Dy},a.createElement("p",{className:"change_vat_gst_id_modal--description--6gdSL"},(0,d.tx)("change_vat_gst_id.description")),a.createElement("form",{onSubmit:e=>{e.preventDefault(),r(C,e=>I(e),N?x:"").then(e=>{e&&P()})},"data-testid":"change-vat-form"},L&&a.createElement(f.A,{onChange:S,country:A.country,vatId:C,isCommunityCheckout:!1}),N&&a.createElement(f.A,{onChange:k,country:A.country,region:A.state,vatId:x,isCommunityCheckout:!1,variant:"regional"}),a.createElement("div",{className:l()(g.v0,g.hF)},a.createElement(s.vd,{className:g.pL,type:"submit",disabled:!L},(0,d.tx)("change_vat_gst_id.save_id"))))))})},18660:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeModal:()=>f});var a=r(848318),n=r(716544),o=r(536384),l=r.n(o),i=r(145015),s=r(442313),c=r(640172),d=r(449737),m=r(194546),u=r(314272),_=r(289198);let p=a.memo(function(e){let t=(0,n.wA)(),{teamId:r,billingEndDate:o}=e.modalShown.data,p=e.teams[r],f=()=>{t(d.Ce())},g=o?(0,s.tx)("confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:p?.name,billingEndDate:o}):(0,s.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:p?.name});return a.createElement(u.XV,{onClose:f,title:(0,s.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},a.createElement("div",{className:_.Dy},a.createElement("p",null,g),a.createElement("div",{className:l()(_.v0,_.hF)},a.createElement(i.tM,{onClick:f},(0,s.tx)("confirm_downgrade.go_back")),a.createElement(i.qM,{className:_.pL,onClick:()=>{t(m.Wc({teamId:r})),t((0,d.to)({type:(0,c.l)()}))}},(0,s.tx)("confirm_downgrade.finish_cancellation")))))});function f(e){return a.createElement(p,{...e})}},829403:(e,t,r)=>{r.r(t),r.d(t,{TeamPermissionsModal:()=>eL});var a=r(848318),n=r(716544),o=r(176677),l=r(430285),i=r(579020),s=r(994811),c=r(857188),d=r(493554),m=r(389191),u=r(473889),_=r(442313),p=r(447978),f=r(637307),g=r(449737),E=r(155651),b=r(713547),h=r(254310),v=r(841747),y=r(661780),w=r(376780),T=r(635547),I=r(997894),C=r(154209),S=r(710665),x=r(24096),k=r(572754),N=r(694253),R=r(578427),A=r(354041),O=r(920963),L=r(995946),F=r(710994),P=r(266767),D=r(314272),M=r(665503),B=r(135609),U=r(217529),$=r(521068),j=r(145721),W=r(359814),G=r(894300),V=r(564724),H=r(166365),z=r(832876),Y=r(319193),K=r(413206),q=r(372455),J=r(70690),X=r(401431),Q=r(442539);function Z(e){let t=e.canAdmin,r=a.createElement(H.B,{className:q.wk,svg:X.A});e.sharingAudienceControl===w.PQ.ORG_EDIT||e.sharingAudienceControl===w.PQ.ORG_VIEW?r=a.createElement("div",{className:q.AA},a.createElement(H.B,{svg:Q.A})):(e.sharingAudienceControl===w.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===w.PQ.WORKSPACE_VIEW)&&(r=a.createElement("div",{className:q.AA},e.workspace&&a.createElement(z.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===w.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,o=n?q.Fl:q.Jt;return a.createElement("div",{className:t?o:q.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":Y.F,tabIndex:0},r,a.createElement("div",{className:q.$S},a.createElement("div",null,e.sharingAudienceControl&&(0,K.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&a.createElement("div",{className:q.JZ},(0,_.t)("team_creation.anyone_can_find_this_team"))),e.org&&a.createElement("div",{className:q.j7,"data-onboarding-key":Y.F},e.sharingAudienceControl&&(0,K.mi)(e.sharingAudienceControl),t&&a.createElement(H.B,{svg:J.A,className:q.$w}),t&&a.createElement(Y.j,null))))}var ee=r(551316),et=r(513886),er=r(475020),ea=r(468189),en=r(376025),eo=r(356505),el=r(776402),ei=r(777611),es=r(731755),ec=r(395778),ed=r(182059),em=r(882439),eu=r(975512),e_=r(790355),ep=r(754613),ef=r(928001),eg=r(134428),eE=r(503024),eb=r(464012),eh=r(205397);let ev="team_join_link_permissions--loadedViewWrapper--LjAIr";var ey=r(769773);let ew=(0,ee.s)((e,t,r)=>e(ep.do({teamId:t,level:r}))),eT=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,N.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,N.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,r)=>({isInLoadingState:function(e,t,r){let a=!(0,ef.VP)(t,(0,eg.OL)(e))&&!(0,ef.aF)(t,(0,eg.OL)(e))&&!r;return(0,ef.VP)(t,(0,eg.OL)(e))||(0,ef.VP)(t,ep.ui.loadingKeyForPayload({teamId:e}))||(0,ef.VP)(t,(0,eg._M)(e))||a}(r.teamId,e.loadingState,e.teamJoinLinks),...e,...r,...t}))(function(e){let{dispatch:t,teamId:r,initialInviteLevel:n,canAdmin:o,canEdit:l}=e,[i,s]=(0,a.useState)(n);if((0,a.useEffect)(()=>(ew(t,r,n),()=>{t(ep.F1(null))}),[t,r,n]),!e.isInLoadingState&&!e.teamJoinLinks||!o&&e.teamJoinLinks?.disabled)return null;let c=l&&!!e.teamJoinLinks?.url;return a.createElement(a.Fragment,null,a.createElement("div",{style:c?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},a.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},(0,_.tx)("team_join_links.invite_link")),c&&a.createElement(eI,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{t(g.$O({type:ex,data:{resetLink:()=>{t(ep.Nw({teamId:r,level:i,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>t(ep.ui({teamId:r})),loading:e.isInLoadingState,canAdmin:o})),e.isInLoadingState||e.teamJoinLinks?.url?a.createElement(eC,{dropdownShown:e.dropdownShown,setLevel:e=>{i!==e&&(s(e),t(ep.do({teamId:r,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>s(i)})))},currentLevel:i,url:e.isInLoadingState?void 0:e.teamJoinLinks?.url,inviteLevels:l?[L.e6.VIEWER,L.e6.EDITOR]:[L.e6.VIEWER],teamId:e.teamId}):a.createElement(eS,{turnOnInviteLinks:()=>t(ep.Nw({teamId:r,level:i}))}))});function eI(e){let t=(0,n.wA)(),r="team-link-settings-dropdown",o=a.createRef(),l=()=>e.dropdownShown?.type===r;return a.createElement(et.o,{eventListeners:["onMouseDown"]},a.createElement("div",{ref:o},a.createElement(er.d,{"aria-expanded":l(),disabled:e.loading,"aria-label":(0,_.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=o.current?.getBoundingClientRect();l()?t(e_.oB()):e&&t(e_.j7({type:r,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":eE.Ib.TEXT,"data-tooltip":(0,_.t)("team_join_links.team_invite_link_settings")}},a.createElement(ec.P,null))),l()&&a.createElement(eh.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},a.createElement(ed.c$,{onClick:e.resetInviteLinks},(0,_.tx)("team_join_links.reset_invite_links")),e.canAdmin&&a.createElement(ed.c$,{onClick:e.disableInviteLinks},(0,_.tx)("team_join_links.turn_off_invite_links"))))}function eC(e){let t=(0,n.wA)(),r="join-link-permission-level-dropdown",o=e.currentLevel===L.e6.VIEWER?"-32px":"-61px";return a.createElement("div",{className:ev},a.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},a.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&a.createElement(ea.k,null),e.url&&a.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),a.createElement("div",null,a.createElement(en.E,{onClick:a=>{a.stopPropagation(),e.url&&(e.dropdownShown?t(e_.oB()):t(e_.j7({type:r})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},a.createElement("span",null,(0,x.C1)(e.currentLevel)),a.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},a.createElement(H.B,{svg:ey.A}))),e.dropdownShown&&e.dropdownShown.type===r&&a.createElement(ed.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:o}},e.inviteLevels.map((t,r)=>a.createElement(ed.MM,{key:r,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,x.C1)(t)))))),a.createElement(eo.$n,{onClick:()=>{e.url&&t(ep.LN({teamId:e.teamId,url:e.url,source:ep.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},(0,_.tx)("team_join_links.copy_link")))}function eS(e){return a.createElement("div",{className:ev},(0,_.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",a.createElement(eu.Ph,{href:"#",onClick:e.turnOnInviteLinks},(0,_.tx)("team_join_links.turn_on_invite_links")))}let ex="RESET_LINKS_CONFIRMATION_MODAL";(0,eb.Ju)(function(e){let t=(0,n.wA)(),r=el.hS(e);return a.createElement(ei.bL,{width:"md",manager:r},a.createElement(es.vo,null,a.createElement(es.Y9,null,a.createElement(es.hE,null,(0,_.tx)("team_join_links.reset_invite_links"))),a.createElement(es.nB,null,(0,_.tx)("team_join_links.modal_description")),a.createElement(es.wi,null,a.createElement(es.jk,null,a.createElement(em.$z,{variant:"secondary",onClick:()=>t(g.Lo())},(0,_.tx)("team_join_links.cancel")),a.createElement(em.$z,{variant:"destructive",onClick:()=>{e.resetLink(),t(g.Lo())}},(0,_.tx)("team_join_links.reset_links"))))))},ex);var ek=r(189051),eN=r(244434),eR=r(538002);let eA={domains:[],isFetching:!1,fetchedAt:null},eO=a.memo(function({roles:e,virtualItems:t,totalSize:r,user:n,parentOrg:o,permissionState:l,team:i,teamOrgDomains:s,canAdmin:c,canEdit:d,isCurrentUserTeamOwner:m}){let u=a.useMemo(()=>({team:i,type:w.vt.TEAM}),[i]);return a.createElement("div",{style:{height:`${r}px`,position:"relative"}},t.map(t=>{let r=t.index,_=e[r],p=(0,N.canEditTeamRole)(_,l),f=(0,x.OL)(_,c,d),g=(0,h.HZ)({oldValue:p,newValue:f,label:h.A5.TeamPermissionsModal.canEditRole,enableFullRead:(0,b.DQ)(b.Pw.GROUP_4),maxReports:20});return a.createElement(ek.O,{key:`role-row-${r}`,canEditRole:g,canMakeAdmin:c,currentOrg:o,currentUserOrgId:o?.id??null,isOrgUser:!!_.org_user,isOwnerOfResource:m,orgDomains:s,readOnlyOverrideWarningMessage:null,resource:u,resourceName:i.name,role:_,user:n,virtualRowItem:t})}))});function eL({teamId:e,initialInviteLevel:t,prepopulateEmail:r,initialView:H}){let z,Y=(0,n.wA)(),K=(0,y.Pc)(),q=(0,n.d4)(e=>e.autocomplete),J=(0,n.d4)(e=>e.contacts),X=(0,n.d4)(e=>e.dropdownShown),Q=(0,v.FC)(),ee=I.M4.Team.useValue(e).data,et=(0,d.Rs)(T.GyZ,{teamId:e}),er=(0,d.Rs)(T.H1b,{teamId:e});(0,m.oY)("loaded"===et.status&&"loaded"===er.status,e=>{let t=er.data?.team?.roles?.length??0,r="unknown";r=t<=100?"small":t<=300?"medium":"large",(0,i.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:r},{forwardToDatadog:!0})});let ea=(0,a.useMemo)(()=>(0,k.X)(et),[et]),en=(0,a.useMemo)(()=>(0,k.SN)(er),[er]),eo=ea&&ea.org,el=ea&&ea.teamSharingSettings,ei=ea&&ea.orgUser,es=eo?eo.id:null,ec=ea&&ea.workspace,ed=eo&&eo.org_domains?eo.org_domains:eA,em=a.useMemo(()=>en?.sort((e,t)=>e.pending===t.pending?eN.E4(e,J).toLocaleLowerCase()<eN.E4(t,J).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[J,en]),eu=ea&&ea.pendingTeamRoleRequests?ea.pendingTeamRoleRequests:[];(0,a.useEffect)(()=>{Y(f.um())},[Y]);let e_={canView:(0,N.canViewTeam)(e,Q),canEdit:(0,N.canEditTeam)(e,Q),canAdmin:(0,N.canAdminTeam)(e,Q),isCurrentUserTeamOwner:(0,N.isResourceOwner)(K?.id,e,w.vt.TEAM,Q.roles)},ep=(0,a.useMemo)(()=>et.transform(({team:e})=>({canView:e?.canRead,canEdit:e?.canEdit,canAdmin:e?.canAdmin,isCurrentUserTeamOwner:e?.isOwner})),[et]),ef=(0,h.MF)({oldValue:l.Qw.loaded(e_),newValue:ep,label:h.A5.TeamPermissionsModal.teamPermissions,enableFullRead:(0,b.DQ)(b.Pw.GROUP_4)}).data,eg=(0,a.useCallback)(e=>t||(!(0,S.w5)(ee)&&e?L.e6.EDITOR:L.e6.VIEWER),[t,ee]),[eE,eb]=(0,a.useState)(()=>eg(!!ef?.canEdit));(0,a.useEffect)(()=>{eb(eg(!!ef?.canEdit))},[ef?.canEdit,eg]);let eh=(0,a.useCallback)(e=>(0,k.yI)(e,J.usersByEmail[e]||e,eo,ed,K.email),[J.usersByEmail,ed,K.email,eo]);(0,a.useEffect)(()=>{if(r){let e=eh(r);Y(p.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[r,eh,Y]);let ev=e=>(0,k.t9)(e,eo,ed),ey=t=>{let r=(0,F.Z)(t);Y((0,R.rq)({emails:r,resourceType:w.vt.TEAM,resourceIdOrKey:e,level:eE,emailsToExclude:(0,A.bp)(J.usersByEmail,K,em),onSuccess:({invites:e,over_editor_limit:t})=>{if((0,h.HZ)({oldValue:eE>=L.e6.EDITOR&&t,newValue:!1,label:h.A5.TeamPermissionsModal.shouldShowUpsellModal,enableFullRead:(0,b.DQ)(b.Pw.GROUP_1)})){let t=(0,N.getResourceTeamId)(e[0],Q),r=t&&{...Q.teams[t],canEdit:(0,N.canEditTeam)(t,Q),canAdmin:(0,N.canAdminTeam)(t,Q)};Y(g.to({type:M.oE,data:{team:r,invitesSent:e.length,editorType:null,upsellSource:O.b.ADD_EDITOR}}));return}},source:"team_share_modal",orgName:eo?eo.name:void 0}))},ew=()=>{Y(g.Ce()),Y(p.cL())},[eI,eC]=a.useState(H||0),eS=()=>0===eI?a.createElement("div",{className:eR.DA},a.createElement("p",null,(0,_.tx)("team_view.team_permissions_modal.invite_other_members",{teamName:ee?.name??""}))):a.createElement(W.w,{title:(0,_.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eC(0)}),ex=!!ee&&!ee.org_id,{sharingSuggestions:ek,sharingSuggestionIdsToExclude:eL,sharingSuggestionEmailsToExclude:eF}=(0,G.$)({orgId:es,teamId:e,contacts:J.usersByEmail,roles:em,user:K,autocompleteTokens:q.tokens}),eP=a.useCallback(()=>36,[]),eD=a.useRef(null),eM=(0,o.z)({size:em.length,parentRef:eD,estimateSize:eP,overscan:10,paddingStart:0}),eB=(0,a.useMemo)(()=>{let e=[];return ef?.canAdmin&&e.push(L.e6.ADMIN),ef?.canEdit&&e.push(L.e6.EDITOR),ef?.canView&&e.push(L.e6.VIEWER),e},[ef]);return z=ee&&ef?0===eI?ea?a.createElement(a.Fragment,null,a.createElement("div",{key:"container",className:eR.SS,onKeyDown:e=>{e.keyCode!==c.Uz.ESCAPE&&e.stopPropagation()}},ex&&a.createElement(a.Fragment,null,a.createElement(eT,{teamId:e,dropdownShown:X,initialInviteLevel:eg(!!ef?.canEdit)}),a.createElement("div",{className:eR.Vq},(0,_.tx)("team_view.team_permissions_modal.invite_by_email"))),!!ea?.canAdmin&&a.createElement(j.$i,{teamId:e,teamRoleRequests:eu,teamRoles:em}),(0,U.r)(K)?a.createElement(U.X,{resourceType:"team"}):a.createElement(a.Fragment,null,a.createElement("div",{className:eR.Zk},a.createElement(P.e,{SearchResultComponent:B.o,TokenComponent:B.g,autocomplete:q,buttonText:(0,_.t)("team_view.team_permissions_modal.invite"),dispatch:Y,dropdownKey:"permissions-invite-dropdown",dropdownShown:X,getSearchResults:t=>(0,A.Wj)(t,J.usersByEmail,K,em,es,e,null,ei?.permission===w._D.GUEST,{inviteLevel:eE,source:"team-permissions-modal"}),getSelectText:x.C1,hideDropdownOnEmpty:!0,inviteLevel:eE,joinLinkShown:ex,onHideModal:ew,onInviteLevelChange:e=>{eb(e)},onSubmit:e=>{if(eo&&eo.domain_capture&&ed&&ed.domains.length>0){let t=(0,F.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,C.H_)(ed.domains,e));if(eo?.invite_whitelist_guest_invite_setting==null&&t.length>0){Y(g.to({type:$.F,data:{emails:t,onConfirm:()=>{ey(e)},popStack:!0,orgName:eo.name}}));return}}ey(e)},options:eB,placeholderText:(0,_.t)("team_creation.add_a_name_or_email"),searchResultToken:ev,shouldAutoFocus:!ex,validateToken:eh,validateTokensAsEmail:!0})),a.createElement(G.t,{suggestions:ek??void 0,autocomplete:q,searchResultToken:ev,resourceType:"team",resourceId:e,idsToExclude:eL??void 0,emailsToExclude:eF??void 0})),eo&&a.createElement("div",{className:eR.st,ref:eD},a.createElement("div",{className:eR.d3},a.createElement("div",{className:eR.eF},(0,_.t)("file_permissions_modal.who_has_access")),a.createElement(Z,{team:ee,workspace:ec,org:eo,changeModalView:eC,sharingAudienceControl:el?.sharingAudienceControl,isTeamOrgBrowsable:el?.orgBrowsable,canAdmin:!!ea?.canAdmin}),a.createElement(eO,{canAdmin:!!ea?.canAdmin,canEdit:!!ea?.canEdit,isCurrentUserTeamOwner:!!ef?.isCurrentUserTeamOwner,parentOrg:eo,permissionState:Q,roles:em,team:ee,teamOrgDomains:ed,totalSize:eM.totalSize,user:K,virtualItems:eM.virtualItems}))))):a.createElement("div",{className:eR.Lq},a.createElement(u.qc,null)):eo?el&&a.createElement(V.nH,{team:ee,workspace:ec||void 0,org:eo,teamSharingSettings:el,hideModal:ew,goBack:()=>eC(0)}):a.createElement(a.Fragment,null):a.createElement("div",{className:eR.Lq},a.createElement(u.qc,null)),a.createElement(E.fu,{name:"Share Modal",properties:{resourceType:w.vt.TEAM,resourceId:e}},a.createElement(D.XV,{title:a.createElement(a.Fragment,null,eS()),maxWidth:ex?484:k.k4,fixedTop:!0,onClose:ew},z))}},247848:(e,t,r)=>{r.r(t),r.d(t,{TeamRenameModal:()=>c});var a=r(848318),n=r(716544),o=r(442313),l=r(296580),i=r(183905),s=r(595324);function c({team:e}){let t=(0,n.wA)();return a.createElement(s.c,{initialName:e.name,maxLength:i.qg,placeholder:(0,o.t)("resource_rename_modal.team.placeholder"),submitText:(0,o.t)("resource_rename_modal.team.submit"),onRename:r=>t((0,l.IA)({team:e,name:r}))})}},784361:(e,t,r)=>{r.d(t,{AD:()=>n,NO:()=>c,Tg:()=>i,af:()=>s,bp:()=>l,v7:()=>o});var a=r(507152);let n="codebase_suggestions.requested",o="codebase_suggestions.loaded",l="Component Browser Codebase Suggestions Item Clicked",i="Component Browser Codebase Suggestions Show More Clicked",s=()=>(0,a.g)(),c=(e,t)=>({componentId:e.id,nodeId:e.node_id,libraryKey:e.library_key,entrypoint:"component_browser",searchSessionId:t})},547884:(e,t,r)=>{r.d(t,{Gs:()=>u,RL:()=>E,S6:()=>b,gY:()=>g,t2:()=>_});var a=r(848318),n=r(781131),o=r(653959),l=r(997894),i=r(572699),s=r(931516),c=r(985265),d=r(101217),m=r(784361);function u(e){let[t]=(0,o.IT)(p(e||""),{enabled:!!e});return"loaded"!==t.status?{status:t.status,data:[]}:{status:t.status,data:t.data||[]}}let _=l.M4.Query({fetch:async e=>(await c.Q.getLibraryPublishedComponentsWithCodeConnect({libraryKey:e})).data.meta,key:"libraryPublishedComponentsCodeConnect"}),p=l.M4.Query({fetch:async e=>(await c.Q.getEditAccessLibraries({orgId:e})).data.meta,key:"editAccessLibrariesCodeConnect"}),f=l.M4.Query({fetch:async e=>(await d.$W.getCodeSuggestions(e)).data.meta.results});function g(e,t,r){let l=(0,i.rs)(),c=e.type===s.PW.COMPONENT?e.component_key&&n.ii.toString(e.component_key):e.key,d=a.useMemo(()=>(0,m.af)(),[c]);return[d,(0,o.IT)(f({asset:{type:e.type,key:c||""},planParentType:l.data?.key.type||"",planParentId:l.data?.key.parentId||"",sessionId:r||d,queryId:r||d}),{enabled:t&&"loaded"===l.status&&!!l.data&&!!c})]}l.M4.Mutation(async e=>{await c.Q.createCodeConnectMapping(e)});let E=l.M4.Mutation(e=>c.Q.createCodeConnectMap(e));l.M4.Mutation(async e=>{await c.Q.updateCodeConnectMap(e)}),l.M4.Mutation(async e=>{await c.Q.deleteCodeConnectMapping(e)});let b=l.M4.Mutation(async e=>{await c.Q.deleteCodeConnectMap(e)})},397415:(e,t,r)=>{r.d(t,{A:()=>E});var a=r(848318),n=r(376025),o=r(187653),l=r(743791),i=r(536384),s=r.n(i),c=r(891627),d=r(473889);function m({id:e,isVisible:t,position:r,containerRef:n,isLoading:o,loadingMessage:l,items:i,noItemsView:s,renderItem:m}){return t&&r?(0,c.createPortal)(a.createElement("div",{ref:n,id:e,className:"component_browser_chip_search_dropdown--componentBrowserChipSearchDropdownContainer--zWSpg",style:{top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`}},a.createElement("ul",{className:"component_browser_chip_search_dropdown--resultsList--6dukS"},o?a.createElement("li",{className:"component_browser_chip_search_dropdown--loadingState--7XPZs"},a.createElement(d.kt,null),l):i.length>0?i.map((e,t)=>a.createElement(a.Fragment,{key:t},m(e,t))):a.createElement("li",null,s))),document.body):null}var u=r(190010),_=r(923085);function p({labels:e,onClick:t,onBackspace:r}){return a.createElement("button",{onKeyDown:e=>{"Backspace"===e.key&&r?.()},onClick:t,className:_.pv,"aria-label":"Clear Input"},e.map((t,r)=>a.createElement(a.Fragment,{key:`${t.value}-${r}`},a.createElement("span",{"data-tooltip":t.tooltip,"data-tooltip-type":"text",className:_.W8},t.value),r<e.length-1&&a.createElement(o.R,null))))}function f({title:e,subtitle:t,onClick:r,icon:o,isSelected:l}){return a.createElement("li",null,a.createElement(n.E,{className:s()(_.AS,{[_.wH]:l}),onClick:e=>{e.stopPropagation(),r()}},o&&a.createElement("div",{className:_.Fx},o),a.createElement("div",{className:_.Ly},a.createElement("div",{className:_.DD},e),t&&a.createElement("div",{className:_.VA},t))))}let g="component-browser-chip-search-dropdown",E=a.forwardRef(function({placeholder:e,disabled:t,searchResults:r,isLoadingSearchResults:n,selectedItem:o,onChipSelect:i,onDeleteLastItem:c,onDropdownItemClick:d,onValueChanged:E,onEnterPressed:b,showDropdown:h=!0,showDropdownOnFocus:v=!1},y){let[w,T]=(0,a.useState)({value:"",isSearchListOpen:!1,dropdownPosition:null,isConnecting:!1,selectedIndex:0}),I=(0,a.useRef)(null),C=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(w.isSearchListOpen&&I.current){let e=I.current.getBoundingClientRect();T(t=>({...t,dropdownPosition:{top:e.bottom+window.scrollY,left:e.left+window.scrollX,width:e.width}}))}else T(e=>({...e,dropdownPosition:null}))},[w.isSearchListOpen]),(0,a.useEffect)(()=>{function e(e){let t=e.target;I.current&&!I.current.contains(t)&&C.current&&!C.current.contains(t)&&T(e=>({...e,isSearchListOpen:!1}))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let S=()=>{T(e=>({...e,value:"",isSearchListOpen:!1}))},x=e=>{T(e=>({...e,isSearchListOpen:!1,value:"",selectedIndex:0})),d(e)};return a.createElement("div",{className:_.ni,ref:I},a.createElement("div",{className:_.I6},a.createElement("div",{className:s()(u.KF,{[u.r9]:t})},o&&a.createElement(p,{onBackspace:()=>{c(),y.current?.focus()},labels:o.value,onClick:()=>i?.(o)}),a.createElement("input",{ref:y,className:_.hF,disabled:t,onBlur:e=>{let t=e.relatedTarget;t?.closest(`#${g}`)||T(e=>({...e,isSearchListOpen:!1,selectedIndex:0}))},onChange:e=>{let t=e.target.value;T(e=>({...e,value:t,isSearchListOpen:t.length>0,selectedIndex:0})),E(t)},onFocus:()=>{v&&T(e=>({...e,isSearchListOpen:!0,selectedIndex:0}))},onKeyDown:e=>{if("Backspace"===e.key&&""===w.value&&c(),"Enter"===e.key){if(r&&r.length>0){let e=r[w.selectedIndex];e&&x(e)}b?.(w.value)&&S()}"ArrowDown"===e.key&&r&&r.length>0&&(e.preventDefault(),T(e=>({...e,selectedIndex:(e.selectedIndex+1)%r.length}))),"ArrowUp"===e.key&&r&&r.length>0&&(e.preventDefault(),T(e=>({...e,selectedIndex:0===e.selectedIndex?r.length-1:e.selectedIndex-1})))},placeholder:e,type:"search",value:w.value}),o&&a.createElement("div",{className:_.ij},a.createElement(l.L,{className:_.hj,onClick:c})))),h&&a.createElement(m,{id:g,isVisible:!!w.isSearchListOpen,position:w.dropdownPosition,containerRef:C,isLoading:n||!1,loadingMessage:"Searching...",items:r||[],noItemsView:a.createElement("div",{className:_.PQ},a.createElement("span",{className:_.y8},"No items found"),a.createElement("span",{className:_.au},"Add a path manually by pressing \u21B5 Enter")),renderItem:(e,t)=>a.createElement(f,{icon:e.icon,title:e.title,subtitle:e.subtitle,onClick:()=>x(e),isSelected:t===w.selectedIndex})}))})},435090:(e,t,r)=>{r.d(t,{a:()=>eP,ComponentBrowserLibraryView:()=>eL});var a=r(848318),n=r(716544),o=r(764932),l=r(897378),i=r(726521),s=r(679334),c=r(596616),d=r(376025),m=r(478940),u=r(743791),_=r(707387),p=r(493080),f=r(573446),g=r(157907),E=r(493554),b=r(282424),h=r(360589),v=r(442313),y=r(26186),w=r(701746),T=r(449737),I=r(691232),C=r(635547),S=r(503024),x=r(356505),k=r(456378),N=r(265639),R=r(364493),A=r(751303),O=r(813321),L=r(782623),F=r(753131),P=r(357287),D=r(227058),M=r(468189),B=r(579020),U=r(303035),$=r(547884),j=r(931423),W=r(800592),G=r(784361),V=r(839551);let H="component_browser_codebase_suggestions--container--MQDxN";function z(){return a.createElement("div",{className:H},a.createElement(M.k,null))}function Y(){return a.createElement("div",{className:H},a.createElement("p",null,(0,v.t)("auto_suggest.suggestion_shelf_no_suggestions")))}function K({items:e,selectedSuggestion:t,onSelect:r,itemsPerRow:n=5}){let[o,l]=(0,a.useState)(5),i=J(),s=o<Math.min(50,e.length);return a.createElement("div",{className:H},a.createElement("div",{className:"component_browser_codebase_suggestions--grid--IGG-o",style:{gridTemplateColumns:`repeat(${n}, 1fr)`}},e.slice(0,o).map((e,n)=>a.createElement(j.jO,{key:e.id,item:e,onClick:()=>r(e,n),onHover:U.lQ,isSelected:t?.id===e.id,index:n}))),s&&a.createElement("div",null,a.createElement(x.$n,{variant:"link",onClick:()=>{let t=5===o?25:25===o?50:o;(0,B.sx)(G.Tg,{itemsShownAfterClick:t,totalItems:e.length,...i}),l(t)}},(0,v.t)("dev_handoff.codebase_suggestions.more_results"))))}let q=a.createContext({sharedTrackingProps:()=>({})}),J=()=>a.useContext(q).sharedTrackingProps();function X({component:e,onCodeChange:t,onSuggestionSelected:r,searchSessionId:n}){let[o,l]=(0,a.useState)(null),i=!!(0,g.k)().dt_ccv2_dd,[s,[c]]=(0,$.gY)(e,!i,n),d=(0,a.useCallback)(()=>(0,G.NO)(e,n),[e,n]);a.useEffect(()=>{(0,B.sx)(G.AD,{...d()})},[d]);let m=i?W.p6.data:c.data,u=m?.map(e=>({id:e.codebase_component_id,thumbnail:e.thumbnail_url,srcPath:e.src_path||void 0,name:e.name,type:"suggestion"}))??[],_=a.useCallback((e,t)=>{l(e),r({source:e.srcPath??"",name:e.name,componentName:e.name}),(0,B.sx)(G.bp,{...d(),indexInList:t,codebaseComponentId:e.id})},[r,d]);a.useEffect(()=>{o&&t(function(e){let{name:t,srcPath:r}=e;return r?`import { ${t} } from '${r}'

<${t} />`:`<${t} />`}(o))},[o,t]);let p="loading"===c.status,f="loaded"===c.status&&m&&0===m.length,E="loaded"===c.status;return a.useEffect(()=>{E&&(0,B.sx)(G.v7,{...d(),numResults:m?m.length:0})},[E,m,d]),a.createElement(q.Provider,{value:{sharedTrackingProps:d}},a.createElement("div",{className:V.lc},a.createElement("div",{className:V.R_},(0,v.t)("dev_handoff.codebase_suggestions.inspect_panel_disconnected_header_title")),p&&a.createElement(z,null),f&&a.createElement(Y,null),!p&&!f&&a.createElement(K,{items:u,selectedSuggestion:o,onSelect:_})))}var Q=r(605988),Z=r(159491),ee=r(536384),et=r.n(ee);function er({open:e,count:t,icon:r}){return a.createElement("div",{className:et()("component_browser_connected_count--countItem--OnNKM",e&&"component_browser_connected_count--open--PGuAW")},r,a.createElement("div",{className:"component_browser_connected_count--countItemNumber--P01DI"},t))}function ea({open:e,notConnectedComponents:t,connectedComponents:r,ignoredComponents:n}){return a.createElement("div",{className:"component_browser_connected_count--container--EXIKw"},a.createElement(er,{open:e,count:t,icon:a.createElement(Q.U,null)}),a.createElement(er,{open:e,count:r,icon:a.createElement(Z.r,null)}),a.createElement(er,{open:e,count:n,icon:a.createElement(A.i,null)}))}function en(){return a.createElement("div",{className:"component_browser_dialog_loading_spinner--spinner--fcsB0"},a.createElement(M.k,null))}let eo="component_browser_connect_dialog--headerSide--WgRmQ",el="component_browser_connect_dialog--footer--8DrOx",ei=a.lazy(()=>r.e(920).then(r.bind(r,240920)));function es({isConnected:e,isIgnored:t,handleDeleteMapping:r,handleConnect:n,handleIgnore:o,selectedFile:l,selectedComponent:i,isDisabled:s}){return e?a.createElement("div",{className:el},a.createElement(x.$n,{onClick:r,variant:"destructive",disabled:s},"Disconnect",a.createElement(x.$n.Shortcut,null,"\u232B"))):t?a.createElement("div",{className:el},a.createElement(x.$n,{onClick:r,variant:"destructive",disabled:s},"Remove Ignore",a.createElement(x.$n.Shortcut,null,"\u232B"))):a.createElement("div",{className:el},a.createElement(x.$n,{onClick:n,disabled:s||!l||!i},"Code Connect",a.createElement(x.$n.Shortcut,null,"C")),a.createElement(x.$n,{variant:"secondary",onClick:o,disabled:s},"No code equivalent",a.createElement(x.$n.Shortcut,null,"N")))}function ec({data:e,index:t,onClose:r,onRequestNextComponent:n,onRequestPreviousComponent:o,notConnectedComponents:i,connectedComponents:s,ignoredComponents:c,onDeleteMapping:d,onIgnoreMapping:m,onConnectMapping:_}){let[p,E]=(0,a.useState)(null),[b,h]=(0,a.useState)(null),v=a.useRef(null),y="connected"===e.component.code_connect_info.v1.state,w="ignored"===e.component.code_connect_info.v1.state,T=e.component.code_connect_info.v1?.type==="figmadoc";(0,a.useEffect)(()=>{E(e?.selectedFile??null),h(e?.selectedComponent??null)},[e]);let I="key"in e.component?e.component.key:"component_key"in e.component?e.component.component_key:"",[C]=(0,O.A)(I,1e3,{leading:!0}),[S,[x]]=(0,$.gY)(e.component,"not_connected"===e.component.code_connect_info.v2.state&&C===I,null),[M,B]=a.useState(0),U=(0,F.Ak)(e.component.updated_at),[j,W]=a.useState("");a.useEffect(()=>{v.current?.focus()},[I,e.component.code_connect_info.v2.state]),(0,a.useEffect)(()=>{B(-1)},[I,B]),(0,a.useEffect)(()=>{"loaded"===x.status&&B(0)},[I,x.status,B]);let G=()=>{_({index:t,component:e.component,selectedFile:p,selectedComponent:b})},V=()=>{m({index:t,component:e.component,selectedFile:p,selectedComponent:b})},H=()=>{d(e.component.code_connect_info.v1.id,{index:t,component:e.component,selectedFile:null,selectedComponent:null})},z=(0,a.useCallback)((e,t)=>{E(t)},[]),Y=(0,a.useCallback)((e,t)=>{h(t)},[]);return a.createElement(P.n.div,{ref:v,className:"component_browser_connect_dialog--wrapper--w21OO",onKeyDown:function(e){switch(e.key){case"ArrowUp":o();break;case"ArrowDown":n();break;case"ArrowRight":!function(){let e=x.data;e&&B(t=>t+1>=e.length?0:t+1)}();break;case"ArrowLeft":!function(){let e=x.data;e&&B(t=>t-1<0?e.length-1:t-1)}();break;case"Enter":e.shiftKey?V():G();break;case"Backspace":H()}},tabIndex:-1},a.createElement("div",{className:"component_browser_connect_dialog--header--diID5"},a.createElement("div",{className:eo},a.createElement(ea,{open:!0,notConnectedComponents:i,connectedComponents:s,ignoredComponents:c})),a.createElement("div",{className:eo},a.createElement(l.K,{"aria-label":"Previous",onClick:o},a.createElement(k.N,null)),a.createElement(l.K,{"aria-label":"Next",onClick:n},a.createElement(N.W,null)),a.createElement(l.K,{"aria-label":"Close",onClick:r},a.createElement(u.L,null)))),a.createElement("div",{className:"component_browser_connect_dialog--content--DNpDU"},a.createElement("div",{className:"component_browser_connect_dialog--designContent---8Tg1"},a.createElement("div",{className:"component_browser_connect_dialog--title--bh-XJ utilities--bodyMediumStrong--1R5cZ"},a.createElement("div",{className:"component_browser_connect_dialog--titleIcon--jelse"},a.createElement(R.m,null),"Figma Component:"),e.component.name),a.createElement("div",{className:"component_browser_connect_dialog--imageWrapper--K64Ih"},a.createElement(L.oW,{className:"component_browser_connect_dialog--componentThumbnail--s6jLt",src:e.component.thumbnail_url,alt:e.component.name})),a.createElement("div",{className:"component_browser_connect_dialog--lastUpdated--U-tqt"},"Last updated ",U),a.createElement("div",{className:"component_browser_connect_dialog--description--LaOq-"},a.createElement(D.i,{description:e.component.description,description_rt:e.component.description_rt}))),w?a.createElement("div",{className:"component_browser_connect_dialog--ignoredContent---lSGI"},a.createElement(A.i,null),"Component has no code equivalent"):a.createElement(a.Fragment,null,a.createElement(a.Suspense,{fallback:a.createElement(en,null)},a.createElement(ei,{index:t,component:e.component,libraryKey:(0,f.l)(e.component.library_key),selectedFile:p,selectedComponent:b,onFileChanged:z,onComponentChanged:Y})),(0,g.k)().dt_ccv2_component_browser&&!y?a.createElement(X,{libraryKey:e.component.library_key,component:e.component,onCodeChange:W,onSuggestionSelected:e=>{E(e?{title:e.name,metadata:{name:e.name,type:"file",isCustomLink:!1,repository:"",path:e.source,sha:""}}:null),h(e?{title:e.componentName}:null)},searchSessionId:S}):null)),a.createElement(es,{isConnected:y,isIgnored:w,handleDeleteMapping:H,handleConnect:G,handleIgnore:V,selectedFile:p,selectedComponent:b,isDisabled:T}))}function ed(e){return"key"in e?e.key:"component_key"in e?e.component_key:null}let em={all:{label:"All",value:"all"},notConnected:{label:"Not Connected",value:"notConnected"},connected:{label:"Connected",value:"connected"},ignored:{label:"Ignored",value:"ignored"}};var eu=r(493782),e_=r(690611),ep=r(550325),ef=r(190010);function eg({component:e}){let t=e.code_connect_info.v1.state,r=(0,a.useMemo)(()=>{switch(t){case"not_connected":return a.createElement(Q.U,null);case"connected":return a.createElement(ep.g,null);case"ignored":return a.createElement(A.i,null)}},[t]);return a.createElement("span",{className:ef.i7},r)}var eE=r(81970);function eb(){let e=Math.ceil((window.innerHeight-200)/49);return a.createElement("div",{className:ef.yO},Array.from({length:e}).map((e,t)=>a.createElement("div",{key:t,className:ef.yS},a.createElement(h.Wi,{style:{width:32,height:32,borderRadius:4},animationType:h.JR.SHIMMER}),a.createElement(h.Wi,{style:{width:200},animationType:h.JR.SHIMMER}),a.createElement(h.Wi,{style:{flex:1},animationType:h.JR.SHIMMER}),a.createElement(h.Wi,{style:{width:120},animationType:h.JR.SHIMMER}))))}var eh=r(792760),ev=(e=>(e.OpenInSidebar="open-in-sidebar",e.Disconnect="disconnect",e.HasCodeEquivalent="has-code-equivalent",e.Ignore="ignore",e))(ev||{});function ey({data:e,isConnected:t,isIgnored:r,onMenuItemClick:n}){let{getTriggerProps:i,manager:s}=o.b(),c={label:"Open in sidebar",onClick:()=>n(ev.OpenInSidebar,e)},d=[[{label:"Doesn't have code equivalent",onClick:()=>n(ev.Ignore,e)}],[c]],m=[[{label:"Disconnect",onClick:()=>n(ev.Disconnect,e)}],[c]],u=[[{label:"Has code equivalent",onClick:()=>n(ev.HasCodeEquivalent,e)}],[c]],_=[];return _=t?m:r?u:d,a.createElement(o.bL,{manager:s},a.createElement(l.K,{...i(),"aria-label":"More actions"},a.createElement(eh.J,null)),a.createElement(o.mc,null,_.map((e,t)=>a.createElement(o.YJ,{key:t},e.map(e=>a.createElement(o.q7,{key:e.label,onClick:e.onClick},e.label))))))}var ew=r(923085);function eT({libraryKey:e,data:t,selectedComponent:r,onSelectComponent:n,onFileChanged:o,onComponentChanged:l,isLoading:i,onMoreActionsMenuItemClick:s}){let c=(0,a.useRef)(null),d=(0,g.k)().dt_code_connect_repository,m=r?ed(r):null;(0,a.useEffect)(()=>{m&&c.current?.querySelector(".js-is-selected")?.scrollIntoView({block:"nearest"})},[m]);let u=e=>{let t=null;if("connected"===e.code_connect_info.v1.state)try{let r=JSON.parse(e.code_connect_info.v1.figmadoc??"");t=Array.isArray(r)?r[0]:r}catch(e){}let a=r&&ed(e)===ed(r),n=null,o=null;if("connected"===e.code_connect_info.v1.state&&t){let e=t.source;e&&(n=e.substring(e.lastIndexOf("/")+1)),o=t.component}return{isSelected:a,fileName:n,componentName:o}};return i?a.createElement("div",{className:ef.WX},a.createElement(eb,null)):a.createElement("div",{ref:c,className:ef.L3},a.createElement("table",{className:ef.hP},a.createElement("thead",{className:ef.Gd},a.createElement("tr",{className:ef.T$},a.createElement("th",{className:ef.LU},a.createElement("div",null,"Design component")),d&&a.createElement(a.Fragment,null,a.createElement("th",{className:ef.LU},a.createElement("div",null,"Code file")),a.createElement("th",{className:ef.LU},a.createElement("div",null,"Code component"))),a.createElement("th",{className:ef.LU},a.createElement("div",null,"Variants")),a.createElement("th",{className:ef.LU},a.createElement("div",null,"Status")),a.createElement("th",{className:ef.LU}))),a.createElement("tbody",{className:ef.dl},t.map(t=>{let r=t.index,i=t.component,c="connected"===i.code_connect_info.v1.state,m="ignored"===i.code_connect_info.v1.state,{isSelected:_}=u(i);return a.createElement("tr",{key:i.node_id,className:et()(ef.T$,{[ef.sp]:_,"js-is-selected":_}),onClick:()=>n(i)},a.createElement("td",{className:ef.LU},i.thumbnail_url&&a.createElement("div",{className:ef.v6},a.createElement(L.oW,{className:ef.I$,src:i.thumbnail_url,alt:i.name})),a.createElement("div",null,i.name)),d&&a.createElement(eI,{index:r,component:i,libraryKey:e,onFileChanged:o,onComponentChanged:l,selectedFile:t.selectedFile,selectedComponent:t.selectedComponent}),a.createElement("td",{className:ef.LU},"variants"in i?a.createElement("div",{className:ef.WD},i.variants.length):"--"),a.createElement("td",{className:ef.LU},a.createElement(eg,{component:i})),a.createElement("td",{className:ef.LU},a.createElement(ey,{data:t,isConnected:c,isIgnored:m,onMenuItemClick:s})))}))))}function eI({index:e,component:t,libraryKey:r,onFileChanged:n,onComponentChanged:o,selectedFile:l,selectedComponent:i}){let s=(0,a.useRef)(null),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{l&&!i&&c.current?.focus()},[l,i]);let{fileName:d,componentName:m}=(0,a.useMemo)(()=>"connected"===t.code_connect_info.v1.state&&"figmadoc"===t.code_connect_info.v1.type&&t.code_connect_info.v1.figmadoc?(0,eu.X)(t.code_connect_info.v1.figmadoc):{fileName:null,componentName:null},[t.code_connect_info.v1]);return d||m?a.createElement(a.Fragment,null,a.createElement("td",{className:ef.LU,style:{position:"relative"}},a.createElement("span",{className:ew.pv},d||"--")),a.createElement("td",{className:ef.LU,style:{position:"relative"}},a.createElement("span",{className:ew.pv},m))):a.createElement(a.Fragment,null,a.createElement("td",{className:ef.LU,style:{position:"relative"},onClick:e=>e.stopPropagation()},a.createElement(eE.N,{index:e,ref:s,component:t,libraryKey:r,onFileChanged:n,selectedFile:l})),a.createElement("td",{className:ef.LU,style:{position:"relative"},onClick:e=>e.stopPropagation()},a.createElement(e_.O,{index:e,ref:c,component:t,libraryKey:r,onComponentChanged:o,selectedComponent:i,selectedFile:l})))}var eC=r(150583),eS=r(653959),ex=r(697714),ek=r(790355),eN=r(834996);function eR(e,t){return{component:e,index:t,selectedFile:null,selectedComponent:null}}let eA="component_browser_library_view--componentsListLoadingOrError--3XuiK";function eO(){let{getTriggerProps:e,manager:t}=o.b(),r=(0,n.wA)(),i=(0,a.useCallback)(()=>{r(T.to({type:y.d}))},[r]);return a.createElement(o.bL,{manager:t},a.createElement(l.K,{...e(),"aria-label":"Settings",htmlAttributes:{"data-tooltip":(0,v.t)("dev_handoff.codebase_suggestions.open_settings"),"data-tooltip-type":S.Ib.TEXT}},a.createElement(m.n,null)),a.createElement(o.mc,null,a.createElement(o.YJ,{title:a.createElement(o.hE,null,(0,v.t)("dev_handoff.codebase_suggestions.can_t_connect_to_github"))},a.createElement(o.q7,{onClick:i},(0,v.t)("dev_handoff.codebase_suggestions.connect_your_running_app")))))}function eL(e){let t=e.componentKey,r=(0,f.l)(e.libraryKey),o=(0,w.bh)(),d=function(e){let t=(0,E.Rs)(C.iAs,{libraryKey:e??""},{enabled:!!e});return!!e&&"errors"!==t.status&&("loading"===t.status?"loading":!!t.data?.libraryKeyToFile?.fileCanAccess)}(r),{status:m,paginationInfo:_,displayedComponent:b,displayedComponentIndex:v,onDisplayedComponentChanged:y,onFileChanged:T,onComponentChanged:I,onMoreActionsMenuItemClick:S,filteredComponents:x,searchQuery:k,setSearchQuery:N,dropdownFilter:R,setDropdownFilter:A,onConnectMapping:O,onDeleteMapping:L,onIgnoreMapping:F,onDisplayNextComponent:P,onDisplayPreviousComponent:D}=function({libraryKey:e,componentKey:t}){let r=function({libraryKey:e,componentKey:t}){let[r,n]=(0,a.useState)([]),[o,l]=(0,a.useState)(""),[i,s]=(0,a.useState)(em.all.value),c=(0,a.useMemo)(()=>r.findIndex(e=>ed(e.component)===t),[r,t]),d=(0,a.useMemo)(()=>r[c]??null,[r,c]),[m,u,_,p]=(0,a.useMemo)(()=>{let e=[],t=[],a=[],n=[];return r.forEach(r=>{e.push(r),"connected"===r.component.code_connect_info.v1.state&&t.push(r),"not_connected"===r.component.code_connect_info.v1.state&&a.push(r),"ignored"===r.component.code_connect_info.v1.state&&n.push(r)}),[e,t,a,n]},[r]),f=(0,a.useMemo)(()=>{let e=[];return"all"===i?e=m:"connected"===i?e=u:"notConnected"===i?e=_:"ignored"===i&&(e=p),o&&(e=e.filter(e=>e.component.name.toLocaleLowerCase().includes(o.toLocaleLowerCase()))),[...e].sort((e,t)=>e.component.name<t.component.name?-1:e.component.name>t.component.name?1:0)},[i,o,m,u,_,p]),[g,E]=(0,eS.IT)((0,$.t2)(e),{enabled:!0});return(0,a.useEffect)(()=>{if(!g.data)return;let{components:e}=function(e){let t=[],r={};return e.state_groups?.forEach(e=>{r[e.node_id]={...e,variants:[]}}),e.components?.forEach(e=>{let a=e.containing_frame?.containingStateGroup?.nodeId;a&&r[a]?r[a].variants.push(e):t.push(e)}),Object.values(r).forEach(e=>{t.push(e)}),{components:t,stateGroups:r}}(g.data);n(function(e){let t=[];return e.forEach((e,r)=>{let a=e.code_connect_info.v1.figmadoc;if(!a){t.push(eR(e,r));return}try{let n=JSON.parse(a)[0];t.push({component:e,index:r,selectedFile:n?.source?{title:n.source.substring(n.source.lastIndexOf("/")+1),metadata:{path:n.source,isCustomLink:!1,repository:"",name:"",sha:"",type:"file"}}:null,selectedComponent:n?.component?{title:n.component}:null})}catch(a){eC.vF.error("Error parsing figmadoc",a),t.push(eR(e,r))}}),t}(e))},[g.data]),{paginationInfo:{notConnectedComponents:_.length,connectedComponents:u.length,ignoredComponents:p.length},searchQuery:o,setSearchQuery:l,dropdownFilter:i,setDropdownFilter:s,displayedComponent:d,displayedComponentIndex:c,filteredComponents:f,status:g.status,componentBrowserListRowData:r??[],setComponentBrowserListRowData:n,refetch:E.refetch}}({libraryKey:e,componentKey:t});return{...function({displayedComponent:e,filteredComponents:t,componentBrowserListRowData:r,setComponentBrowserListRowData:o,libraryKey:l}){let[i,s]=(0,a.useState)(-1),c=(0,eN._6)(),d=(0,n.wA)(),m=(0,eS.gY)($.RL),u=(0,eS.gY)($.S6),_=(0,a.useCallback)((e,t)=>{let r=t?.index;if(t&&void 0!==r&&(o(e=>{let a=[...e];return a[r]={...t,component:{...t.component,code_connect_info:{...t.component.code_connect_info,v1:{...t.component.code_connect_info.v1,state:"not_connected",id:void 0}}}},a}),e)){let a="connected"===t.component.code_connect_info.v1.state?`Disconnected ${t.component.name}`:`Removed Ignore from ${t.component.name}`;u({codeConnectId:e}).then(()=>{d(ex.F.enqueue({message:a,type:"Disconnect component"}))}).catch(e=>{eC.vF.error("Error deleting code connect map",e),o(e=>{let a=[...e];return a[r]=t,a})})}},[u,d,o]),p=(0,a.useCallback)((e,t,a)=>{let n=r[e],i=n?.selectedFile;if("create"===a&&i){let r=i?.metadata?.path??"",a=n.component.node_id;if(!r)return;let s={...n,component:{...n.component,code_connect_info:{...n.component.code_connect_info,v1:{...n.component.code_connect_info.v1,state:"connected"}}},selectedComponent:t};o(t=>{let r=[...t];return r[e]=s,r}),i&&m({library_key:l,node_id:a,template:"",component_name:t.title,source_path:r,status:"connected"}).then(t=>{let r=t.data.meta.code_connect_id;o(t=>{let a=[...t];return a[e]={...s,component:{...s.component,code_connect_info:{...s.component.code_connect_info,v1:{...s.component.code_connect_info.v1,id:r}}}},a}),d(ex.F.enqueue({message:`Connected ${n.component.name}`,type:"Connected component"}))}).catch(t=>{eC.vF.error("Error creating code connect map",t),o(t=>{let r=[...t];return r[e]=n,r})})}"delete"===a&&n&&_(n.component.code_connect_info.v1.id,{...n,selectedComponent:null})},[m,r,d,_,l,o]),f=e=>{let t=e.index,r=e.component.node_id,a={...e,component:{...e.component,code_connect_info:{...e.component.code_connect_info,v1:{...e.component.code_connect_info.v1,state:"ignored"}}},selectedComponent:null,selectedFile:null};o(e=>{let r=[...e];return r[t]=a,r}),m({library_key:l,node_id:r,status:"ignored"}).then(r=>{let n=r.data.meta.code_connect_id;o(e=>{let r=[...e];return r[t]={...a,component:{...a.component,code_connect_info:{...a.component.code_connect_info,v1:{...a.component.code_connect_info.v1,id:n}}}},r}),d(ex.F.enqueue({message:`Ignored ${e.component.name}`,type:"Ignored component"}))}).catch(r=>{eC.vF.error("Error ignoring code connect map",r),o(r=>{let a=[...r];return a[t]=e,a})})},g=(0,a.useCallback)(e=>{if(s(-1),"componentBrowserLibrary"===c.view){let t={...c,componentKey:e&&ed(e)||void 0};d(ek.$T(t))}else if("fullscreen"===c.view){let t={...c,showDevModeComponentBrowser:!0,devModeComponentBrowserBackButtonTargetNodeId:e?.node_id,componentKey:e&&ed(e)||void 0};d(ek.$T(t))}},[c,d]),E=(0,a.useCallback)(()=>{if(!e){t[0]&&g(t[0].component);return}let r=t.findIndex(t=>ed(t.component)===ed(e.component));if(-1===r){-1!==i&&t[i]?g(t[i].component):t[0]&&g(t[0].component);return}let a=t[r+1];a&&g(a.component)},[e,t,g,i]),b=(0,a.useCallback)(()=>{if(!e){let e=t[t.length-1];e&&g(e.component);return}let r=t.findIndex(t=>ed(t.component)===ed(e.component));if(-1===r){let e=t[i-1];-1!==i&&e?g(e.component):t[0]&&g(t[0].component);return}let a=t[r-1];a&&g(a.component)},[e,t,g,i]);return{onDeleteMapping:_,onMoreActionsMenuItemClick:(e,t)=>{switch(e){case ev.OpenInSidebar:g(t.component);break;case ev.HasCodeEquivalent:case ev.Disconnect:_(t.component.code_connect_info.v1.id,{...t,selectedFile:null,selectedComponent:null});break;case ev.Ignore:f(t)}},onFileChanged:(e,t)=>{let a=r[e];a&&(t?o(r=>{let n=[...r];return n[e]={...a,selectedFile:t},n}):_(a.component.code_connect_info.v1.id,{...a,selectedFile:null,selectedComponent:null}))},onComponentChanged:p,onConnectMapping:e=>{let t=e.index,r=e.component,a=e.selectedFile,n=a?.metadata?.path??"",i=e.selectedComponent,s=e.component.node_id;if(a&&i&&n){let c={...e,component:{...r,code_connect_info:{...r.code_connect_info,v1:{...r.code_connect_info.v1,state:"connected"}}},selectedFile:a,selectedComponent:i};o(e=>{let r=[...e];return r[t]=c,r}),m({library_key:l,node_id:s,template:"",component_name:i.title,source_path:n,status:"connected"}).then(r=>{let a=r.data.meta.code_connect_id;o(e=>{let r=[...e];return r[t]={...c,component:{...c.component,code_connect_info:{...c.component.code_connect_info,v1:{...c.component.code_connect_info.v1,id:a}}}},r}),d(ex.F.enqueue({message:`Connected ${e.component.name}`,type:"Connected component"}))}).catch(r=>{eC.vF.error("Error creating code connect map",r),o(r=>{let a=[...r];return a[t]=e,a})})}},onIgnoreMapping:f,onDisplayedComponentChanged:g,onDisplayNextComponent:E,onDisplayPreviousComponent:b}}({libraryKey:e,displayedComponent:r.displayedComponent,filteredComponents:r.filteredComponents,componentBrowserListRowData:r.componentBrowserListRowData,setComponentBrowserListRowData:r.setComponentBrowserListRowData}),...r}}({libraryKey:r,componentKey:t}),M="loading"===d||"loading"===m;return a.createElement(p.J,null,a.createElement("div",{className:"component_browser_library_view--container--GvuFj"},a.createElement("div",{className:"component_browser_library_view--containerLeft--vnS49"},a.createElement("div",{className:"component_browser_library_view--header--Qzpb4"},a.createElement("div",{className:"component_browser_library_view--headerLeft--3SnIQ"},a.createElement("h1",{className:"component_browser_library_view--headerText--dEq-j"},"Map components to code"),a.createElement(i.E,{variant:"defaultOutline"},"Beta")),a.createElement("div",{className:"component_browser_library_view--headerRight--NacjX"},!b&&(M?a.createElement(h.Wi,{style:{width:200,height:30},animationType:h.JR.SHIMMER}):a.createElement(ea,{open:!1,notConnectedComponents:_.notConnectedComponents,connectedComponents:_.connectedComponents,ignoredComponents:_.ignoredComponents})),(0,g.k)().dt_ccv2_component_browser&&a.createElement(eO,null),"file"===e.location&&a.createElement(l.K,{"aria-label":"Close component browser",onClick:o},a.createElement(u.L,null)))),M||d?"errors"===m?a.createElement("div",{className:eA},"Error loading components"):a.createElement(a.Fragment,null,a.createElement("div",{className:"component_browser_library_view--componentsListFilters--oI7CH"},a.createElement("div",{className:"component_browser_library_view--componentsListFiltersInner--eiApl"},a.createElement(eD,{value:k,onChange:N}),a.createElement("div",{className:"component_browser_library_view--componentsListFiltersRight--iC30E"},a.createElement(s.bL,{value:R,onChange:e=>A(e)},a.createElement(s.l9,{label:a.createElement(c.h,null,"Filter")},"Show: ",em[R].label),a.createElement(s.mc,null,Object.entries(em).map(([e,{label:t,value:r}])=>a.createElement(s.c$,{key:e,value:r},t))))))),a.createElement(eT,{isLoading:M,libraryKey:r,selectedComponent:b?.component??null,onSelectComponent:y,data:x,onFileChanged:T,onComponentChanged:I,onMoreActionsMenuItemClick:S})):a.createElement("div",{className:eA},"You do not have permission to access this library.")),b&&d&&a.createElement(a.Fragment,null,a.createElement(eF,{onCloseDialog:()=>y(null)}),a.createElement("div",{className:"component_browser_library_view--containerRight--Ypt9C"},a.createElement(ec,{connectedComponents:_.connectedComponents,data:b,ignoredComponents:_.ignoredComponents,index:v,notConnectedComponents:_.notConnectedComponents,onClose:()=>y(null),onConnectMapping:O,onDeleteMapping:L,onIgnoreMapping:F,onRequestNextComponent:P,onRequestPreviousComponent:D})))))}function eF({onCloseDialog:e}){return a.createElement(d.E,{onClick:e,className:"component_browser_library_view--dialogOverlay---qDTR"},a.createElement("div",{className:"component_browser_library_view--dialogOverlayContent--vPS5G"}))}function eP(e){let t=(0,I.B)((0,f.l)(e.libraryKey)).data;return a.createElement(a.Fragment,null,e.libraryName||t||"...")}function eD({value:e,onChange:t}){return a.createElement("div",{className:"component_browser_library_view--searchBar--M-lcw"},a.createElement(_.h,null),a.createElement(b.L,{placeholder:"Search design components",value:e,onChange:e=>{t(e.currentTarget.value)},className:"component_browser_library_view--searchInput--LPQzn text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&a.createElement("div",null,a.createElement(l.K,{onClick:()=>t(""),"aria-label":"Clear search",htmlAttributes:{"data-tooltip":"Clear search","data-tooltip-type":S.Ib.TEXT}},a.createElement(u.L,null))))}},66895:(e,t,r)=>{r.d(t,{Tp:()=>o,rt:()=>l});var a=r(997894),n=r(985265);a.M4.Query({fetch:async e=>{let t=await n.Q.getRepositorySourceFile(e);if(t.data.meta.signed_url){let e=await fetch(t.data.meta.signed_url);return(await e.blob()).text()}return""}});let o=a.M4.Query({fetch:async e=>(await n.Q.getRepositorySourceFilesForSearchTerm(e)).data.meta.source_files??[]}),l=a.M4.Query({fetch:async e=>{let t=await n.Q.getRepositoryFileDetails(e);if(t.data.meta.signed_url){let e=await fetch(t.data.meta.signed_url);return(await e.blob()).text()}return""}})},493782:(e,t,r)=>{if(r.d(t,{X:()=>n}),443==r.j)var a=r(150583);function n(e){try{let t=JSON.parse(e??""),r=Array.isArray(t)?t[0]:t,a=null,n=null;if(r){let e=r.source;e&&(a=e.substring(e.lastIndexOf("/")+1)),n=r.component}return{fileName:a,componentName:n}}catch(e){return a.vF.error("Error parsing figmadoc",e),{fileName:null,componentName:null}}}},690611:(e,t,r)=>{r.d(t,{O:()=>d});var a=r(848318),n=r(749214);let o=(0,a.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M14.689 13.531c.25-.286.724-.235.875.114a.47.47 0 0 1-.089.507q-.302.349-.638.685c-1.417 1.417-3.029 2.398-4.474 2.86-1.402.448-2.833.456-3.675-.385-.841-.842-.833-2.273-.385-3.674.074-.228.376-.258.512-.06q.115.165.237.331a.54.54 0 0 1 .086.447c-.27 1.097-.12 1.872.257 2.249.422.422 1.345.561 2.663.14 1.274-.407 2.752-1.295 4.072-2.616q.294-.294.559-.598m-1.044-5.095a.47.47 0 0 1 .507.089q.35.301.685.637c1.418 1.418 2.4 3.03 2.863 4.476.448 1.402.454 2.833-.387 3.675-.842.84-2.271.832-3.673.384-.23-.073-.26-.377-.062-.513q.167-.114.333-.236a.54.54 0 0 1 .446-.086c1.098.271 1.872.12 2.249-.256.422-.423.563-1.346.141-2.664-.407-1.274-1.296-2.752-2.617-4.073a12 12 0 0 0-.598-.558c-.286-.25-.236-.724.113-.875M6.688 6.688c.842-.842 2.273-.835 3.675-.387.228.073.258.377.06.514q-.167.114-.333.236a.54.54 0 0 1-.446.086c-1.098-.27-1.872-.119-2.25.258-.42.422-.56 1.344-.139 2.662.407 1.274 1.295 2.752 2.615 4.072q.296.295.6.562c.285.25.235.723-.114.874a.47.47 0 0 1-.507-.09 13 13 0 0 1-.686-.639c-1.417-1.418-2.398-3.03-2.86-4.475-.448-1.402-.456-2.832.385-3.673M12 11a1 1 0 1 1 0 2 1 1 0 0 1 0-2m1.639-4.7c1.401-.447 2.831-.454 3.673.387.841.841.834 2.272.387 3.673-.074.23-.379.259-.515.061q-.115-.165-.236-.331a.54.54 0 0 1-.086-.446c.27-1.099.12-1.874-.257-2.25-.423-.422-1.345-.562-2.662-.14C12.67 7.66 11.19 8.548 9.87 9.87q-.294.296-.56.599c-.25.286-.724.237-.875-.112a.48.48 0 0 1 .089-.508q.303-.35.64-.686c1.417-1.418 3.03-2.4 4.476-2.862"})})});var l=r(653959),i=r(397415),s=r(66895),c=r(190010);let d=(0,a.forwardRef)(function(e,t){let{index:r,component:n,libraryKey:d,selectedFile:m,selectedComponent:u,onComponentChanged:_}=e,p=!m,f=m?.metadata?.repository,g=m?.metadata?.path,[E,b]=(0,a.useState)(""),[h]=(0,l.IT)((0,s.rt)({libraryKey:d,repository:f??"",path:g??""}),{enabled:!!m&&!!d&&!!f&&!!g&&!m?.metadata?.isCustomLink,key:`repositorySourceFileQuery-${g}`}),v="loading"===h.status,y="loaded"===h.status,w=h.data,T="ignored"===n.code_connect_info.v1.state,I=(0,a.useMemo)(()=>y&&w?function(e){let t;let r=[],a=/export\s+(default\s+)?(?:function|const|class|var|let)\s+([A-Z][A-Za-z0-9]*)/g;for(;null!==(t=a.exec(e));)r.push(t?.[2]??"");let n=/export\s+{\s*([^}]+)\s*}/g;for(;null!==(t=n.exec(e));)(t?.[1]?.split(",")??[]).forEach(e=>{let t=e.trim();/^[A-Z]/.test(t)&&r.push(t)});let o=/export\s+default\s+([A-Z][A-Za-z0-9]*)/g;for(;null!==(t=o.exec(e));)t?.[1]&&r.push(t[1]);let l=/(?:const|let|var)\s+([A-Z][A-Za-z0-9]*)\s*=/g;for(;null!==(t=l.exec(e));)t?.[1]&&e.includes(`export default ${t[1]}`)&&r.push(t[1]);return[...new Set(r)].filter(Boolean).map(e=>({name:e}))}(w):[],[y,w]);(0,a.useEffect)(()=>{u&&!m&&_(r,u,"delete")},[u,m,_,r]);let C=(0,a.useMemo)(()=>I.length?I.filter(e=>e.name.toLowerCase().includes(E.toLowerCase())).map(e=>({title:e.name,subtitle:"",icon:a.createElement(o,null)})):[],[E,I]);if(T)return a.createElement("td",{className:c.LU},"--");let S=m?.metadata?.isCustomLink?"Add component name and press \u21B5 Enter":"Search component";return a.createElement(i.A,{ref:t,disabled:p,isLoadingSearchResults:v,onDeleteLastItem:()=>{_(r,C[C.length-1],"delete")},onDropdownItemClick:e=>{_(r,e,"create")},onEnterPressed:e=>!!m?.metadata?.isCustomLink&&(_(r,{title:e,subtitle:"",icon:a.createElement(o,null)},"create"),!0),onValueChanged:e=>{b(e)},placeholder:u?"":S,searchResults:C,selectedItem:u?{value:[{value:u.title}]}:void 0,showDropdown:!m?.metadata?.isCustomLink&&!u,showDropdownOnFocus:!0})})},81970:(e,t,r)=>{r.d(t,{N:()=>u});var a=r(848318),n=r(716544),o=r(635080),l=r(813321),i=r(653959),s=r(697714),c=r(397415),d=r(66895),m=r(190010);let u=(0,a.forwardRef)(function(e,t){let{index:r,component:u,libraryKey:_,disabled:p,onFileChanged:f,selectedFile:g}=e,[E,b]=(0,a.useState)(""),[h]=(0,l.A)(E,300),v=(0,n.wA)(),y="ignored"===u.code_connect_info.v1.state,[w]=(0,i.IT)((0,d.Tp)({libraryKey:_,searchTerm:h}),{enabled:!!h&&!!_,key:`repositorySourceFilesQuery-${h}`}),T=(0,a.useMemo)(()=>w.data?w.data.map(e=>({title:e.name,subtitle:e.path,metadata:e,icon:a.createElement(o.g,null)})):[],[w.data]);if(y)return a.createElement("td",{className:m.LU},"--");if(!u.node_id)return null;let I=g?.title?{value:[{value:g.title,tooltip:g.metadata?.path}]}:void 0;return a.createElement(c.A,{ref:t,disabled:p,isLoadingSearchResults:"loading"===w.status||"disabled"===w.status,onDeleteLastItem:()=>{f(r,null)},onDropdownItemClick:e=>{f(r,e)},onEnterPressed:e=>{if(0===T.length){let t=e.match(/^(?:\/|\.\/)?([^/]+\/)*([^/]+)$/);if(!t)return!1;let[a,n,o]=t;return!!o&&(f(r,{title:o,subtitle:a,metadata:{isCustomLink:!0,repository:"",path:a,name:o,sha:"",type:"file"}}),v(s.F.enqueue({message:"Added custom file path",type:"Custom file path"})),!0)}return b(e),!1},onValueChanged:e=>{b(e)},placeholder:g?"":"Search component file or type a path and press \u21B5 Enter",searchResults:T,selectedItem:I})})},894906:(e,t,r)=>{r.d(t,{FileBrowserView:()=>hS});var a=r(848318),n=r(716544),o=r(157907),l=r(35030),i=r(202767),s=r(376399),c=r(141039),d=r(44509),m=r(730169),u=r(397579),_=r(653959),p=r(303035),f=r(831932),g=r(579463),E=r(469956),b=r(703518),h=r(357886),v=r(212108),y=r(59767),w=r(539855),T=r(509982),I=r(61485),C=r(445777),S=r(228238),x=r(17755),k=r(442313),N=r(775038),R=r(32859),A=r(485098),O=r(390808),L=r(412922),F=r(857188),P=r(470403),D=r(28244),M=r(992277),B=r(536384),U=r.n(B),$=r(381218),j=r(935454),W=r(802780),G=r(481540),V=r(409851),H=r(57589),z=r(208649),Y=r(87089),K=r(865183),q=r(661780),J=r(541641),X=r(129990),Q=r(192014),Z=r(556522),ee=r(217738),et=r(493080),er=r(195507),ea=r(145015),en=r(583120),eo=r(473889),el=r(575492),ei=r(645736),es=r(166365),ec=r(500276),ed=r(23459),em=r(95650),eu=r(675519),e_=r(180423),ep=r(326825),ef=r(670673),eg=r(412429),eE=r(35315),eb=r(680632),eh=r(61614),ev=r(151144);let ey="seen_org_admin_moved_unassigned_drafts_onboarding",ew=(0,em.A)("2024-10-15").startOf("day"),eT=(0,ef.r1)(ey);function eI(){let e=(0,ed.md)(eT),{show:t,isShowing:r,complete:o}=(0,ep.e)({overlay:ev.rv,priority:eE.N.DEFAULT_MODAL},[e]),l=(0,n.d4)(e=>(0,eg.xw)(e)),i=l?.created_at,s=!!i&&(0,em.A)(i).isSameOrAfter(ew);return(0,m.h)(()=>{t({canShow:e=>!(e||s)})}),a.createElement(eb.rq,{arrowPosition:eh.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),isShowing:r,onClose:o,primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:o,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eh.EL.FALLBACK,targetKey:eu.sm,title:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),trackingContextName:eu.o8,userFlagOnShow:ey})}var eC=r(829128),eS=r(790429),ex=r(790355),ek=r(834996);function eN(){let e=(0,n.wA)(),t=(0,ek.z3)();return a.createElement(eS.Z,{onClick:()=>{e(ex.$T({view:"recentsAndSharing"})),e(ex.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:a.createElement(eC.a,null),text:a.createElement(N.E,{truncate:!0},(0,k.tx)("sidebar.recents"))})}var eR=r(852338),eA=r(687174),eO=r(405866),eL=r(280503),eF=r(841747),eP=r(376780),eD=r(154209),eM=r(115431),eB=r(427008),eU=r(791591),e$=r(442752),ej=r(435254),eW=r(680579),eG=r(493554),eV=r(517989),eH=r(635547),ez=r(572699),eY=r(965845),eK=r(977508),eq=r(431060);let eJ=(0,ef.r1)("seen_connected_projects_admin_settings_overlay"),eX="connect_admin_settings_onboarding_key";function eQ(e){let t=(0,ed.md)(eJ),{show:r,isShowing:n,complete:o}=(0,ep.e)({overlay:ev.kBq,priority:eE.N.DEFAULT_MODAL},[t]);return(0,m.h)(()=>{r({canShow:e=>!e})}),a.createElement(eb.rq,{arrowPosition:eh.F_.LEFT_TITLE,description:a.createElement("p",null,(0,k.tx)("resource_connection.onboarding.use_admin_settings_to_see_all_your_connected_projects")),emphasized:!0,isShowing:n,onClose:o,primaryCta:{label:(0,k.tx)("resource_connection.onboarding.show_me"),type:"button",onClick:()=>{e.openConnectedProjectsTab(),o()},ctaTrackingDescriptor:e_.c.DONE},targetKey:eX,trackingContextName:"Connected Projects Admin Settings Onboarding",width:350,zIndex:eq.R.MODAL})}function eZ(e){let t=(0,n.wA)(),r=(0,eV.H)({useCurrentPlan:!0}),l=(0,ez.tJ)().unwrapOr(null),i=(0,eG.Rs)(eH.sMZ,{name:"initiated_first_resource_connection"}),s=a.useMemo(()=>"loaded"===i.status&&!!i.data?.currentUser?.userFlagByName,[i])&&r&&(0,o.k)().fc_initial_onboarding_enabled&&(l?.tier===eP.Ag.PRO||l?.tier===eP.Ag.ORG||l?.tier===eP.Ag.ENTERPRISE),c=a.createElement("div",{className:x.s.h24.w24.$},a.createElement(ej.I,null)),d=a.createElement(e0,{badge:e.badge});return a.createElement(a.Fragment,null,a.createElement("div",{className:"go_to_admin_row--goToAdminRow--OPVDe"},a.createElement(eS.Z,{icon:c,text:a.createElement("div",{className:x.s.pr36.$,"data-onboarding-key":e.dataOnboardingKey},a.createElement(N.E,{truncate:!0},(0,k.tx)("sidebar.admin_dashboard"))),isSelected:e.isSelected,onClick:e.onClick,badge:d,dataTestId:e.dataTestId,"data-onboarding-key":eX})),s&&a.createElement(eQ,{openConnectedProjectsTab:()=>{l?.type===eP.OL.TEAM?t(ex.$T({view:"teamAdminConsole",teamId:l?.key.parentId??"",teamAdminConsoleViewTab:eK.Iv.CONTENT,teamAdminConsoleViewSecondaryTab:eK.F9.CONNECTED_PROJECTS})):t(ex.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eY.J7.CONTENT,orgAdminSettingsViewSecondaryTab:eY.SN.CONNECTED_PROJECTS}))}}))}function e0(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"go_to_admin_row--badgeContainer--U08cW"},e.badge),a.createElement("div",{className:"go_to_admin_row--iconContainer--tEzjQ"},a.createElement(eW.a,null)))}var e1=r(490775),e4=r(832571),e5=r(32922),e2=r(546246),e7=r(632859),e3=r(701058),e8=r(139348);function e6(e){let t=(0,n.wA)(),r=e.orgUser.permission===eP._D.ADMIN,o=(0,e5.RG)(),l=(0,e5.MX)(),{groupsUserIsAdminOf:i}=(0,e5.EQ)(l,e.orgUser.user_id,!r),s=(0,eB.Xf)(e.org.id),c="loaded"===s.status?s.data?.invoices??[]:void 0;a.useEffect(()=>{t(e1.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:d}=(0,e5.Cz)(i,c),m=i[0]?.id,u=e.org.bigma_enabled&&o&&!!m,_=(0,J.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&_.length>0,f=(0,eU.ZY)({isIntendedAudience:e.org.bigma_enabled&&!r});if(!(r||u||p))return null;let g=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===e3.GN.ADMIN;case"workspace":return e.subView===e8.V0.ADMIN;default:return!1}}(e.selectedView),E=a.createElement(e$.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:g});return a.createElement(eZ,{badge:E,onClick:()=>{let e=c&&(0,e2.hX)(c);if(r){let e=eY.J7.DASHBOARD;t(ex.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(ex.Oe({clickedResourceType:"orgAdminSettings"}))}else u?f?t(ex.$T({view:"billingGroupDashboard",selectedTab:e7.D.REQUESTS})):(t(ex.$T({view:"licenseGroup",subView:e3.GN.ADMIN,licenseGroupId:e&&d.length>0?d[0].id:m,selectedTab:(0,e4.g)(e&&d.length>0?e3.RM.MEMBERS:e3.Uu[0])})),t(ex.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(ex.$T({view:"workspace",subView:e8.V0.ADMIN,workspaceId:_[0].id,selectedTab:e8._C})),t(ex.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:eu.sm,isSelected:g})}var e9=r(8015),te=r(110979);function tt(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?a.createElement(eS.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{r(te.dm(t)),r(ex.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:a.createElement(e9.t,null),text:a.createElement(N.E,{truncate:!0},(0,k.tx)("sidebar.all_projects"))}):null}var tr=r(832876);function ta(e){let t=(0,n.wA)(),r=(0,ek._6)(),o="workspace"===r.view&&r.workspaceId===e.workspace.id&&r.subView===e8.V0.DIRECTORY;return a.createElement(eS.Z,{isSelected:o,onClick:()=>{t(ex.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:e8.dN.TEAMS,subView:e8.V0.DIRECTORY})),t(ex.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:a.createElement(tr.z6,{entity:e.workspace,size:16}),text:a.createElement(N.E,{truncate:!0},e.workspace.name),"data-onboarding-key":e.dataOnboardingKey})}var tn=r(684525);let to="seen_sidebar_workspace_link_onboarding",tl="sidebar_workspace_link_onboarding";function ti(){let e=(0,ef.r1)(to),t=(0,ed.md)(e),r=(0,ed.md)(tn.Fy),{show:n,isShowing:o,complete:l}=(0,ep.e)({overlay:ev.Tp6,priority:eE.N.DEFAULT_MODAL},[t,r]);return(0,m.h)(()=>{n({canShow:(e,t)=>!e&&t})}),a.createElement(eb.rq,{arrowPosition:eh.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,k.tx)("sidebar.workspaces.onboarding_description"),disableHighlight:!0,emphasized:!0,isShowing:o,onClose:l,primaryCta:{label:(0,k.tx)("general.done"),ctaTrackingDescriptor:e_.c.DONE,type:"button",onClick:l},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/7576392133527-Guide-to-workspaces",ctaTrackingDescriptor:e_.c.LEARN_MORE},targetKey:tl,title:(0,k.tx)("sidebar.workspaces.onboarding_title"),trackingContextName:"sidebar-workspace-link-onboarding",userFlagOnShow:to})}var ts=r(732502);let tc="sidebar--section--COZVK",td="sidebar--loading--AITp2",tm="sidebar--divider--sHsz4";function tu({userStateLoaded:e,sidebarUser:t}){let r=(0,ez.pT)(),n=(0,ts.x1)(),o=t?.baseOrgUser?.permission===eP._D.GUEST,l=t?.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspace;return!l||o||!r||n()?null:e?a.createElement(a.Fragment,null,a.createElement(ti,null),a.createElement(ta,{workspace:l,dataOnboardingKey:tl})):a.createElement("div",{className:td},a.createElement(eo.kt,null))}var t_=r(899857);function tp(){let e=(0,n.wA)(),t=(0,ek._6)();return a.createElement(eS.Z,{isSelected:"componentBrowser"===t.view,onClick:()=>{e(ex.$T({view:"componentBrowser"}))},icon:a.createElement(t_._,null),text:a.createElement(N.E,{truncate:!0},"Your libraries")})}var tf=r(50369),tg=r(859891),tE=r(425642),tb=r(63571),th=r(963376),tv=r(17178),ty=r(464488),tw=r(785534),tT=r(464012),tI=r(117592);let tC=(0,tT.Ju)(function(e){let t=(0,n.wA)(),r=a.createElement("span",{className:x.s.fontBold.$},e.sectionName);return a.createElement(tI.Rw,{onConfirm:()=>{t(eA.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,k.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--8Haoy text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,k.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},a.createElement("p",{className:"confirm_section_delete_modal--content--BToo-"},(0,k.tx)("sidebar.if_you_delete_section_the_section",{item:e.count>1?(0,k.t)("sidebar.items"):(0,k.t)("sidebar.item"),section:r,count:e.count,pronoun:e.count>1?(0,k.t)("sidebar.them"):(0,k.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",tT.ZU.YES);var tS=r(449737),tx=r(161922);let tk="custom-section-header-context-menu";function tN(){let e=(0,n.d4)(e=>e.dropdownShown);return e&&e?.type===tk?e:null}function tR(e){let t=(0,n.wA)(),r=tN();if(null==r)return a.createElement(a.Fragment,null);let o=()=>{0===r.data.favoritesCount?t(eA.de({sidebarSectionId:r.data.customSection.id})):t((0,tS.to)({type:tC,data:{sectionId:r.data.customSection.id,sectionName:r.data.customSection.name,count:r.data.favoritesCount}}))},l=()=>{e.setRenamingSectionId(r.data.customSection.id)},i=[{displayText:(0,k.t)("sidebar.rename_section"),callback:()=>l()},{displayText:(0,k.t)("sidebar.delete_section"),callback:()=>o()}];return a.createElement(tx.j,{depth:0,dispatch:t,hidePointWhenContentOffScreen:!0,items:i,lean:"right",leanPadding:0,minWidth:162,onSelectItem:(e,r)=>{e.callback&&e.callback("",null,t)},parentRect:r.data.targetRect,showPoint:!r.data.isFromRightClick})}var tA=r(399545);let tO="favorited_section--emojiIcon--pDnB-",tL="favorited_section--favoriteStar--2R5nb",tF="favorited_section--isDragTarget--dQd5-",tP="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tD="favorited_section--previewContainerSidebarRowRedesigned--TewzL",tM="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tB="favorited_section--favoriteClickTarget--Z9eur",tU="favorited_section--thumbnailContainer--C4PE-",t$="favorited_section--lowerContainer--9gDfQ",tj="favorited_section--lowerPartTitles--44fhW",tW="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",tG="favorited_section--editorTypeIndicator--OmyvY",tV="favorited_section--dialogTriggerButtonContainer--m7yPm";function tH(e){let t=(0,n.wA)(),r=(0,n.d4)(eD.wA);if(!r)return null;let o=a.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(ex.$T({view:"org",orgId:r.id,orgViewTab:tA.X.HOME}))},className:"favorited_section--browseOrgLink--BvX0-"},(0,k.tx)("sidebar.browse_org_custom_sections"));return a.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH"},(0,k.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),o)}function tz(e){return a.createElement("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH"},a.createElement(tH,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var tY=r(475020),tK=r(897378),tq=r(792760),tJ=r(452551),tX=r(293964),tQ=r(32413),tZ=r(697714),t0=r(320583),t1=r(922976),t4=r(430285),t5=r(694253),t2=r(163620),t7=r(85442),t3=r(884060),t8=r(531089),t6=r(54018),t9=r(298934),re=r(291333),rt=r(526999),rr=r(181427),ra=r(717752),rn=r(197925),ro=r(273121),rl=r(918105),ri=r(562688),rs=r(746948),rc=r(997894),rd=r(128204),rm=r(404658),ru=r(183905),r_=r(821618),rp=r(103567),rf=r(349788),rg=(e=>(e.FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",e.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",e.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",e.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",e.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",e))(rg||{});let rE="sidebar context menu";function rb(e,t,r,a){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;r(t3.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let a=(0,t2.QJ)(e);a&&r(t9.bE({repo:a}))}r(ex.j7({type:a,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let rh=(e,t,r,a={})=>e?[{displayText:t?t():"",callback:r,...a}]:[],rv=[{displayText:"",separator:!0}];function ry({dropdownShown:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),i=(0,n.d4)(e=>e.user?.personal_drafts_folder_id),s=(0,rn.p)(),d=(0,o.k)().ps_benchmark,m="favorited-project-context-menu"===e.type?e.data.resource.project?.id:e.data.resource?.file?.folderId,u=e.data.resource,_=d&&!!i&&u?.file?.folderId===i,p=(t0.C7b.CAN_VIEW===t0.C7b.CAN_VIEW?function(e){let t=(0,eF.FC)();return(0,a.useMemo)(()=>t4.Qw.loaded((0,t5.canViewFolder_DEPRECATED)(e,t)),[e,t])}(m):t4.Qw.loaded(!1)).unwrapOr(!1),f=!_&&p,g="favorited-prototype-context-menu"===e.type,E=(0,t1.As)(u?.file?.key??""),b=a.useMemo(()=>"favorited-file-context-menu"===e.type&&!!E.unwrapOr(null)?.canTrash,[e.type,E]),h=[...rh(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,tX.DF)("open"),"favorited-file-context-menu"===e.type?((0,tX.LP)(u.file.key,eP.bk.FILE,u.sidebarSectionId,rE,u.file.editorType),(0,rt.Tq)(t,u.file)):"favorited-prototype-context-menu"===e.type?((0,tX.LP)(u.prototype.fileKey,eP.bk.PROTOTYPE,u.sidebarSectionId,rE,"design"),(0,V.FS)(t,u)):"favorited-project-context-menu"===e.type&&(t(te.kg({clickedResourceType:"folder",resourceIdOrKey:u.project.id})),(0,rt.U8)(u.project.id,t))}),...rh(!c.eD&&!(0,l.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,rt.nz)((0,ro.jN)({...u,allowDefaulting:!0}),u.file.key,r,t),(0,tX.LP)(u.file.key,eP.bk.FILE,u.sidebarSectionId,rE,u.file.editorType),(0,tX.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=u.prototype.url;(0,rt.D4)(e,u.prototype.fileKey,u.prototype.file.pageId,r),(0,tX.LP)(u.prototype.fileKey,eP.bk.PROTOTYPE,u.sidebarSectionId,rE,"design"),(0,tX.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(t(te.kg({clickedResourceType:"folder",resourceIdOrKey:u.project.id})),(0,rt.Wq)((0,rm.EE)(u.project.id,u.project.org_id??null),t),(0,tX.LP)(u.project.id,eP.bk.FOLDER,u.sidebarSectionId,rE,"design"))}),...rv,...rh(!0,()=>(0,k.t)("tile.dropdown.copy_link"),()=>{(0,tX.DF)("copy_link"),"favorited-file-context-menu"===e.type?t(t3.S({fileKey:u.file.key,url:(0,ro.jN)({file:u.file,attributionContext:(0,ri.b)(s,ri.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:ri.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?t(t7.S({url:u.prototype.url})):"favorited-project-context-menu"===e.type&&t(t7.S({url:(0,rm.EE)(u.project.id,u.project.org_id??null)}))}),...rh(!g&&!_,()=>(0,k.t)("sidebar.share"),()=>{(0,tX.DF)("share"),"favorited-file-context-menu"===e.type?t((0,tS.to)({type:rp.g_,data:{fileKey:u.file.key,source:rr.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&t((0,tS.to)({type:rf.W,data:{folderId:u.project.id}}))}),...rh(f,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,tX.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&e.data.resource.file?.folderId!=null){if(t(ex.$T({view:"folder",folderId:e.data.resource.file.folderId})),t(re.an()),e.data.resource.file.repo){let r=(0,t2.QJ)(e.data.resource);null!=r&&t(re.y$({type:r_.F.REPOS,tiles:[{type:ra.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else t(re.y$({type:r_.F.FILES,tiles:[{type:ra.nb.FILE,file:rl.F.toLiveGraph(e.data.resource.file)}]}))}},{disabled:!f}),...rv,...rh(!g,()=>(0,k.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&u.prototype?t(eA.X7({prototype:{file_key:u.prototype.fileKey,page_id:u.prototype.pageId},entrypoint:"sidebar",favoriteId:u.id})):"favorited-file-context-menu"===e.type&&u.file?t(eA.qP({file:{key:u.file.key,editorType:u.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:u.id})):"favorited-project-context-menu"===e.type&&u.project&&t(t6.ZJ({folderId:u.resourceId,teamId:u.project.teamId,isSubscribed:!1}))}),...rv,...rh(!g&&!_,()=>(0,k.t)("sidebar.delete"),()=>{if((0,tX.DF)("delete"),"favorited-file-context-menu"===e.type){let e=E.unwrapOr(null)?.canTrash?{[u.file.key]:u.file}:{};t(t8.U1({filesByKey:e}))}},{disabled:!b})];return a.createElement(tx.j,{items:h,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rw(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),o=(0,rn.p)(),i=e.favoritedFile.file,s=rc.M4.useFile(i?.key).data,d=i?.project?.canView,m=(0,n.d4)(e=>e.dropdownShown);if(null==m||null==i)return null;let u="favorited-file-context-menu"===m.type,_=[...rh(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,tX.DF)("open"),(0,tX.LP)(i.key,eP.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rE,i.editorType??void 0),(0,rt.Tq)(t,i)}),...rh(!c.eD&&!(0,l.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{(0,rt.nz)((0,ro.jN)({file:i,allowDefaulting:!0}),i.key,r,t),(0,tX.LP)(i.key,eP.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,rE,i.editorType),(0,tX.DF)("open_in_new_tab")}),...rv,...e.organizeFavoriteOptions,...rv,...rh(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{t(t3.S({fileKey:i.key,url:(0,ro.jN)({file:i,attributionContext:(0,ri.b)(o,ri.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:ri.d.FAVORITED_FILE_CONTEXT_MENU})),t(ex.oB())}),...rh(!0,()=>(0,k.t)("sidebar.share"),()=>{(0,tX.DF)("share"),t((0,tS.to)({type:rp.g_,data:{fileKey:i.key,source:rr.nk.fileBrowserFavoritedContextMenu}}))}),...rh(!0,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,tX.DF)("show_in_project"),t(ex.$T({view:"folder",folderId:e.folderId})),t(re.an()),i.fileRepoId){let r=(0,t2.QJ)(e.favoritedFile);null!=r&&t(re.y$({type:r_.F.REPOS,tiles:[{type:ra.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else{if(!s)return;t(re.y$({type:r_.F.FILES,tiles:[(0,ra.fA)(s)]}))}},{disabled:!(u&&d)})];return a.createElement(tx.j,{items:_,parentRect:m.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rT(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rv,...rh(!0,()=>(0,k.t)("file_browser.copy_link_to_team"),()=>{let r=(0,ru.bL)(e.teamId,e.orgId);t(t7.S({url:r})),t(ex.oB())})];return a.createElement(tx.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rI(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rv,...rh(null!==e.orgId,()=>(0,k.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let r=(0,rd.fO)(e.workspaceId,e.orgId);t(t7.S({url:r}))}t(ex.oB())})];return a.createElement(tx.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rC(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rv,...rh(!0,()=>(0,k.t)("file_browser.copy_link_to_project"),()=>{let r=(0,rm.EE)(e.projectId,e.orgId);t(t7.S({url:r})),t(ex.oB())})];return a.createElement(tx.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rS(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown);if(null==r)return null;let o=[...e.organizeFavoriteOptions,...rv,...rh(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{let r=(0,rs._3)(e.prototype.fileKey,e.prototype.file?.name,e.prototype.pageId);t(t7.S({url:r})),t(ex.oB())})];return a.createElement(tx.j,{items:o,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}var rx=r(186323),rk=r(968189),rN=r(576220),rR=r(516397),rA=r(817818),rO=r(254490);function rL(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=e.favorite.team,s=(0,n.d4)(e=>e.dropdownShown),c=a.useMemo(()=>s&&s.type===rg.FAVORITED_TEAM_CONTEXT_MENU&&s.data.teamId===i?.id,[s,i?.id]),m=a.useCallback((e,r)=>{(0,tX.LP)(r.team?.id,eP.bk.TEAM,r.sidebarSectionId??void 0,tX.vg);let a=(0,ru.bL)(r.resourceId,r.orgId);(0,F.oJ)(e)?(d.Ay.redirect(a,"_blank"),e.stopPropagation()):(t(te.dm(r.resourceId)),e.preventDefault())},[t]),u=a.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(ex.j7({type:rg.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:i.id,targetRect:r}}))},[t,i]);if(!r||null===i)return a.createElement(a.Fragment,null);let _=(0,rA.o)({dispatch:t,currentOrgId:r,currentTeamId:o,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eP.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={entrypoint:"sidebar",sectionId:a,team:{id:i.id},favoriteId:e.favorite.id,resourceType:eP.bk.TEAM};r?t(eA.V1(n)):t(eA.ox(n))}});return a.createElement(a.Fragment,null,a.createElement(eS.Z,{isSelected:e.isSelected,onClick:t=>m(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:u,icon:i.imgUrl?a.createElement("div",{className:x.s.colorIcon.$},a.createElement(rN.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:rN.Pf.SMALL,fallbackSize:rN.Pf.SMALL},fallbackDisplay:rR.U.HIDDEN,team:{...i,imgUrl:i.imgUrl},fallbackSvg:rO.A})):a.createElement(rk.U,null),text:a.createElement(N.E,{truncate:!0},i.name)}),c&&a.createElement(rT,{teamId:i.id,orgId:i.orgId,organizeFavoriteOptions:_}))}var rF=r(159186),rP=r(7721),rD=r(183651),rM=r(466491),rB=r(26039),rU=r(97607),r$=r(616707),rj=r(425076),rW=r(92537),rG=r(650309);let rV=e=>a.createElement("div",{className:tO},e);function rH(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.currentTeamId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,n.d4)(e=>e.dropdownShown),c=e.favorite.file,m=rc.M4.useFile(c?.key).data,u=(0,rG.N)(),_=null!==r,p=(0,o.k)().ps_benchmark&&l,f=a.useMemo(()=>s&&s.type===rg.FAVORITED_FILE_CONTEXT_MENU&&s.data.fileKey===c?.key,[s,c]),g=a.useMemo(()=>s&&s.type===tk,[s]),E=a.useCallback(e=>{if(!c)return;m||t(t3.yJ({file:{key:c.key,team_id:c.teamId,file_repo_id:c.fileRepoId,folder_id:c.folderId,library_key:c.libraryKey}})),e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(ex.j7({type:rg.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:c.key,targetRect:r}}))},[t,c,m]);if(null===c)return a.createElement(a.Fragment,null);let b=(0,ro.jN)({file:c,allowDefaulting:!0}),h=(e,r)=>{(0,tX.LP)(r.file?.key,eP.bk.FILE,r.sidebarSectionId??void 0,tX.vg,r.file?.editorType??void 0),(0,F.oJ)(e)?(t(te.UN({fileKey:r.file?.key??"",entrypoint:tX.vg})),e.stopPropagation()):e.preventDefault(),r.file&&(d.Ay.redirect(b,"_blank"),t(te.UN({fileKey:r.file.key,entrypoint:tX.vg})))},v=()=>{null!==c&&t(eA.qP({file:{key:c.key,editorType:c.editorType??eP._Y.DESIGN},repoId:c.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},y=(0,rA.o)({dispatch:t,currentOrgId:r,currentTeamId:l,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eP.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r&&m){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eP.bk.FILE};t(eA.V1(r))}else r||null===c||v()}}),w=c?.name,T=(0,rj.AE)(w),I=e.favorite.file?u(e.favorite.file):rB.y1.DESIGN,C=T?rV(T):a.createElement(rM.F,{type:I}),S=T?(0,rj.Nn)(w,T):w,x=e.favorite.file?.project?.path,R=(0,rW.S)(x),A=R?tW:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return a.createElement("div",{className:tB},a.createElement(eS.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,onContextMenu:_||p?E:r=>{rb(e.favorite,r,t,rg.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>h(t,e.favorite),icon:C,text:""!==S?a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},S):a.createElement(N.E,{truncate:!0},(0,k.tx)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file")),badge:e.isHover&&!(_||p)?a.createElement("div",{className:tL},a.createElement(r$.r,{favoriteType:eP.bk.FILE,resourceId:e.favorite.resourceId,setFavorite:v,orgId:e.favorite.orgId})):void 0,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED}),!f&&!g&&a.createElement("div",{className:U()(e.showPreviewDelay?tP:tM,{[tD]:(0,o.k)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`}},a.createElement("div",{className:tU},a.createElement(rU.NM,{file:c,noBorder:!0})),a.createElement("div",{className:t$},a.createElement(rB.MW,{svgOptions:{id:"sidebar-thumbnail"},className:tG,type:I}),a.createElement("div",{className:tj},a.createElement("div",{className:A},e.favorite.file?.name),R&&a.createElement("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},R)))),(_||p)&&f&&c?.folderId&&a.createElement(rw,{favoritedFile:e.favorite,folderId:c.folderId,organizeFavoriteOptions:y}))}var rz=r(660437),rY=r(827971),rK=r(835748);let rq=e=>a.createElement("div",{className:tO},e);function rJ(e){let t=(0,n.wA)(),r=e.favorite.project,o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,tw.S)(),c=(0,n.d4)(e=>e.dropdownShown),d=a.useMemo(()=>c&&c.type===rg.FAVORITED_PROJECT_CONTEXT_MENU&&c.data.projectId===r?.id,[c,r]),m=a.useCallback(e=>{if(!r)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(ex.j7({type:rg.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:r.id,targetRect:a}}))},[t,r]),u=(0,rK.E)(),_=a.useCallback((e,t)=>{(0,tX.LP)(t.project?.id,eP.bk.FOLDER,t.sidebarSectionId??void 0,tX.vg),u(t.resourceId,e)},[u]),p=(0,eV.H)({useCurrentPlan:!0});if(!s||null==r)return null;let f=(0,rA.o)({dispatch:t,currentOrgId:l,currentTeamId:o,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eP.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,n)=>{let o={entrypoint:"sidebar",sectionId:n,folder:r,favoriteId:e.favorite.id};a?t(eA.Mv(o)):t(eA.jv(o))}}),g=(0,rj.AE)(r.path),E=g?(0,rj.Nn)(r.path,g):r.path,b=e.favorite.project?.activeProjectResourceConnections?.[0];return a.createElement("div",null,a.createElement(eS.Z,{onContextMenu:m,isSelected:e.isSelected,onClick:t=>_(t,e.favorite),icon:g?a.createElement("div",null,rq(g)):a.createElement(rz.e,null),showGrabber:e.showGrabber,text:a.createElement(N.E,{truncate:!0},E),isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,badge:p&&b?a.createElement(rY.W,{hostPlanName:b.hostPlanName,connectedPlanName:b.connectedPlanName}):void 0}),d&&a.createElement(rC,{projectId:r.id,orgId:r.orgId,organizeFavoriteOptions:f}))}var rX=r(700854),rQ=r(576716),rZ=r(390709),r0=r(775991);function r1({thumbnailUrl:e,isLocked:t,...r}){return t?a.createElement(rQ.N,{thumbnailType:r0.F.PROTOTYPE,...r}):a.createElement(rZ.V,{thumbnailUrl:e,thumbnailType:r0.F.PROTOTYPE,...r})}function r4(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,n.d4)(e=>e.dropdownShown),c=a.useMemo(()=>s&&s.type===rg.FAVORITED_PROTOTYPE_CONTEXT_MENU&&s.data.resource.prototype.id===e.favorite.prototype?.id,[s,e.favorite.prototype]),m=a.useMemo(()=>s&&s.type===tk,[s]),u=(0,tw.S)();if(null===e.favorite.prototype)return a.createElement(a.Fragment,null);let _=(0,rs._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),p=(e,t)=>{if((0,tX.LP)(t.prototype?.fileKey,eP.bk.PROTOTYPE,t.sidebarSectionId??void 0,tX.vg),(0,F.oJ)(e)){e.stopPropagation();return}e.preventDefault(),d.Ay.redirect(_,"_blank")},f=(r,a)=>{r||null===e.favorite.prototype||t(eA.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},g=(0,rA.o)({dispatch:t,currentOrgId:l,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eP.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eP.bk.PROTOTYPE};t(eA.V1(r))}else f(!1,e.favorite.id)}});return a.createElement("div",{className:tB},a.createElement(eS.Z,{isSelected:e.isSelected,onContextMenu:r=>{rb(e.favorite,r,t,rg.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>p(t,e.favorite),icon:a.createElement(rX.F,null),text:a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},e.favorite.prototype.file?.name),badge:e.isHover&&!u?a.createElement("div",{className:tL},a.createElement(r$.r,{favoriteType:eP.bk.PROTOTYPE,resourceId:e.favorite.resourceId,setFavorite:f,orgId:e.favorite.orgId})):void 0,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED}),!c&&!m&&a.createElement("div",{className:U()(e.showPreviewDelay?tP:tM,{[tD]:(0,o.k)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`}},a.createElement("div",{className:tU},a.createElement(r1,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})),a.createElement("div",{className:t$},a.createElement(rX.F,{className:tG}),a.createElement("div",{className:tj},a.createElement("div",{className:tW},e.favorite.prototype.file?.name)))),u&&c&&e.favorite.prototype&&a.createElement(rS,{prototype:e.favorite.prototype,organizeFavoriteOptions:g}))}function r5(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=(0,n.d4)(e=>e.dropdownShown),s=e.favorite.workspace,c=a.useMemo(()=>i&&i.type===rg.FAVORITED_WORKSPACE_CONTEXT_MENU&&i.data.workspaceId===s?.id,[i,s?.id]),d=a.useCallback((e,r)=>{let a=r.workspace;(0,tX.LP)(a?.id,eP.bk.WORKSPACE,r.sidebarSectionId??void 0,tX.vg),a&&t(ex.$T({view:"workspace",subView:e8.V0.DIRECTORY,workspaceId:a.id,selectedTab:e8.dN.TEAMS}))},[t]),m=a.useCallback(e=>{if(!s)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(ex.j7({type:rg.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:s.id,targetRect:r}}))},[t,s]);if(!r||null===s)return a.createElement(a.Fragment,null);let u=(0,rA.o)({dispatch:t,currentOrgId:r,currentTeamId:o,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eP.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={workspace:{id:s.id,name:s.name??"",imgUrl:e.favorite.workspace?.imgUrl??null},entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id};r?t(eA.ZW(n)):t(eA.if(n))}}),_=e.favorite.workspace?a.createElement(tr.z6,{entity:e.favorite.workspace,size:16}):a.createElement(e9.t,{className:x.s.colorIcon.$});return a.createElement("div",null,a.createElement(eS.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:a.createElement(N.E,{truncate:!0}," ",s.name)}),c&&a.createElement(rI,{workspaceId:s.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}))}var r2=r(503159);let r7=(e,t)=>{let r=e.cloneNode(!0),a=document.createElement("div");return a.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(a.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(r.classList.add(t),r.classList.add(x.s.colorText.$)),a.appendChild(r),document.body.appendChild(a),a};function r3(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),o=(0,rx.R)(),{hasPendingRequest:l,getUpgradePathway:i,getUpgradeEligibility:s,getPlanAndPlanUser:c,getHasProvisionalAccess:d,getShouldShowCurf:m,getIsUpgradeHandlerLoading:u,getIsEligibleForProvisionalAccess:_}=(0,rD.wH)({folderId:e.favorite.resourceType===eP.bk.FOLDER?e.favorite.resource.project?.id??null:null,isDraftsMove:!0}),p=(0,rP.f4)((0,ed.md)(rP.yH),o),[f,g]=a.useState(!1),E=e.favorite.resourceType,b=(0,ek._6)(),[h,v]=a.useState(!1),y=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!h,[w,T]=a.useState(!1),I=a.useRef(null),S=(0,tw.S)(),x=f&&!S,k=e.isSelected||(()=>{switch(E){case eP.bk.FOLDER:return"folder"===b.view&&b.folderId===e.favorite.resource.resourceId;case eP.bk.TEAM:return"team"===b.view&&b.teamId===e.favorite.resource.resourceId;case eP.bk.WORKSPACE:return"workspace"===b.view&&b.subView===e8.V0.DIRECTORY&&b.workspaceId===e.favorite.resource.resourceId;default:return!1}})(),N=(t,r)=>{let a=u();return(0,rP.Zm)({files:t,repos:r,isDestinationDrafts:e.favorite.resourceType===eP.bk.FOLDER&&e.favorite.resource.project?.path==="",enabledForOrgOnly:!1,originFolderIdToPath:p,isBillingRemodelEnabled:o,hasPendingRequest:l,getUpgradePathway:i,getUpgradeEligibility:s,getPlanAndPlanUser:c,getHasProvisionalAccess:d,getShouldShowCurf:m,loading:a,getIsEligibleForProvisionalAccess:_})};return a.createElement("div",{className:y?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0},a.createElement(tb.Y,{key:e.favorite.resource.resourceId,isDragTarget:e=>{let t=new rF.le(e);return v(t.isFile()),r.type!==eM.R.SidebarSection&&!t.isFile()},onTargetDragEnter:(t,a)=>{let n=new rF.le(t),o=!1;(r.type===eM.R.Favorite||n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())&&((n.isFigFiles()||n.isRepos()||n.isTiles())&&(o=e.favorite.resourceType===eP.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:o?a.upperQuarter:a.upper,dropInto:o&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),T(o))},onTargetDragLeave:t=>{let a=new rF.le(t);(r.type===eM.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&y)&&(e.clearRearrangeDragState(e.favorite.resource.id),T(!1))},onTargetDrop:a=>{let n=new rF.le(a);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===eP.bk.FOLDER&&e.favorite.resource.project)(0,r2.A)(t,e.favorite.resource.project,e.favorite.resource.project.team,n,o,N),t(ty.T());else if(n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())e.onSetResourceFavoriteDragDrop(a);else if(r.type===eM.R.Favorite&&y){let a=r.data;e.reorderOrInsertFavorite(a.resource.id,a.resourceType),t(ty.T())}e.clearRearrangeDragState(e.favorite.resource.id),T(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:w?t.upperQuarter:t.upper,dropInto:w&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},a.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||g(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),g(!1)},onDragStart:r=>{r.dataTransfer.effectAllowed="move";let a=new rF.le(r.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let n=r.currentTarget.firstElementChild;if(null===n)return;let o=n.getBoundingClientRect(),l=r.clientX-o.left,i=r.clientY-o.top;I.current=r7(n,"favorited_generic_row--draggable--QinZd"),a.setDragImage(I.current,l,i),t(ty.v({type:eM.R.Favorite,data:e.favorite}))},onDragEnd:r=>{I.current&&I.current.remove(),t(ty.T()),e.clearRearrangeDragState(e.favorite.resource.id),T(!1)},draggable:!e.isFavoritesToMove_DEPRECATED},(()=>{switch(E){case eP.bk.FILE:return a.createElement(rH,{favorite:e.favorite.resource,isHover:f,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eP.bk.PROTOTYPE:return a.createElement(r4,{favorite:e.favorite.resource,isHover:f,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eP.bk.FOLDER:return a.createElement(rJ,{favorite:e.favorite.resource,isHover:f,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED});case eP.bk.TEAM:return a.createElement(rL,{favorite:e.favorite.resource,isHover:f,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case eP.bk.WORKSPACE:return a.createElement(r5,{favorite:e.favorite.resource,isHover:f,showGrabber:x,isSelected:k,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,C.xb)(E)}})())))}var r8=r(713547),r6=r(254310),r9=r(831718),ae=r(523860),at=r(85206);function ar(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),l=function(){let e=(0,n.d4)(e=>e.dropdownShown),t=(0,n.d4)(e=>e.currentUserOrgId),r=(0,n.d4)(e=>e.currentTeamId),a=(0,o.k)().ps_benchmark&&r;return!e||e?.type!=="favorited-file-context-menu"&&e?.type!=="favorited-prototype-context-menu"||t||a?null:e}(),i=(0,r6.u8)({oldValue:l,newValue:null,label:r6.A5.SingleFavoritesSection.dropdownShown,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_4)}),s=(0,Y.dq)()??null,c=(0,V.sb)(e.favorites,e.order),d=(0,ek._6)(),[m,_]=a.useState(!1),p=(0,n.d4)(e=>e.favorites.movingResource),f=(0,tw.S)(),g=(0,n.d4)(e=>e.favorites.collapsedCustomSections),E=f&&e.section?!g.has(e.section?.id):!g.has("favorited"),[b,h]=a.useState(!1),[v,y]=a.useState(),[w,T]=a.useState(),I=(0,n.d4)(e=>e.dragState),C=(0,u.ZC)(I);a.useEffect(()=>{I.type===eM.R.None&&C&&C.type!==eM.R.None&&T(void 0)},[I,C]),a.useEffect(()=>{!e.isCurrentHoveredSection&&I.type===eM.R.SidebarSection&&w&&T(void 0)},[e.isCurrentHoveredSection,w,I]);let[S,N]=a.useState(void 0),[R,A]=a.useState(!0),O=a.useRef(null),L=tN();a.useEffect(()=>{S===w?.draggedOverFavoriteId&&T(void 0),N(void 0)},[w,T,S,N]);let F=a.useCallback(r=>{e.section?.id&&(r.dataTransfer.effectAllowed="move",new rF.le(r.dataTransfer).setArbitraryData(e.section.id),t(ty.v({type:eM.R.SidebarSection,data:e.section.id})))},[t,e.section]),P=a.useCallback(()=>{(0,tX.xs)(!E);let r=new Set(g);f&&e.section?(r9.Fp({type:"topLevel",id:"custom",orgId:s,sectionId:e.section?.id},!E),E?r.add(e.section.id):r.delete(e.section.id)):(r9.Fp({type:"topLevel",id:"favorited",orgId:s},!E),E?r.add("favorited"):r.delete("favorited")),t(eA.U6({collapsedCustomSections:r}))},[E,s,e.section,g,f,t]),D=(r,a)=>{let n;let o=c.map(e=>e.resource.id);if(!w?.draggedOverFavoriteId)return o;let l=-1!==o.indexOf(r);if(l)n=(0,tE.Pe)(o,r,w.draggedOverFavoriteId,w.dropBefore);else{let e=o.indexOf(w.draggedOverFavoriteId);w.dropBefore||(e+=1),n=[...o.slice(0,e),r,...o.slice(e)]}if((0,tX.hp)(),y(r),e.section?.id){l?t(eA.vg({sectionId:e.section.id,orderedFavoriteIds:n})):t(eA.V1({favoriteId:r,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:n}));return}l||t(eA.V1({favoriteId:r,sectionId:void 0,resourceType:a})),t(j.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},M=a.useCallback(e=>{e.stopPropagation(),v&&y(void 0)},[v]),B=a.useCallback(()=>{A(!0)},[]),$=a.useCallback(e=>{let t=new rF.le(e);return _(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),W=a=>{let n=new rF.le(a),o=[],l=[],i=[];if(h(!1),n.isFigFiles()){if(!(o=n.getData()))return!1}else if(n.isPrototypes()){if(!(i=n.getData()))return!1}else if(n.isRepos()){let e=n.getReposData();if(!e)return!1;l=e.repos}else if(n.isTiles()){let e=n.getTilesData();if(!e)return!1;o=e.files,l=e.repos,i=e.prototypes}o=o.filter(e=>!e.is_favorited),l=l.filter(e=>!e.is_favorited),i=i.filter(e=>!e.is_favorited);let m=c.map(e=>e.resource.id),u=o.length+l.length+i.length,_=(0,V.kK)(s);if(u+c.length>_)return t(tZ.F.enqueue({message:(0,k.t)("tile.favoriting.max_favorites",{maxFavorites:_})})),!1;let p=null;return w&&(p=m.indexOf(w.draggedOverFavoriteId)+(w.dropBefore?0:1)),t(eA.N9({files:o,repos:l,prototypes:i,orgId:s,teamId:r,selectedView:d.view,entrypoint:"sidebar",insertAtIndex:p,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},G=a.useCallback(()=>{h(!0)},[]),H=a.useCallback(()=>{h(!1)},[]),z=U()([x.s.relative.$,"favorited_section--showsCaret--vjo7-",b||w?.draggedOverSectionId&&e.section&&!m&&w.draggedOverSectionId===e.section.id?tF:""]),K=f?e.section?.name===""||e.section?.name===void 0?(0,k.tx)("sidebar.starred"):e.section.name:(0,k.tx)("sidebar.favorite_files"),q=L?.data?.customSection?.id===e.section?.id,J=e.isCreatingNewSection||e.isRenaming,X=U()({"favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--AOJ8E":!J,"favorited_section--actionButtonsVisible--Ey4QI":q&&!J}),Q=e.section?.name===void 0?(0,k.t)("sidebar.new_section"):(0,V.R3)(e.section)?(0,k.t)("sidebar.starred"):e.section.name;return a.createElement(tb.Y,{className:z,isDragTarget:$,draggable:!1,onTargetDrop:W,onTargetDragEnter:G,onTargetDragLeave:H},a.createElement("div",null,a.createElement("div",{draggable:!0,onDragStart:F,className:X,onClick:P,onContextMenu:r=>{r.stopPropagation(),r.preventDefault();let a={top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1};t(ex.j7({type:tk,data:{customSection:e.section,favoritesCount:c.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},a.createElement(es.B,{className:f?"favorited_section--expandCaretCustomSections--SUjwA":"favorited_section--expandCaret--LgAK5 sidebar--expandCaret--eXGWm",svg:E?ae.A:at.A}),a.createElement("div",{className:"favorited_section--sectionName--PrU2k ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?a.createElement(tQ.p,{className:"favorited_section--input--8x-Vh",placeholderValue:Q,submit:r=>{e.isCreatingNewSection?(p?t(eA.yH({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:p})):t(eA.YI({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(eA.vg({sectionId:e.section.id,name:r.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),p&&t(eA.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):K),s&&a.createElement("div",{className:"favorited_section--actionButtons--VZ6Er"},a.createElement("div",{className:tV},a.createElement(tY.d,{"aria-expanded":!!L,"aria-label":(0,k.t)("favorited_resources.settings_tooltip"),onClick:r=>{L?t(ex.oB()):O.current&&t(ex.j7({type:tk,data:{targetRect:O.current.getBoundingClientRect(),customSection:e.section,favoritesCount:c.length}})),r.stopPropagation(),r.preventDefault()},ref:O},a.createElement(tq.J,null))),a.createElement(aa,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),a.createElement("div",{className:E?void 0:x.s.hidden.$},(()=>{if(0===c.length){let t=1===e.allSections.length&&(0,V.R3)(e.allSections[0]);return f||e.isCreatingNewSection?f&&t&&!e.isCreatingNewSection?a.createElement(tH,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):a.createElement(a.Fragment,null):a.createElement(an,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return a.createElement("div",{onMouseMove:M,onMouseLeave:B},c.map(t=>{let r=v===t.resource.id||t.resource.resourceId===l?.data?.resource.resourceId;return a.createElement(r3,{key:t.resource.resourceId,clearRearrangeDragState:N,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:W,preventHoverStyle:void 0!==v,previewYOffset:e.previewYOffset,rearrangeDragState:w,reorderOrInsertFavorite:D,sections:e.allSections,setShowPreviewDelay:A,showPreviewDelay:R,updateRearrangeDragState:T})}),i&&a.createElement(ry,{dropdownShown:i}))})()))}function aa(e){return a.createElement("div",{className:tV},a.createElement(tK.K,{"aria-label":(0,k.t)("favorited_resources.create_a_new_section_tooltip"),htmlAttributes:{"data-tooltip":(0,k.t)("favorited_resources.create_a_new_section_tooltip"),"data-tooltip-type":"text"},onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)}},a.createElement(tJ.x,null)))}function an(e){return a.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--Xhxgt sidebar--emptySection--SKfhv sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("sidebar.to_favorite_files_you_use_often"))}function ao(e){let t=(0,V.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return a.createElement(ar,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function al(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),o=(0,n.d4)(e=>e.favorites.newCustomSectionIndex),l=(0,n.d4)(e=>e.favorites.favoritesCount),i=(0,V.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,c]=a.useState(),[d,m]=a.useState(),[u,_]=a.useState(!1),p=(0,tw.S)(),f=a.useMemo(()=>(0,V.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);a.useMemo(()=>{l&&l<15&&i.length>=15&&(0,th.YQ)({id:tv.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(eA.lF({favoritesCount:i.length}))},[l,i.length,t]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let b=a.useCallback(()=>r.type===eM.R.Favorite||r.type===eM.R.SidebarSection,[r]),h=a.useCallback(e=>{r.type===eM.R.SidebarSection&&_(e.upper)},[r]),v=a.useCallback(()=>{let a="starred"===s?void 0:s;if(r.type===eM.R.Favorite){let e=r.data;t(eA.V1({favoriteId:e.resource.id,sectionId:a,resourceType:e.resourceType}))}else if(r.type===eM.R.SidebarSection&&a){let n=f.map(e=>e.id)??[],o=(0,tE.Pe)(n,r.data,a,u);t(j.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:o},userInitiated:!0}))}_(!1),c(void 0),t(ty.T())},[s,t,r,u,f,e.fileBrowserPreferences]),y=a.useCallback(e=>()=>{c(e)},[]),w=a.useCallback(()=>{c(void 0)},[]),T=a.useCallback(e=>{t(eA.pS({newCustomSectionIndex:e}))},[t]);if(0===f.length&&p&&void 0===o)return a.createElement(tz,{setNewCustomSectionIndex:T});let I=a.createElement("div",{className:x.s.mb8.$},a.createElement(ar,{allSections:f,favorites:[],fileBrowserPreferences:e.fileBrowserPreferences,isCreatingNewSection:!0,isRenaming:!0,order:[],previewYOffset:e.previewYOffset,sectionIndex:o||0,setNewCustomSectionIndex:T,setRenamingSectionId:m}));return a.createElement("div",{className:x.s.mt8.$},0===o&&I,f.map((t,n)=>{let l=r.type===eM.R.Favorite?tF:u?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",i=U()([s===t.id?l:"",x.s.mb8.$]);return a.createElement("div",{key:t.id},a.createElement(tb.Y,{className:i,isDragTarget:b,draggable:!1,onTargetDragQuadrantUpdate:h,onTargetDrop:v,onTargetDragEnter:y(t.id),onTargetDragLeave:w},a.createElement(ar,{allSections:f,favorites:g[t.id]??[],isCurrentHoveredSection:s===t.id,isRenaming:d===t.id,order:t.orderedFavoritedResourceIds??[],previewYOffset:e.previewYOffset,section:t,sectionIndex:n,setNewCustomSectionIndex:T,setRenamingSectionId:m})),o===n+1&&I)}),p&&a.createElement(tR,{setRenamingSectionId:m}))}var ai=r(453822),as=r(266163),ac=r(503024),ad=r(128964),am=r(719006),au=r(296623),a_=r(314272),ap=r(824007);let af=(0,tT.Ju)(function(e){let[t,r]=(0,a.useState)(null),o=(0,n.wA)(),l=(0,ad.Gs)(),i=(0,q.TA)(),s=(0,n.d4)(e=>e.teamUserByTeamId),c=(0,n.d4)(e=>i?e.authedUsers.byId[i]?.plans?.filter(e=>!e.is_org):null),d=(0,k.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>o(tS.Ce()),u={};i&&(0,au._)(s,i).forEach(e=>{e.drafts_folder_id&&(u[e.team_id]=e.drafts_folder_id)});let _=(e,t)=>{t&&o(am.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return a.createElement(a_.XV,{title:d,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0},a.createElement("div",{className:"move_favorites_modal--modalBody---Rdx2"},c&&a.createElement(el.P,{width:480},a.createElement("div",{className:x.s.pl8.pr8.$},c.map(e=>a.createElement(ag,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>r(t?.plan_id===e.plan_id?null:e)})))),a.createElement("div",{className:"move_favorites_modal--footer--ERUeX"},a.createElement(ea.nR,{onClick:m},(0,k.tx)("modal.cancel")),a.createElement(ea.vd,{disabled:!t,onClick:()=>{let r=t?.is_org?null:t?.plan_id,a=e.favorites.reduce((e,t)=>t.resourceType===eP.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),n={},i=l.filter(e=>{let t=!!a[e.key];return t&&(n[e.key]=!0),t}),s=e.favorites.filter(e=>!(e.resourceType===eP.bk.FILE&&e.resource.file?.key)||!n[e.resource.file?.key]).map(e=>e.resource.id);o(eA.Ic({favoriteIds:s,teamId:r})),r&&_(i,u[r]),m()}},(0,k.t)("modal.confirm")))))},"MoveFavoritesModal");function ag(e){return a.createElement("button",{"data-testid":`${e.name}-button`,className:U()("move_favorites_modal--teamRow--qNRGf",e.checked?x.s.colorBgSelected.$:""),onClick:e.onSelect},a.createElement("div",{className:"move_favorites_modal--iconContainer--oDATP"},e.checked?a.createElement(es.B,{className:x.s.colorIcon.$,svg:ap.A}):a.createElement(rN.nl,{size:rN.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:rR.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),a.createElement("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa"},a.createElement("span",{className:"move_favorites_modal--destinationHeading--mwxLX"},e.name)))}var aE=r(507015);let ab="favorited_drafts_to_move";function ah(e){let t=(0,n.wA)(),[r,o]=a.useState(!0),l=(0,n.d4)(e=>e.favorites.collapsedCustomSections),i=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),s=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),c=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,V.ds)(i,s,c),m=!l.has(ab),u=a.useCallback(()=>{r9.Fp({type:"topLevel",id:ab,orgId:null},!m),m?l.add(ab):l.delete(ab),t(eA.U6({collapsedCustomSections:l}))},[m,l,t]),_=a.useCallback(()=>{t(eA.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return a.createElement(a.Fragment,null);let f=d.map(t=>a.createElement(r3,{key:t.resource.resourceId,clearRearrangeDragState:p.lQ,favorite:t,isFavoritesToMove_DEPRECATED:!0,isSelected:!1,onSetResourceFavoriteDragDrop:p.lQ,preventHoverStyle:!1,previewYOffset:e.previewYOffset,rearrangeDragState:void 0,reorderOrInsertFavorite:p.lQ,sections:[],setShowPreviewDelay:o,showPreviewDelay:r,updateRearrangeDragState:p.lQ}));return a.createElement(a.Fragment,null,a.createElement("div",{className:"favorited_section--divider--o9WjE favorited_section--divider--o9WjE"}),a.createElement("div",{className:U()("favorited_section--moveFavoritesContainer--qp39R",x.s.pt4.pb4.ml8.mr8.mb8.$)},a.createElement("div",{className:U()(x.s.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa")},a.createElement("div",{onClick:u,className:x.s.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},a.createElement(es.B,{className:U()(x.s.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:m?ae.A:at.A}),(0,k.tx)("sidebar.move_these_starred_items"),a.createElement(es.B,{svg:aE.A,className:U()("favorited_section--helpIcon--vfl5Y",x.s.flex.itemsBaseline.ml4.$),"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),m?null:a.createElement(ai.Ex,{text:d.length>99?"99+":`${d.length}`,color:ai.zE.DEFAULT,className:x.s.mr8.colorText.colorBgSelectedSecondary.$})),m?a.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p"},f,a.createElement("div",{className:x.s.flex.justifyBetween.m8.h24.$},a.createElement(as.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(tS.to({type:af,data:{favorites:d}}))}},(0,k.tx)("file_browser.planless_favorites.add_to_sidebar")),a.createElement(as.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:_},(0,k.tx)("file_browser.planless_favorites.unstar_all")))):null))}function av(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?a.createElement(eS.Z,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{r(te.eP()),r(ex.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:a.createElement(e9.t,null),text:a.createElement(N.E,{truncate:!0},(0,k.tx)("sidebar.all_shared_projects"))}):null}var ay=r(866664);function aw(e){return e?(0,k.t)("sidebar.browse.all_workspaces"):(0,k.t)("sidebar.browse.all_teams")}function aT(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(t=>e?t.orgById[e]:null),r=(0,J.c4)(e).data??!1;return t&&e?a.createElement(a.Fragment,null,aw(r)):null}function aI({hasWorkspaces:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,n.d4)(e=>e.selectedView),l=(0,tw.S)(),i=(0,n.d4)(e=>r?e.orgById[r]:null),s="org"===o.view&&o.orgId===r,c=aw(e);return i&&r&&c?a.createElement(eS.Z,{isSelected:s,onClick:()=>{t(ex.$T({view:"org",orgId:r,orgViewTab:tA.X.HOME})),t(ex.Oe({clickedResourceType:"org",resourceIdOrKey:r}))},icon:l?a.createElement(e9.t,{className:x.s.colorIcon.$}):a.createElement(ay.Y,null),text:a.createElement(N.E,{truncate:!0},c)}):null}var aC=r(776293),aS=r(869507);let ax="seen_team_admin_moved_unassigned_drafts_onboarding",ak=(0,ef.r1)(ax);function aN(){let e=(0,ed.md)(ak),{show:t,isShowing:r,complete:n}=(0,ep.e)({overlay:ev.tZO,priority:eE.N.DEFAULT_MODAL},[e]);return(0,m.h)(()=>{t({canShow:e=>!e})}),a.createElement(eb.rq,{arrowPosition:eh.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,k.tx)("team_admin.onboarding.unassigned_drafts.description"),isShowing:r,onClose:n,primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:n,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eh.EL.FALLBACK,targetKey:aA,title:(0,k.tx)("team_admin.onboarding.unassigned_drafts.title"),trackingContextName:aS.o8,userFlagOnShow:ax})}var aR=r(710665);let aA="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function aO(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),o=(0,n.d4)(e=>e.teams),l=(0,n.d4)(t5.getPermissionsState);if(!r)return null;let i=o[r];if(!(0,t5.hasAdminRoleAccessOnTeam)(r,l)||!i||!(0,aR.w5)(i))return null;let s=e.selectedView&&"teamAdminConsole"===e.selectedView.view,c=a.createElement(e$.e9,{planType:eU.ps.TEAM,planId:r,isSelected:s,isDataLoaded:!0,isOrgAdmin:!1});return a.createElement(a.Fragment,null,a.createElement(eZ,{badge:i?.pro_team?c:void 0,isSelected:s,dataTestId:"admin-settings-link",dataOnboardingKey:aA,onClick:()=>{t(ex.$T({view:"teamAdminConsole",teamId:r,isProTeam:i.pro_team,teamAdminConsoleViewTab:i.pro_team?eK.Iv.DASHBOARD:eK.Iv.MEMBERS})),t(ex.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:i.id}))}}),a.createElement(aN,null))}var aL=r(231976),aF=r(54494),aP=r(901647),aD=r(502255),aM=r(58294),aB=r(753433),aU=r(817990),a$=r(695621),aj=r(994351),aW=(e=>(e.FIGJAM_TEMPLATES="figjam-templates",e.PLUGINS="plugins",e.WIDGETS="widgets",e.SLIDE_TEMPLATES="slide-templates",e.LIBRARIES="libraries",e.COOPER_TEMPLATES="cooper-templates",e.RECENTLY_ADDED_TEMPLATES="recently-added-templates",e))(aW||{});let aG=class extends aj.nS{};function aV(e,t){switch(t){case aU.vt.PLUGIN:case aU.vt.WIDGET:case aU.vt.FIGJAM_TEMPLATE:case aU.vt.COOPER_TEMPLATE_FILE:return e===eP.Ag.ORG||e===eP.Ag.ENTERPRISE;case aU.vt.SLIDE_TEMPLATE:case aU.vt.COOPER_TEMPLATE_ASSET:return e===eP.Ag.ORG||e===eP.Ag.ENTERPRISE||e===eP.Ag.PRO;case aU.vt.DESIGN_TEMPLATE:case aU.vt.UI_KIT:case aU.vt.PROTOTYPE:case aU.vt.SITE_TEMPLATE:return!1;default:(0,C.xb)(t)}}function aH(e){switch(e){case aW.PLUGINS:return(0,k.t)("community.view_bar.plugins");case aW.FIGJAM_TEMPLATES:return(0,k.t)("community.resource_hub.figjam_templates");case aW.WIDGETS:return(0,k.t)("categories.widgets");case aW.SLIDE_TEMPLATES:return(0,k.t)("community.resource_hub.slide_templates");case aW.LIBRARIES:return(0,k.t)("categories.libraries");case aW.COOPER_TEMPLATES:return(0,k.t)("community.resource_hub.cooper_templates");case aW.RECENTLY_ADDED_TEMPLATES:return(0,k.t)("community.resource_hub.recently_added_templates");default:(0,C.xb)(e)}}function az(e){switch(e){case aW.PLUGINS:return[aU.vt.PLUGIN];case aW.FIGJAM_TEMPLATES:return[aU.vt.FIGJAM_TEMPLATE];case aW.WIDGETS:return[aU.vt.WIDGET];case aW.SLIDE_TEMPLATES:return[aU.vt.SLIDE_TEMPLATE];case aW.COOPER_TEMPLATES:return[aU.vt.COOPER_TEMPLATE_FILE];case aW.RECENTLY_ADDED_TEMPLATES:return[aU.vt.SLIDE_TEMPLATE,aU.vt.COOPER_TEMPLATE_FILE,aU.vt.FIGJAM_TEMPLATE];case aW.LIBRARIES:return[];default:(0,C.xb)(e)}}(0,aj.Ac)(aG),aG.path=(0,aj.aV)(aF.VR,"/internal/:resourceTypeSlug/:templatesTeamId?"),aG.serializeParams=e=>({...(0,aF.FZ)(e),resourceTypeSlug:e.resourceTypeSlug,templatesTeamId:e.templatesTeamId}),aG.deserializeParams=e=>{let t=(0,a$.S)(e.resourceTypeSlug,aW);if(void 0===t)throw Error(`InternalResourceHubRoute: Invalid resource type slug ${e.resourceTypeSlug}`);return{resourceTypeSlug:t,templatesTeamId:e.templatesTeamId,...(0,aF.CS)(e)}},aG.parseQueryString=e=>({...(0,aF.p7)(e)});var aY=r(965344);function aK({limit:e=aM.N,resourceTypes:t,teamId:r,orgId:a,caller:n,includeContent:o=!1,enableQuery:l=!0,sortBy:i=aB.e.Browse.ALL_TIME,selfPublished:s}){let[{data:c,status:d,hasNextPage:m,isFetchingNextPage:u},{fetchNextPage:p}]=(0,_.IT)(aY.a.ResourcesPaginatedQuery({resourceType:t,orgId:a,teamId:r,caller:n,pageSize:e,includeContent:o,sortBy:i,selfPublished:s}),{enabled:l&&(!!r||!!a)});return!l||r||a?{resources:c??[],loading:"loading"===d,hasNextPage:m??!1,isFetchingNextPage:u,fetchNextPage:p}:((0,aD.$D)(M.e.COMMUNITY,Error("useInternalResources: teamId and orgId cannot both be undefined"),{extra:{resourceTypes:t,caller:n}}),{resources:[],loading:!1,hasNextPage:!1,isFetchingNextPage:!1,fetchNextPage:()=>{}})}function aq({limit:e=aM.N,orgId:t,caller:r,includeContent:a=!1}){return aK({limit:e,resourceTypes:[aU.vt.PLUGIN],teamId:void 0,orgId:t,caller:r,includeContent:a,enableQuery:!!t,sortBy:aB.e.Browse.ALL_TIME})}function aJ({limit:e=aP.nZ,orgId:t,teamId:r,caller:a=aY.z.RESOURCE_HUB,includeContent:n=!0,enableQuery:l=!0}){let i=(0,o.k)().cooper;return aK({resourceTypes:[aU.vt.SLIDE_TEMPLATE,...i?[aU.vt.COOPER_TEMPLATE_FILE]:[],aU.vt.FIGJAM_TEMPLATE],limit:e,caller:a,orgId:t,teamId:r,includeContent:n,enableQuery:l,sortBy:aB.e.Browse.PUBLISHED_AT})}function aX({orgId:e,teamId:t,resourceType:r,planTier:a,sortBy:n}){return aK({resourceTypes:[r],limit:aP.u8,orgId:e,teamId:t,caller:aY.z.RESOURCE_HUB,includeContent:!0,enableQuery:aV(a,r),sortBy:n})}function aQ(){let e=(0,n.wA)(),t=(0,ek.z3)(),r=(0,aF.Om)(),o=(0,aF.tv)(),l=(0,ez.tJ)(),i=l.data?.type===eP.OL.TEAM?l.data?.key.parentId:void 0,{resources:s,loading:c}=aJ({limit:1,orgId:void 0,teamId:i??void 0,enableQuery:"loaded"===l.status&&!!i&&l.data?.tier===eP.Ag.PRO}),m="loaded"===l.status&&l.data?.tier===eP.Ag.STARTER,u="loaded"===l.status&&l.data?.tier===eP.Ag.PRO&&!c&&0===s.length,_=m||u;return a.createElement(eS.Z,{onClick:()=>{d.Ay.push(new aF.au({...r,tab:_?aP.N$.COMMUNITY:aP.N$.INTERNAL},o).href),e(ex.Oe({clickedResourceType:"resourceHub"}))},isSelected:"resourceHub"===t,icon:a.createElement(aL.e,null),text:a.createElement(N.E,{truncate:!0},(0,k.tx)("sidebar.templates_and_tools"))})}var aZ=r(379338),a0=r(524271),a1=r(579185),a4=r(903217),a5=r(748604),a2=r(849752),a7=r(920963),a3=r(505870),a8=r(991371),a6=r(155651);function a9(){return a.createElement("div",{className:"base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4"})}function ne(e){return a.createElement(a6.fu,{name:e.trackingContext,properties:e.trackingProperties},a.createElement("div",{className:e.demure?"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":"base_upgrade_section--content--95XrT"},e.onDismiss&&a.createElement(a8.Jn,{className:"base_upgrade_section--closeButton--cbjWt",onClick:e.onDismiss}),e.header&&a.createElement("div",{className:x.s.wFull.if(e.demure,x.s.font13.lh24,x.s.mb12).$},e.header,!e.demure&&a.createElement(a9,null)),!!e.icon&&e.icon,e.countDownDaysLeft&&a.createElement("div",{className:"base_upgrade_section--countdownTicker--6YLVt"},a.createElement(N.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),a.createElement("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ":"base_upgrade_section--textContainer--ObHaO"},e.titleText&&a.createElement("p",{className:"base_upgrade_section--title--MLhT1"},e.titleText),a.createElement("p",null,e.bodyText)),a.createElement(ea.vd,{className:"base_upgrade_section--ctaButton--B1ywj",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let nt="upgrade_section--upgradeTextEmphasized--aQCr9";var nr=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(nr||{});function na(e){let t=(0,n.wA)(),r=(0,I.sx)(),o=e.type,l=a.createElement("span",{className:nt},(0,k.t)("edu.sidebar_section.verified"));return a.createElement(ne,{trackingContext:0===o?"Edu Upgrade Section":"Edu Create Section",icon:a.createElement(a0.o,null),bodyText:a.createElement(a.Fragment,null,l," ",0===o?(0,k.t)("edu.sidebar_section.upgrade"):(0,k.t)("edu.sidebar_section.create_team")),ctaText:0===o?(0,k.t)("edu.choose_team"):(0,k.t)("edu.create_free_team"),onClickCTA:0===o?()=>{t((0,tS.to)({type:a5.q}))}:()=>{t(te.Dw({isEduTeam:!0}))},onDismiss:r?void 0:()=>{t(eO.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function nn({daysLeft:e}){let t=(0,n.wA)(),r=(0,eG.Rs)(eH.UpR,{},{enabled:!(0,o.k)().edu_bootcamps_reverification}),l=(0,W.H5)(),i=!!(0,a2.f)("edu_hide_verification");if((0,o.k)().edu_bootcamps_reverification||(i=(r.data?.currentUser?.schoolType?.status===er.tT.Loaded?r.data.currentUser.schoolType.data:null)===a3.h6.BOOTCAMP_OR_ONLINE&&l()),e<0)return null;let s=()=>{t((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.EDU_UPGRADE_SECTION}}))},c=a.createElement(ea.eM,{onClick:()=>d.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank")},(0,k.tx)("edu.sidebar_section.verify_your_education_status"));return e>0?a.createElement(ne,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:i?(0,k.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:c}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:s}):a.createElement(ne,{trackingContext:"Universal Upgrade Section Education Plan Expired",icon:a.createElement(a1.e,null),titleText:(0,k.tx)("edu.sidebar_section.education_plan_expired"),bodyText:i?(0,k.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:c}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:s})}var no=r(351766),nl=r(280198),ni=r(470230),ns=r(142899);let nc="dismissed_limited_team_space_uub";function nd(e){let t=(0,n.wA)(),[r,o]=a.useState(!1),l=(0,eG.Rs)(eH.qOl,{teamId:e.team.id}),i=(0,q.iZ)(),s="loaded"===l.status&&(0,no.oA)(l.data?.teamRoleRequest),c=!!s&&"pending"===s.status,d=!!s&&"approved"===s.status,m=!!s&&"denied"===s.status;if(a.useEffect(()=>{c&&o(!0)},[c]),"loaded"!==l.status||d||m)return null;let u=async()=>{try{await ns.$.requestTeamRole({teamId:e.team.id}),t(tZ.F.enqueue({message:(0,k.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,G.uE)("limited_team_plan_request_upgrade_clicked",{user:i},{teamId:e.team.id}),o(!0)}catch(e){t(nl.s.error("Failed to request team role",e))}};return a.createElement(ne,{bodyText:(0,k.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:r?(0,k.tx)("upgrade.access_requested"):(0,k.tx)("upgrade.request_full_access"),ctaTrackingProperties:{},demure:"very",disabled:c||r,header:(0,k.tx)("upgrade.limited_access_in_this_team"),onClickCTA:u,onDismiss:()=>{t(ni.bE({all_team_flags:[{team_id:e.team.id,flags:{[nc]:!0}}]}))},trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id}})}var nm=r(219575),nu=r(478550),n_=r(620760);function np({orgUpsellEligibility:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.userFlags),o=e===n_.VY.SINGLE_TEAM?(0,k.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,k.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),l=`${e===n_.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return a.createElement(ne,{trackingContext:l,icon:a.createElement(nm.L,null),bodyText:o,ctaText:(0,k.tx)("upgrade.view_plans"),onClickCTA:()=>{e===n_.VY.SINGLE_TEAM&&t((0,tS.to)({type:nu.HS,data:{upsellSource:a7.b.ORG_UPGRADE_SECTION}})),e===n_.VY.MULTIPLE_TEAMS&&t((0,tS.to)({type:nu.u3,data:{upsellSource:a7.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,n_.CJ)(r)),ctaDataTestId:"org-upgrade-cta"})}var nf=r(901450),ng=r(470861),nE=r(592845);let nb="dismissed_paid_free_space_uub";function nh(e){let t=(0,n.wA)(),r=(0,ed.md)(nf.A),o=nE.h.useTrackingContext({trigger:a7.b.UNIVERSAL_UPGRADE_SECTION}),l=a.createElement(ea.eM,{onClick:()=>{t(ex.j7({type:ng.ER,data:{targetRect:r}}))},trackingProperties:{trackingDescriptor:e_.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS}},(0,k.tx)("upgrade.work_in_one_of_your_paid_teams")),i=(0,k.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:l});return a.createElement(ne,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...o},header:(0,k.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:i,ctaText:(0,k.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:e_.c.VIEW_ALL_PLANS},onDismiss:()=>{t(ni.bE({all_team_flags:[{team_id:e.team.id,flags:{[nb]:!0}}]}))},demure:"very"})}var nv=r(195631),ny=r(895104),nw=r(839630),nT=r(944527);let nI="pro_trials_upgrade_section--divider--0tBoX sidebar--divider--sHsz4";function nC(){let e=(0,n.wA)();return a.createElement(ne,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:nT.ng.getTrackingProperties(),icon:a.createElement(nv.K,null),titleText:a.createElement(N.E,null,(0,k.tx)("upgrade.free_professional_team_trial")),bodyText:a.createElement(N.E,null,(0,k.tx)("upgrade.enjoy_our_best_design_features_for_14_days")),ctaText:a.createElement(N.E,null,(0,k.tx)("upgrade.try_the_professional_plan")),onClickCTA:()=>e((0,tS.to)({type:nw.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:nT.ng.getTrackingProperties("Try the Professional Plan")})}function nS({team:e}){return a.createElement(ny.Y,{spacing:8,dataTestId:"team-info"},a.createElement(rN.nl,{size:rN.Pf.SMALL,team:e,fallbackDisplay:rR.U.HIDDEN,shape:"ROUNDED_SQUARE"}),a.createElement(N.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function nx({daysLeft:e,trialTeam:t,onClickCTA:r}){var n;let o=a.createElement(ea.eM,{onClick:r,dataTestId:"pro_trial_inline_upgrade",trackingProperties:nT.ng.getTrackingProperties()},(0,k.tx)("upgrade.pro_trial_inline_upgrade_cta"));return a.createElement(a6.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:nT.ng.getTrackingProperties()},a.createElement("div",{className:nI}),a.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--E-f1E"},a.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--sN5Pd"},a.createElement(nS,{team:t})),a.createElement("div",{className:nI}),a.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--rDpWO"},a.createElement(N.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),a.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--a-ppM"},a.createElement(N.E,{color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13},(0,k.tx)("upgrade.days_left_in_trial",{days:e}))),a.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ho-7F"},a.createElement(N.E,{children:(n=e)>=14?a.createElement(N.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",{upgrade:o})):n>=10?a.createElement(N.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",{upgrade:o})):n>=4?a.createElement(N.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.try_out_these_features")):n>=2?a.createElement(N.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.you_will_miss_these_files")):n>=1?a.createElement(N.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.just_a_memory")):null})),e<=9&&a.createElement(ea.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--SP1nz",onClick:r,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:nT.ng.getTrackingProperties()},a.createElement(N.E,null,(0,k.tx)("upgrade.upgrade_to_professional")))))}function nk(e){return a.createElement(ne,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:nT.ng.getTrackingProperties(),titleText:a.createElement(N.E,null,(0,k.tx)("upgrade.currently_on_starter_plan")),bodyText:a.createElement(N.E,null,(0,k.tx)("upgrade.your_trial_has_ended")),ctaText:a.createElement(N.E,null,(0,k.tx)("upgrade")),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:nT.ng.getTrackingProperties(),header:a.createElement(nS,{team:e.team})})}function nN(e){let t=(0,n.wA)(),{ongoingUpgradableTrials:r,expiredUpgradableTrials:o}=e,l=(0,n.d4)(e=>e.teams),i=e=>{t((0,tS.to)({type:a4.V,data:{teamId:e,upsellSource:a7.b.PRO_TRIAL_UPSELL_MODAL}}))};return o.length>0?a.createElement(nk,{team:l[o[0].teamId],onClickCTA:()=>i(o[0].teamId)}):r.length>0?a.createElement(nx,{trialTeam:l[r[0].teamId],daysLeft:r[0].daysLeft,onClickCTA:()=>i(r[0].teamId)}):null}var nR=(e=>(e.PRO_TRIALS_ENTRY="Pro Trials Entry",e.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e))(nR||{}),nA=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(nA||{});function nO({onTeam:e,hitFileLimit:t}){let r=(0,n.wA)(),o=nE.h.useTrackingContext({trigger:a7.b.UNIVERSAL_UPGRADE_SECTION}),l=t?a.createElement(a.Fragment,null,a.createElement("span",{className:nt},(0,k.tx)("upgrade.running_out_of_files_in_your_free_team"))," ",(0,k.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")):(0,k.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return a.createElement(ne,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...o},icon:a.createElement(nm.L,null),bodyText:l,ctaText:(0,k.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{r((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var nL=r(921494),nF=r(416900),nP=r(270070),nD=r(320830),nM=r(922030),nB=r(119310),nU=r(111693);let n$=(0,ed.eU)(e=>{let t=e(nU.m),r=e(nj),a=(0,o.k)().ps_benchmark;if(!r)return!1;let n=[eP.P4.FILES_LIMITED,eP.P4.FILES_LIMITED_LEGACY,eP.P4.WHITEBOARD_FILES_LIMITED,eP.P4.WHITEBOARD_FILES_LIMITED_BETA,eP.P4.SLIDE_FILES_LIMITED,eP.P4.SLIDE_FILES_LIMITED_BETA].some(e=>r?.restrictions_list?.includes(e));return a?n:Object.values(t).some(e=>[eP.P4.FILES_LIMITED,eP.P4.FILES_LIMITED_LEGACY,eP.P4.WHITEBOARD_FILES_LIMITED,eP.P4.WHITEBOARD_FILES_LIMITED_BETA,eP.P4.SLIDE_FILES_LIMITED,eP.P4.SLIDE_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),nj=(0,nB.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function nW(){return a.createElement(P.tH,{boundaryKey:"SidebarUpgradeSection",fallback:P.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:M.e.MONETIZATION_UPGRADES}},a.createElement(nG,null))}function nG(){let e=nH();return null===e?null:a.createElement(nV,{...e})}function nV(e){switch(e.type){case nR.PRO_TRIALS_ENTRY:return a.createElement(nC,null);case nR.PRO_TRIALS_UPGRADE:return a.createElement(nN,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case nR.EDU_EXPIRY:return a.createElement(nn,{daysLeft:e.props.daysLeft});case nR.EDU_UPGRADE:return a.createElement(na,{type:e.props.type});case nR.ORG_UPGRADE:return a.createElement(np,{orgUpsellEligibility:e.props.orgUpsellEligibility});case nR.PAID_FREE_SPACE:return a.createElement(nh,{team:e.props.team});case nR.LIMITED_TEAM_SPACE:return a.createElement(nd,{team:e.props.team});case nR.UNIVERSAL:default:return a.createElement(nO,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function nH(){let e=function(){let e=(0,eF.FC)(),t=(0,q.TA)(),r=(0,a2.f)(nT.Jy),a=(0,nD.xX)(),o=(0,n.d4)(e=>e.userTeamFlags),l=(0,ez.pT)();if(nT.ng.uxEnabled()&&!l){let{ongoingTrials:n,expiredTrials:l}=nT.ng.getUpgradableProTrials(o,e),i=l.filter(nT.ng.canSeeProTrialExpiryUx);if(n.length>0||i.length>0)return{type:nR.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:n,expiredUpgradableTrials:i}};if(r&&a.length>0&&nT.ng.isUserInVariant(t))return{type:nR.PRO_TRIALS_ENTRY}}return null}(),t=function(){let e=(0,q.iZ)(),t=(0,nM.ol)(),r=(0,eF.FC)(),a=(0,eG.Rs)(eH.UpR,{}),l=a.data?.currentUser?.eduPeriodEnd,i=(0,I.sx)(),s=(0,n.d4)(e=>e.userFlags),c=(0,ez.pT)();if(!e||"loaded"!==a.status)return null;let d=(0,nF.x$)(l,(0,nF.cn)(e)),m=d>0&&d!==1/0&&(0,nF.cn)(e)&&t?.student_team_state===eP.kU.STUDENT_TEAM_CURRENT,u=0===d&&t?.student_team_state===eP.kU.STUDENT_TEAM_EXPIRED&&(0,aR.oc)(t.id,r);if((0,o.k)().edu_offboarding_experience&&(m||u))return{type:nR.EDU_EXPIRY,props:{daysLeft:d}};let _=!i&&!s.dismissed_edu_sidebar,p=i&&!t?.student_team;if((_||p)&&(0,nF.cn)(e)&&!c){let e=(0,aR.Kg)(r).length>0;return{type:nR.EDU_UPGRADE,props:{type:e?nr.UPGRADE:nr.CREATE}}}return null}(),r=function(){let e=(0,q.iZ)(),t=0===Object.keys((0,n.d4)(e=>e.orgById)).length,r=(0,n.d4)(e=>e.teams),a=(0,nM.ol)(),l=(0,ed.md)(n$),i=!Object.values(r).some(e=>null!==e.subscription||e.student_team_at),s=!!(0,o.k)().ps_benchmark,c=(0,ed.md)(tn.Lm),d=(0,eG.Rs)(eH.kQI,{id:a?.id??""},{enabled:!!a&&s}),m=(0,ee.vt)(),u=(0,W.Yz)(),_=(0,Q.R)(a?.id),p=(0,Q.jn)(),f=(0,W.Xs)();if(!e||s&&!a||s&&("loaded"!==d.status||!d.data.team?.hasPermission||"loaded"!==c.status||!c.data))return null;let g=a&&s&&!(0,nF.cn)(e)&&!(0,aR.w5)(r[a.id])&&!u(m)&&!f(p&&_);return!s&&t&&!(0,nF.cn)(e)&&i||g?{type:nR.UNIVERSAL,props:{onTeam:Object.keys(r).length>0,hitFileLimit:l}}:null}(),a=function(){let e=(0,n.d4)(e=>e.userFlags),t=function(){let e=(0,eF.FC)(),t=(0,nL.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId}));return(0,n_.hF)(t,e)}(),r=(0,n_.j)(e);return t===n_.VY.NONE||r?null:{type:nR.ORG_UPGRADE,props:{orgUpsellEligibility:t}}}(),l=function(){let e=(0,q.iZ)(),t=(0,n.d4)(e=>e.teams),r=(0,nM.ol)(),a=!!(0,o.k)().ps_benchmark,l=(0,ed.md)(tn.Lm),i=(0,n.d4)(e=>e.userTeamFlags),s=(0,eG.Rs)(eH.kQI,{id:r?.id??""},{enabled:!!r&&a}),c=(0,W.Mi)();return!e||!r||!a||"loaded"!==l.status||l.data||(0,nF.cn)(e)||(0,aR.w5)(t[r.id])||"loaded"!==s.status||!s.data.team?.hasPermission||!c()?null:(0,nP.gY)(i,nb,r.id,7776e6)?null:{type:nR.PAID_FREE_SPACE,props:{team:r},overrideLocation:nA.IN_FOOTER}}(),i=function(){let e=(0,q.iZ)(),t=(0,nM.ol)(),r=(0,X.d)(),a=(0,n.d4)(e=>e.userTeamFlags);return e&&t&&r?(0,nP.gY)(a,nc,t.id,7776e6)?null:{type:nR.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:nA.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==r?r:null!==a?a:null!==l?l:null}var nz=r(643727),nY=r(579020),nK=r(355232),nq=r(880245);function nJ(){let e=(0,n.wA)(),t=()=>{(0,nY.sx)("community_browser_sidebar_action_clicked"),e(ex.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,nK.Gu)()}))};return a.createElement(a6.L0,{trackingEventName:"community_browser_sidebar_action_clicked",className:U()(x.s.flex.flexRow.itemsCenter.gap12.h48.pl12.pr12.colorText.cursorDefault.$,"explore_community_button--hoverColor--mDUIs"),"data-onboarding-key":nq.vM,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}},a.createElement(nz.J,null),a.createElement(N.E,null,(0,k.tx)("sidebar.explore_community")))}function nX(e){return a.createElement("div",{className:x.s.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,x.s.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&a.createElement("div",{className:x.s.pb10.pt12.$},a.createElement(nW,null)),!(0,aZ.sL)()&&!(0,eR.yl)()&&a.createElement(nJ,null))}var nQ=r(785439),nZ=r(629215);function n0(e){return a.createElement("div",{className:x.s.flex.flexColumn.colorBg.if(e.hasBottomBorder,x.s.bb1.colorBorder.bSolid).$},a.createElement(nZ.Xg,null),a.createElement(nQ.Zn,null))}var n1=r(949002);function n4(e){let t=(0,n.wA)(),r=(0,ek._6)(),o=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.teamFeedBellStates),i=!!(o&&l[o]),s="teamFeed"===r.view;return a.createElement(eS.Z,{onClick:()=>{t(ex.$T({view:"teamFeed"})),t(ex.Oe({clickedResourceType:"teamFeed"}))},isSelected:s,icon:a.createElement(n1.h,null),text:a.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--dPwog sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},a.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--MLMFK"},(0,k.tx)("fig_feed.feed"),i&&a.createElement("div",{className:"team_feed_page_link--redDot--t6QPY red_dot--baseRedDot--pgZV7"})))})}var n5=r(106483);function n2({selectedView:e,teamFolderId:t,teamFolderName:r}){let o=(0,n.wA)();return t&&r?a.createElement(eS.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{o(te.gN(t)),o(ex.Oe({clickedResourceType:"folder"}))},icon:a.createElement(rz.e,null),text:a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!1},r),"data-onboarding-key":n5.Jo}):null}var n7=r(492201);function n3(){let e=(0,n.wA)(),t="deletedFiles"===(0,n.d4)(e=>e.selectedView).view;return a.createElement(a.Fragment,null,a.createElement(eS.Z,{isSelected:t,onClick:()=>{e(ex.$T({view:"deletedFiles"})),e(ex.Oe({clickedResourceType:"deletedFiles"}))},icon:a.createElement(n7.z,null),text:a.createElement("div",{className:x.s.pr36.$},a.createElement(N.E,null,(0,k.tx)("file_browser.tool_bar.trash")))}))}var n8=r(821527);function n6(e){let t=(0,n.wA)(),r=(0,Y.dq)(),l=(0,n.d4)(e=>e.currentTeamId),i=(0,n.d4)(e=>e.userFlags),s=(0,eF.FC)(),c=(0,n.d4)(e=>e.userStateLoaded),d=(0,ek._6)(),m=(0,n.d4)(e=>e.dragState),[u,_]=a.useState(0),[p,g]=a.useState(!1),[E,b]=a.useState(!1),[h,v]=a.useState(!1),y=e=>{t(eO.b({show_create_new_section_banner:!1}))},w=e=>{t(eA.pS({newCustomSectionIndex:0})),y(e)},T=!!l,I=(0,X.d)(),C=(0,eD.wA)(s),S=(0,eL.a9)(),N=S&&S.permission===eP._D.ADMIN,R=(0,V.D6)(r),A=()=>c?a.createElement(nW,null):null,O=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedFiles:e.sidebarUser?.favoritedFiles,L=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:e.sidebarUser?.favoritedPrototypes,F=(0,o.k)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedProjects:e.sidebarUser?.favoritedProjects;F&&e.FBGNavigationUpdatesTreatment!==W.ih.CONTROL&&(F=F.filter(t=>t.project?.id!==e.teamFolderId));let P=O?.length===0&&L?.length===0&&F?.length===0,D=e.FBGNavigationUpdatesTreatment===W.ih.CONTROL||!P,M=nH(),B={[W.ih.CONTROL]:nA.BETWEEN_CONTENT,[W.ih.VARIANT_A]:nA.IN_FOOTER,[W.ih.VARIANT_B]:nA.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],$=M?.overrideLocation??B,j=!!m.data&&(m.type===eM.R.Folder||m.type===eM.R.Team||m.type===eM.R.Favorite),G=C&&a.createElement("div",{className:tc},i.show_create_new_section_banner?a.createElement("div",{className:"sidebar--betaAnnouncementContainer--FfmFT"},a.createElement("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz"},a.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm"},(0,k.tx)("favorited_resources.custom_sections_banner_header")),a.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX---nRcN",onClick:e=>y(e)},a.createElement(es.B,{svg:n8.default}))),a.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g"},a.createElement("p",null,(0,k.tx)("favorited_resources.custom_sections_banner_body")),a.createElement("br",null),a.createElement("p",null,a.createElement(ea.tM,{className:"sidebar--betaAnnouncementButton--RCpKp",onClick:e=>w(e)},(0,k.tx)("favorited_resources.custom_sections_banner_create_new_section_button"))))):null),H=!(e.showLoadingState||e.showingFileBrowserLoader);return a.createElement(en.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:H},a.createElement(et.J,null,a.createElement("div",{className:x.s.flex.flexColumn.wFull.$},a.createElement(n0,{hasBottomBorder:h}),a.createElement(el.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:x.s.hFull.$,scrollingDisabled:!1,onScroll:e=>_(e)},a.createElement(ei.a,{onIntersectionChange:t=>{v(!t.isIntersecting),t.isIntersecting||p||(e.trackScroll(),g(!0))}}),a.createElement("div",{className:U()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":j},{"sidebar--navContentRedesigned--npUNY":(0,o.k)().file_browser_sidebar_row_ui})},a.createElement("div",{className:x.s.flexGrow1.flex.flexColumn.$},a.createElement(a.Fragment,null,a.createElement(eN,null),(0,o.k)().ps_benchmark&&a.createElement(tg.r,{selectedView:d,dispatch:t}),(0,eR.yl)()&&a.createElement(aQ,null),a.createElement("div",{className:tm}),a.createElement("div",{className:x.s.mr8.mt2.mb2.$},a.createElement(aC.b,null)),(0,o.k)().xr_debounce_threshold&&C&&S&&S.permission!==eP._D.GUEST?a.createElement(n4,null):null,e.draftsProject&&a.createElement(tf.s,{folder:e.draftsProject,selectedView:d,dispatch:t,shouldHideCreateFileButton:e.isShowingLockedRedesign}),a.createElement(tu,{userStateLoaded:c,sidebarUser:e.sidebarUser}),T&&a.createElement(a.Fragment,null,I?a.createElement(a.Fragment,null,a.createElement(av,{selectedView:d}),a.createElement(n3,null)):a.createElement(a.Fragment,null,a.createElement(tt,{selectedView:d}),a.createElement(n3,null),a.createElement(aO,{selectedView:d}),e.FBGNavigationUpdatesTreatment!==W.ih.CONTROL&&a.createElement(n2,{selectedView:d,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName}))),$===nA.BETWEEN_CONTENT&&a.createElement("div",{className:tc},!!M&&a.createElement("div",{className:x.s.my8.mx0.h1.$,style:ec.sx.add({backgroundColor:"var(--color-border)"}).$}),A()),(0,o.k)().dt_component_browser_file_browser&&a.createElement(tp,null),S&&C&&(c?a.createElement(a.Fragment,null,a.createElement(aI,{hasWorkspaces:e.isOrgWithWorkspaces}),a.createElement(n3,null),C&&S&&!f.Ay.mobile&&a.createElement(a.Fragment,null,a.createElement(e6,{selectedView:d,org:C,orgUser:S}),N&&a.createElement(eI,null))):a.createElement("div",{className:td},a.createElement(eo.kt,null))),R&&G,a.createElement("div",{className:tm}),c?a.createElement(a.Fragment,null,r?a.createElement(al,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:O,favoritedPrototypes:L,favoritedProjects:F,favoritedTeams:e.sidebarUser?.favoritedTeams??null,favoritedWorkspaces:e.sidebarUser?.favoritedWorkspaces??null,userSidebarSections:e.sidebarUser?.userSidebarSections?(0,er.oA)(e.sidebarUser.userSidebarSections):[],previewYOffset:u}):a.createElement(a.Fragment,null,D&&a.createElement(ao,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:O,favoritedPrototypes:L,favoritedProjects:F,favoritedTeams:null,favoritedWorkspaces:null,previewYOffset:u})),T&&a.createElement(ah,{teamUser:e.sidebarUser?.currentTeamUser??null,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:u})):a.createElement("div",{className:td},a.createElement(eo.kt,null)),$===nA.AFTER_CONTENT&&a.createElement("div",{className:x.s.sticky.bottom0.colorBg.pb10.pt12.$},A()))),a.createElement(ei.a,{onInitialLoad:e=>{b(!e)},onIntersectionChange:e=>{b(!e.isIntersecting)}}))),a.createElement(nX,{hasTopBorder:$===nA.BETWEEN_CONTENT&&(E||h),shouldShowUUBInFooter:$===nA.IN_FOOTER}))))}function n9(e){let t=(0,q.iZ)(),r=(0,Y.dq)(),l=(0,X.d)(),s=(0,n.d4)(e=>e.currentTeamId),c=(0,n.wA)(),d=(0,Z.Q)({currentOrgId:r,currentTeamId:(0,o.k)().ps_benchmark&&s||null}),m="loaded"===d.status?d.data:null,u="loaded"!==d.status;(0,i.WX)({markName:"Sidebar",markCondition:!u});let p=(0,q.TA)(),f=(0,n.d4)(e=>p?e.authedUsers.byId[p]?.plans:null),[{status:g,data:E}]=(0,_.IT)((0,H.Xg)({teamId:s||void 0}),{enabled:!l}),b="loaded"===g&&E?.length===1?E[0]:null,h=b?.id,v=b?.name,y=null,w=(0,ee.vt)(s),T=(0,W.Yz)(),I=(0,Q.R)(s),C=(0,Q.jn)(),S=(0,W.Xs)(),x=(0,a.useMemo)(()=>m?{...m.currentUser}:null,[m]),k=(0,J.Zr)(m?.org??null),N=a.useMemo(()=>{if(x&&x.currentTeamUser&&s)return(0,V.TF)(x,s,f)},[x,s,f]),R=e.showingFileBrowserLoader;if(a.useEffect(()=>{if((0,o.k)().ps_benchmark&&s&&x&&x?.currentTeamUser){let e=x.currentTeamUser;!e.fileBrowserPreferences&&x.fileBrowserPreferences&&c(j.Sh({prefs:x.fileBrowserPreferences,orderedFolderSubscriptions:x.fileBrowserSectionPreferences?.filter(e=>e.teamId===s)[0]?.orderedFolderIds??[],teamUser:e}))}},[s,x,c]),x){if(r&&x.baseOrgUser){let e=x.baseOrgUser;x.fileBrowserPreferences=e.fileBrowserPreferences,x.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,o.k)().ps_benchmark&&s&&x.currentTeamUser&&(x.fileBrowserPreferences=x.currentTeamUser?.fileBrowserPreferences);s?y=x.currentTeamUser?.draftsProject??null:r&&(y=x.baseOrgUser?.draftsProject??null)}return a.createElement(n6,{FBGNavigationUpdatesTreatment:(0,W.fn)(),dataDriftCorrectedTeamResources:N,draftsProject:y,isOrgWithWorkspaces:k,isShowingLockedRedesign:T(w)||S(C&&I),showLoadingState:u,showingFileBrowserLoader:R,sidebarUser:x,teamFolderId:h,teamFolderName:v,trackScroll:()=>(0,G.uE)("Sidebar Scrolled",{user:t})})}var oe=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(oe||{});let ot={FileBrowserSidebar:M.e.WAYFINDING,AdminSettingsSidebar:M.e.SCALE};function or(e){let t=(0,n.d4)(e=>e.mobileNavShown),r=(0,K.n)()?"AdminSettingsSidebar":"FileBrowserSidebar";return a.createElement("nav",{className:U()("sidebar--navDefault--pYuzm",{"sidebar--navDefaultRedesigned--pttVx":(0,o.k)().file_browser_sidebar_row_ui,"sidebar--showMobileNav--YiFit":t,"sidebar--showMobileNavRedesigned--h3sJb":t&&(0,o.k)().file_browser_sidebar_row_ui})},a.createElement(P.tH,{sentryTags:{area:ot[r]},boundaryKey:r,fallback:a.createElement($.R,null),hasCustomWASMBuild:z.y4},"FileBrowserSidebar"===r?a.createElement(n9,{...e}):a.createElement(O.ay,null)))}var oa=r(625069),on=r(776130),oo=r(97859),ol=r(871681),oi=r(217084),os=r(426229),oc=r(40962),od=r(311131),om=r(122524),ou=r(412168),o_=r(629829),op=r(818754),of=r(108098),og=r(855703),oE=r(37257),ob=r(980753);function oh(e){return void 0!==e.team_id}function ov(e,t){if(e!==ob.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var oy=r(668249),ow=r(469024),oT=r(937053);function oI(e){return a.createElement(ny.Y,{spacing:4},a.createElement(oT.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),a.createElement(N.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let oC={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:e8.V0.DIRECTORY,workspaceId:e??null,selectedTab:e8.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:tA.X.HOME}:void 0};function oS({resource:e}){let t=(0,n.wA)(),r=(0,eF.FC)(),o=(0,ez.b_)({migrationGroup:oy.L.GROUP_1,component:"BreadcrumbsContainer"}),l=(0,ez.u3)({migrationGroup:oy.L.GROUP_1,component:"BreadcrumbsContainer"}),i=(0,eG.Rs)(eH.bUn,{orgId:o??null},{enabled:l}),s="loaded"!==i.status,c=i.data?.org?.workspaces??[],d=function(e,t){let r=(0,nL.R)(e=>({currentUserOrgId:e.currentUserOrgId,teams:e.teams,orgById:e.orgById}));return(0,a.useMemo)(()=>({folder:oh(e)?e:void 0,team:ov(e,r),workspace:function(e,t,r){let a=ov(e,t);if(e===ob.O);else if(a&&a.workspace_id)return r?.find(e=>e.id===a.workspace_id);else if(a&&!a.workspace_id&&a.org_id){let e=t.orgById[a.org_id];return e?.workspaces_count?ob.O:void 0}else if("domain_capture"in e||oh(e)||"workspace_id"in e)return;return e}(e,r,t),org:function(e,t){let r=ov(e,t);return r?.org_id?t.orgById[r.org_id]:e===ob.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,r)}),[e,r,t])}(e,s?[]:[...c]);if(l||d.org?o!==d.org?.id:!d.team||!(0,t5.canViewTeam)(d.team.id,r)){let e=d.org??d.team;return e?a.createElement(oI,{planEntity:e}):null}let m=(r,a)=>{let n=a===ob.O?void 0:a.id,l=oC[r](n);(0,G.Cu)({clickedResourceType:r,clickedResourceId:n,currentResource:e.id,orgId:o}),l&&t(ex.$T(l))},u=["org","workspace","team","folder"].reduce((e,t)=>{let r=d[t];if(r){let a="workspace"===t&&!r.canView,n=r===ow.s?(0,k.t)("breadcrumbs.unassigned_license_group"):a?(0,k.t)("breadcrumbs.private_workspace_ellipses"):r?.name;e.push({text:n,onClick:()=>{a||m(t,r)},disabled:r===ow.s||a})}return e},[]);return u.pop(),a.createElement(oE.A5,null,...u.map((e,t)=>a.createElement(oE.J5,{key:t,text:e.text,onClick:e.onClick,hasTrailingDivider:t<u.length-1,disabled:e.disabled})))}var ox=r(741419),ok=r(980399),oN=r(543072),oR=r(314078),oA=r(295915);let oO=(0,ed.eU)(void 0),oL=(0,ed.eU)(!1),oF=(0,oN.H0)("#2c2c2c");function oP(e){let t=(0,ed.md)(oO);if(!e||"unset"===t)return;let r=(e.colorConfig?.colors??[])[0];return t?(0,ok.colorToHex)(t):r}function oD(e){return!!e&&"unset"!==e}function oM(e){return e.rightSideActions?a.createElement(oB,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function oB(e){return a.createElement("div",{className:"x78zum5 x1qughib xh8yej3 x6s0dn4 x40hh3e"},a.createElement("div",{className:"x2lah0s"},e.headerLabel),a.createElement("div",{className:"x78zum5 x167g77z xeuugli"},e.rightSideActions))}function oU(e){let t=(0,Y.dq)(),r=(0,J.P)(t,(0,n.d4)(ol.o$)),o=oP("Unassigned"===r.data?null:r.data);return a.createElement("div",{...o_.xk(o$.desktopHeader,e.showNavigationChevrons&&o$.desktopHeaderWithChevrons,!!e.pageHeaderContent&&!e.pageHeaderDividerHidden&&o$.desktopHeaderBorder),style:{backgroundColor:o},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&a.createElement(ou.J,{parentBackgroundColor:o}),e.pageHeaderContent?a.createElement("span",{className:"xeuugli xh8yej3"},a.createElement(oM,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource_DEPRECATED&&a.createElement(oS,{resource:e.resource_DEPRECATED}))}let o$={desktopHeader:{display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",gap:"x167g77z",rowGap:null,columnGap:null,alignItems:"x6s0dn4",height:"xsdox4t",paddingLeft:"x1tudf5h",paddingRight:"x1m2p0i2",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},desktopHeaderWithChevrons:{paddingLeft:"x5tiur9",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},desktopHeaderBorder:{borderBottom:"x1n5zjp5",borderBottomWidth:null,borderBottomStyle:null,borderBottomColor:null,$$css:!0}};var oj=r(27776);let oW=(0,op.jz)(oj.tgj);function oG(e){return a.createElement(a.Fragment,null,a.createElement(of.z,{query:`(min-width: ${oW}px)`,defaultClass:x.s.sticky.top0.colorBg.zIndexTopBar.$},a.createElement(oU,{resource_DEPRECATED:e.breadcrumbResource_DEPRECATED,pageHeaderContent:e.pageHeaderContent?a.createElement("h1",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},e.pageHeaderContent):void 0,pageHeaderDividerHidden:e.pageHeaderDividerHidden,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&a.createElement(og.i,{tabs:[a.createElement("h1",{key:"mobilePageHeaderKey",className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm"},e.pageHeaderContent)]}))}function oV(e){let t=a.useRef(null),r=(0,n.d4)(({selectedView:e})=>e),i=(0,ou.E)(),s=(0,n.d4)(ol.oL),d=(0,od.K)(),m=(0,Y.sZ)(),u=d&&m&&!oi.T8.includes(r.view);!function(){let e=(0,o.k)().ps_benchmark,t=(0,n.Pj)();a.useEffect(()=>{if(!e)return;let r=t.getState(),a=(0,t5.getPermissionsState)(r),n=(0,on.vp)(a.user,a.currentUserOrgId,a.currentTeamId);n&&(0,oo.Y9)(n.userId,(0,oa.d9)(r.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let _=(0,K.n)()||"litmus"===r.view,p=!e.showingFileBrowserLoader&&!_&&(!!c.eD||(0,l.ce)()||s||e.pageHeaderContent);return a.useEffect(()=>{let e=e=>{e.keyCode===F.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,o.k)().internal_only_debug_tools&&(0,o.k)().figment_debugger&&(0,oc.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),a.createElement("div",{className:x.s.flex.flexRow.flexGrow1.$,ref:t},a.createElement(or,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),a.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2"},p&&a.createElement(P.tH,{boundaryKey:"FileBrowserPageHeader",fallback:P.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:z.y4},a.createElement(oG,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource_DEPRECATED:s,showNavigationChevrons:i,pageHeaderDividerHidden:e.pageHeaderDividerHidden})),a.createElement(P.tH,{boundaryKey:"FileBrowserLayout-content",fallback:a.createElement($.R,null),hasCustomWASMBuild:z.y4},!e.showingFileBrowserLoader&&(u?a.createElement(om.H,{org:m,isInFileBrowser:!0}):a.createElement(D.z,{layoutRef:t},e.children)))),a.createElement(os.G,{entryPoint:os.Q.FILE_BROWSER}))}var oH=r(468189),oz=r(193871),oY=r(894009),oK=r(458128),oq=r(739396),oJ=r(622812),oX=r(775452),oQ=r(184353),oZ=r(213226);function o0({orgTeamsQuery:e,workspaceId:t,onLoad:r}){let o=(0,n.wA)(),{currentOrgUser:l,teams:i,user:s,roles:c,orgId:d,orgName:m}=(0,nL.R)(e=>({currentOrgUser:e.orgUsersByOrgId[e.currentUserOrgId]?.[e.user.id],teams:e.teams,user:e.user,roles:e.roles,orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name})),{canCreateTeam:u}=(0,J.LM)(d?{id:d}:null,t),_="loaded"===e.status;a.useEffect(()=>{_&&r?.()},[r,_]);let p=a.useMemo(()=>{let t=e.data??[],r=t.length<tE.Tw;return(0,tE.KQ)(t,"name",{useExpensiveNaturalComparison:r}),t},[e]),f=l&&l.permission===eP._D.GUEST,g=Object.keys((0,oX.t)(c.byTeamId,s.id)).filter(e=>i[e]);if(f){let e=g.map(e=>i[e]).filter(e=>e.org_id===d);return a.createElement(oY.h,{teams:e,onLeave:e=>{o(tS.to({type:oZ.p,data:{teamId:e.id}}))},orgName:m})}let E=(0,r8.DQ)(r8.Pw.GROUP_3)?a.createElement(oK.X,{isLoading:!0}):a.createElement("div",{className:x.s.flex.wFull.hFull.alignCenter.justifyCenter.$},a.createElement(oH.k,{htmlAttributes:{"data-testid":"loading-spinner"}}));return _?a.createElement("div",{className:x.s.mt24.$},a.createElement(oq.w,{orgTeams:p,orgTeamStatus:e.status,onCreateTeam:u?()=>{let e={workspaceId:t??ob.O};o(tS.to({type:oQ.Uc,data:e}))}:void 0,emptyView:t&&!u?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})):E}let o1=(0,ed.eU)(()=>t4.Qw.loaded([]));function o4({workspaceId:e,onlyJoinedTeams:t}){let r=(0,eF.FC)(),n=(0,ez.b_)({migrationGroup:oy.L.GROUP_4,component:"useFilteredOrgTeams"}),o=!(0,t5.canMemberOrg)(n??null,r),l=(0,ed.md)(o?o1:oz.E);return a.useMemo(()=>l.transform(a=>a.filter(a=>{if(t)return(0,t5.hasViewerRoleAccessOnTeam)(a.id,r);if(null===e){if(a.workspace_id)return!1}else if(e&&a.workspace_id!==e)return!1;return(0,oJ.ox)(a,r)})),[l,r,t,e])}function o5({children:e}){return a.createElement("section",{"aria-label":(0,k.t)("file_browser.teams")},a.createElement("div",{className:x.s.mx32.textBodyLargeStrong.$},a.createElement("div",null,(0,k.t)("file_browser.teams"))),e)}var o2=r(765285);function o7({avatar:e,title:t,rightSideActions:r,rightSideOfTitleAction:n,pageHeaderIcon:o,textColor:l,badge:i}){return a.createElement("div",{className:U()(x.s.mx32.mb20.$,"page_header--marginMobile--ocPfX")},a.createElement("div",{className:x.s.flex.mt8.itemsCenter.justifyBetween.$},a.createElement("div",{className:x.s.flex.itemsCenter.h40.minW0.$},e,a.createElement("div",{className:x.s.wFull.overflowHidden.$,style:ec.sx.if(e&&!o,ec.sx.ml16).$},a.createElement("span",{className:x.s.flex.itemsCenter.$},o,a.createElement(N.E,{color:l,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),a.createElement("div",{className:x.s.ml8.$},i),n&&n.element))),a.createElement("div",{className:x.s.flex.ml16.gap8.$},r?.map(e=>a.createElement(o2.K,{action:e,key:e.key})))))}function o3(e){let{belowHeaderItem:t,...r}=e;return a.createElement(a.Fragment,null,a.createElement(og.i,{tabs:null,hideToolBarOnMobile:!0}),a.createElement(o7,{...r}),t)}var o8=r(286913),o6=r(356505),o9=r(415873),le=r(541525);function lt(e){return a.createElement(o6.$n,{variant:"secondary",disabled:!0,htmlAttributes:{"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onPointerEnter:e.onMouseEnter},"aria-describedby":e.tooltipText},e.text)}function lr({backgroundColor:e}){let t=(0,le.NV)(G.WL),r=(0,n.d4)(e=>e.selectedView.view),o=(0,k.t)("license_group_view.toolbar.new_team_button"),l=()=>{t(G.jd,{placement:r})};return e?a.createElement("button",{className:U()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,oN.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:l,disabled:!0},a.createElement(N.E,{fontSize:11,fontWeight:"medium",truncate:!0},o)):a.createElement(lt,{text:o,tooltipText:(0,k.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:l})}var la=r(62429);function ln(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,ek._6)();return()=>{r?t(tS.to({type:oQ.Uc,data:{workspaceId:e??ob.O}})):t(te.Dw({previousView:a}))}}function lo({workspace:e,org:t}){let{canCreateTeam:r,cannotCreateTeamReason:n}=(0,J.LM)(t,e?.id??null),o=oP(e),l=ln(e?.id);return n===J.z4.TEAM_CREATION_CONTROL?{kind:la.A.CUSTOM,key:la.D.NEW_TEAM,element:a.createElement(lr,{backgroundColor:o})}:r?{kind:la.A.CUSTOM,key:la.D.NEW_TEAM,element:a.createElement(o6.$n,{"aria-label":(0,k.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:l,iconPrefix:a.createElement(o9.e,null)},(0,k.t)("license_group_view.toolbar.new_team_button"))}:null}function ll(){let e=(0,Y.sZ)(),t=lo({org:e,workspace:null}),r=o4({workspaceId:null,onlyJoinedTeams:!1});return a.createElement(o8.r,{header:a.createElement(o3,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:a.createElement("div",{className:x.s.flex.flexColumn.my24.$},a.createElement(o5,null,a.createElement(o0,{orgTeamsQuery:r,workspaceId:null})))})}var li=r(647462),ls=r(389329),lc=r(622876),ld=r(821416),lm=r(609697),lu=r(229424);function l_(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,n.d4)(({dropdownShown:e})=>e),l=!!(e.dropdownKey&&e.dropdownOptions&&o&&o.type===e.dropdownKey&&o.data&&o.data.targetRect),i=(0,a6.j6)();return a.createElement("div",{className:"x1iog12x"},a.createElement(tY.d,{ref:r,"aria-expanded":l,"aria-label":e.buttonAriaLabel,onClick:()=>{if(r.current){if(o){t(ex.oB());return}t(ex.j7({type:e.dropdownKey,data:{targetRect:r.current.getBoundingClientRect()}}))}},"data-onboarding-key":e.dataOnboardingKey},a.createElement(lm.k,null)),l&&(0,a6.T8)(a.createElement(et.J,null,a.createElement(tx.j,{parentRect:o?.data?.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,G.Cu)({...i.properties,trackingContext:i.name,...e.trackingProperties})},showPoint:!0})),lu.e0.PAGE_HEADER_DROPDOWN))}var lp=r(454916),lf=r(558253),lg=r(511039),lE=r(465584),lb=r(595324);let lh=rc.M4.Mutation(async e=>{await lE.u.updateDescription(e)}),lv=(0,tT.Ju)(function({workspace:e}){let t=(0,n.wA)(),r=(0,rc.gY)(lh);return a.createElement(lb.c,{title:(0,k.t)("workspace_view.description_modal.title"),subtitle:a.createElement("div",{className:x.s.mb16.$},a.createElement(N.E,{color:"secondary"},(0,k.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:a.createElement("span",{className:x.s.fontSemiBold.$},(0,k.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,k.t)("workspace_view.description.placeholder"),submitText:(0,k.t)("workspace_view.description.save"),onRename:a=>r({workspaceId:e.id,description:a}).then(()=>t(tZ.F.enqueue({message:(0,k.t)("workspace_view.description_update_updated")})),()=>{let e=(0,k.t)("workspace_view.description_update_error");t(nl.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");function ly(){let e=(0,n.wA)(),t=(0,q.TA)();return a.useCallback(r=>{let a=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),n=[];return a&&n.push({displayText:(0,k.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(ex.$T({view:"workspace",subView:e8.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:e8._C}))}}),n.length>0&&n.push({displayText:"",separator:!0}),n.push({displayText:(0,k.t)("file_browser.copy_link"),callback:()=>{let t=(0,rd.fO)(r.workspace.id,r.org.id);e(t7.S({url:t}))}}),r.workspace.canAdmin&&n.push({displayText:(0,k.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,lg.X)({entity:r.workspace,entityType:lp.ck.WORKSPACE,shape:"SQUARE"}))}}),n},[e,t])}var lw=r(182059),lT=r(744149),lI=r(197681),lC=r(71145),lS=r(983187),lx=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(lx||{});function lk({selectedFillOption:e,onSelectFillOption:t}){let r={solid:(0,k.t)("workspace_view.toolbar.solid"),no_fill:(0,k.t)("workspace_view.toolbar.no_fill")};return a.createElement(lw.Ve,{className:x.s.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return a.createElement(lC.$n,{className:x.s.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},a.createElement("span",{className:x.s.minW32.mr8.$},r[e]))},dropdownOptionsClassName:x.s.mt4.$,options:["solid","no_fill"].map((e,n)=>a.createElement(lw.c$,{className:x.s.colorTextMenuSecondary.$,key:n,id:e,onClick:()=>{t(e)}},r[e])),optionsBelowSelector:!0,noBorder:!0})}let lN=rc.M4.Mutation(async e=>{await lE.u.updateColor(e)});function lR({workspace:e,onClose:t}){let r=(0,n.wA)(),o=(0,rc.gY)(lN),l=[{option:oF},...(0,oA.TS)("base").filter(e=>!(0,oN.DA)(e,(0,oA.BV)(ox.daH.BLACK,"base"))).map(e=>({option:e})),...(0,oA.TS)("baseLight").map(e=>({option:e}))],i=a.useRef(null),[s,c]=a.useState(!1),d=(0,lT.DP)(),m=function(e){try{if(e)return(0,oN.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[u,_]=a.useState(m?"solid":"no_fill"),[p,f]=(0,ed.fp)(oO);return a.useEffect(()=>(f(m),()=>{f(void 0)}),[]),a.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},r=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",r)}}},[s,t]),a.createElement(a.Fragment,null,a.createElement("div",{role:"button","aria-label":(0,k.t)("common.close"),tabIndex:0,className:x.s.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),a.createElement("div",{className:x.s.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:i},a.createElement(lk,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e="dark"===d?oF:oN.UE;f(m??e)}else f("unset")}}),oD(p)&&a.createElement(a.Fragment,null,a.createElement(lC.wv,null),a.createElement(lI.qW,{buttonClassName:x.s.ml2.mr2.$,buttonSize:"xsmall",dropperDisabled:!0,fixedNumColumns:9,hasNonWhiteboardColors:!0,isColorPopoverOpen:s,onColorChange:e=>{f(e.option)},optionSize:"medium",options:l,paletteType:"base",positionX:()=>0,positionY:(e,t)=>(0,lS.DH)(e,t,4),setIsColorPopoverOpen:c,shouldCustomColorPopoverCloseOnEscape:!0,shouldDisableDataTooltip:!0,value:{option:p}})),a.createElement(lC.wv,null),a.createElement(lC.$n,{className:x.s.ml4.mr2.$,onClick:t},a.createElement("span",{className:x.s.mr1.colorTextToolbarSecondary.$},(0,k.t)("workspace_view.color.toolbar.cancel"))),a.createElement(lC.$n,{className:x.s.mr8.$,onClick:()=>{o({workspaceId:e.id,colors:oD(p)?[(0,ok.colorToHex)(p)]:[],onfulfilled:()=>r(tZ.F.enqueue({message:(0,k.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,k.t)("workspace_view.toolbar.workspace_color_update_error");r(nl.s.error(e)),console.error(e)}}),t()}},a.createElement("span",{className:x.s.colorTextOnbrand.$},(0,k.t)("workspace_view.color.toolbar.save")))))}var lA=r(197945),lO=r(391205);let lL=(0,n.Ng)(e=>({currentUserId:e.user?.id}))(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},r=e.members.length,n=e.membersToShow||10;return a.createElement("div",null,!e.removeHeader&&a.createElement("div",{className:x.s.font13.fontMedium.mb12.$},e.label||(0,k.t)("file_browser.team_overview.member_label")),e.members.slice(0,n).map(r=>{let n=r.id===e.currentUserId,o=e.showAdminBadge&&e.showAdminBadge(r);return a.createElement(tr.az,{key:r.id,size:24,entity:r,className:e.customAvatarRowStyle?e.customAvatarRowStyle:x.s.font13.mb16.$,showIsMe:n,onClick:e.onMemberClick,badge:o?{color:ai.zE.DEFAULT,text:(0,k.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&n&&a.createElement("span",{onClick:t,className:"members_preview--leaveLink--v8vxs text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},(0,k.tx)("file_browser.team.leave_confirm")))}),r>n&&(e.customOverflowRow||a.createElement("div",{className:"members_preview--totalMemberCountContainer--wYQwX",onClick:e.onClickShowMore},a.createElement(es.B,{svg:lO.A,className:"members_preview--teamIcon--UFW2s"}),a.createElement("div",{className:"members_preview--totalMemberCount--D3Q8a text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.team_overview.num_others",{numMembers:r-n})))))});var lF=r(672182),lP=r(300035),lD=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(lD||{});function lM(e){let t=(0,lP.rw)(),r=new Map([["MEMBERS",(0,k.t)("workspace_view.members_modal.members")],["ADMINS",(0,k.t)("workspace_view.members_modal.admins")]]),n=[];return r.forEach((r,o)=>{n.push(a.createElement(t,{tab:o,mobileNavTabTitle:r,selectedTab:e.selectedTab,key:o,onClick:()=>e.setTab(o)},r))}),a.createElement("div",{className:"workspace_members_modal--tabsContainer--DBh33"},n)}function lB(e){return a.createElement("div",{className:"workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib"},a.createElement(lA.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,k.t)("workspace_view.members_modal.search_placeholder")}))}function lU(e){return a.createElement("div",{className:"workspace_members_modal--emptyContainer--bTf-s"},a.createElement("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let l$=(0,tT.Ju)(function(e){let t=(0,n.wA)(),r=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),o=e.workspace.members.slice().sort(r),l=e.workspace.admins.slice().sort(r),i={};o.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)});let[s,c]=(0,a.useState)("MEMBERS"),[d,m]=(0,a.useState)(o),[u,_]=(0,a.useState)(""),p=a.createElement(lM,{dispatch:t,selectedTab:s,setTab:e=>{_(""),c(e),m("MEMBERS"===e?o:l)}}),f=d.filter(e=>{let t=e.baseOrgUser?.user,r=u.toLocaleLowerCase();return!!t?.email?.toLocaleLowerCase().includes(r)||!!t?.handle.toLocaleLowerCase().includes(r)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],g=a.createElement(lB,{query:u,onChange:e=>_(e)}),E=a.createElement(lU,{content:(0,k.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}),b=a.createElement(lU,{content:(0,k.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}),h=a.createElement(lU,{content:(0,k.tx)("workspace_view.members_modal.no_results",{query:u})}),v=a.createElement(el.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi"},a.createElement(lL,{members:f,showAdminBadge:e=>"ADMINS"!==s&&i[e.id]===eP.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--y5bbv text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,r)=>{t(ex.$T({view:"user",userId:r.id,userViewTab:lF.o.INTERNAL_PROFILE})),t(tS.Ce())}}));return"MEMBERS"===s?0===o.length?v=E:0===f.length&&(v=h):"ADMINS"===s&&0===l.length&&(v=b),a.createElement(a_.XV,{title:p,headerSize:"large",fixedTop:!0,onClose:()=>{t(tS.Ce())}},a.createElement("div",{className:"workspace_members_modal--modalContainer--3d9wu"},a.createElement(ny.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===s&&o.length>0&&g," ",v)))},"WORKSPACE_MEMBERS_MODAL",tT.ZU.YES);var lj=r(842087);function lW(e){let{workspace:t,org:r}=e,o=(0,n.wA)(),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,n.d4)(e=>e.avatarEditorState),s=t.canAdmin,[c,d]=(0,ed.fp)(oL),{canCreateTeam:m}=(0,J.LM)(r,t.id),u=(0,tw.S)(),_=window.innerWidth<=(0,op.hG)(oj.tgj),p=t?t.id:ob.O,f=oP(t),g=function(e){if(e&&"unset"!==e)return(0,oN.kx)(e)?"dark":"light"}(f),E=t?.members||[],b=(0,lc.GA)(),h=ln(t.id),v=a.useCallback((e,r,a)=>{if(t){let n={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:a,favoriteId:r};e?o(eA.ZW(n)):o(eA.if(n))}},[o,t]),y=()=>{o(tS.to({type:l$,data:{workspace:e.workspace,tab:lD.MEMBERS}}))},w={kind:la.A.ICON_TEXT_BUTTON,key:la.D.VIEW_MEMBERS,displayText:E.length.toString(),onClick:e=>y(),icon:lj.A,svgStyleClass:U()(f?(0,oN.kx)(f)?"workspace_page_header--iconTextButtonSvgForDarkBackground--Sq5Fx workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvgForLightBackground--pL63t workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvg--zStD-"),styleClass:U()(f?(0,oN.kx)(f)?"workspace_page_header--membersButtonForDarkBackground--2IRgt workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--membersButtonForLightBackground--N75P8 workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0),isLoading:e.isWorkspaceMembersLoading},T=a.useMemo(()=>a.createElement(r$.r,{setFavorite:v,favoriteType:eP.bk.WORKSPACE,resourceId:p,isInHeader:!0,orgId:l}),[p,v,l]),I=function(){let e=ly(),t=(0,n.wA)(),[r,o]=(0,ed.fp)(oL);return a.useCallback(r=>{let a=e(r);return r.workspace.canAdmin&&(a.push({displayText:(0,k.t)("workspace_view.toolbar.change_color"),callback:()=>o(!0)}),a.push({displayText:(0,k.t)("workspace_view.description.title"),callback:()=>{t(tS.to({type:lv,data:{workspace:r.workspace}}))}})),a},[e,t,o])}(),C=t&&r?I({workspace:t,org:r}):m&&_?[{displayText:(0,k.t)("org_view.new_team"),callback:h}]:void 0,S=[],x=lo({workspace:t,org:r});if(x&&S.push(x),e.showMembersButton&&S.push(w),u&&t&&S.push({kind:la.A.CUSTOM,key:la.D.FAVORITE,element:T}),!t)return a.createElement(o3,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:S});let N=C?{kind:la.A.CUSTOM,key:la.D.DROPDOWN,element:a.createElement(l_,{buttonAriaLabel:(0,k.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:C,dropdownColorClassName:f?(0,oN.kx)(f)?"workspace_page_header--dropdownColorsForDarkBackground--OIHSt":"workspace_page_header--dropdownColorsForLightBackground--uH-aL":void 0})}:void 0;return a.createElement("div",{style:{backgroundColor:f}},a.createElement(ld.J,{mode:f?g:b.color},a.createElement(o3,{avatar:s?a.createElement(lf.j,{avatarEditorState:i,entityType:lp.ck.WORKSPACE,entity:t,dispatch:o,size:40}):a.createElement(tr.z6,{entity:t,size:40}),title:a.createElement("span",{className:"workspace_page_header--titleColorForBackground--e6EH9"},t.name),badge:t.orgAccess===eP.bU.SECRET?a.createElement("div",{"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},a.createElement(ls.$,{className:"workspace_page_header--iconColorForBackground--QSzJh"})):void 0,rightSideActions:S,rightSideOfTitleAction:N,belowHeaderItem:c?a.createElement(lR,{workspace:t,onClose:()=>d(!1)}):void 0})))}function lG(e){let t=(0,n.wA)(),r=e.workspace.members,o=a.useMemo(()=>r||[],[r]),l=a.useMemo(()=>o.slice(0).sort(()=>Math.random()-.5),[o]),i={};return o.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),a.createElement("div",{className:x.s.my24.mr8.ml24.$},a.createElement("div",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("workspace_view.sidebar.members")),a.createElement(lL,{removeHeader:!0,members:l.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,r)=>{t(ex.$T({view:"user",userId:r.id,userViewTab:lF.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===eP.bp.ADMIN,customOverflowRow:a.createElement(a.Fragment,null,a.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(tS.to({type:l$,data:{workspace:e.workspace,tab:lD.MEMBERS}}))}},(0,k.t)("workspace_view.sidebar.see_all_members")))}))}var lV=r(878028),lH=r(542052);function lz({isExpanded:e,fill:t,onClick:r}){return a.createElement("div",{role:"button",tabIndex:-1,className:U()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:r},a.createElement(lH.In,{icon:"caret-right-16",fill:t}))}function lY({isOpen:e,toggleIsOpen:t,collapseHeader:r,content:n}){return a.createElement("div",{className:x.s.flex.flexColumn.wFull.$},a.createElement("div",{className:x.s.flex.flexRow.gap4.itemsCenter.wFull.$},a.createElement(lz,{isExpanded:e,fill:"secondary",onClick:t}),r),a.createElement("div",{className:x.s.grid.ml20.$,"aria-hidden":!e,style:ec.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,ec.sx.add({gridTemplateRows:"1fr"}),ec.sx.add({gridTemplateRows:"0fr"})).$},a.createElement("div",{className:x.s.if(!e,x.s.overflowHidden).$},n)))}var lK=r(813321),lq=r(988346),lJ=r(237461),lX=r(354054),lQ=r(269067);function lZ({title:e,confirmText:t,emptyStateText:r,onSelectFile:n,onSubmit:o,files:l,tileClassName:i,renderFileTile:s,query:c,setQuery:d,gridText:m,shouldDisableTile:u}){let[_,f]=a.useState(null),g=a.useCallback(()=>{_&&o(_)},[o,_]),E=a.useCallback(e=>{if(e.length>0){let t=e[0].key;n?.(t),f(t)}else f(null)},[n]);return a.createElement(l0,{title:e,onSubmit:g,confirmText:t,isDisabled:!_,query:c,onSearchChange:d,clearSearch:()=>d(""),searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},0===l.length?a.createElement("div",{className:"x78zum5 x1q0g3np x195vfkc x6s0dn4 xl56j7k x1n0bwc9 x5yr21d xh8yej3 x1iyjqo2 x2b8uid"},r):a.createElement(a.Fragment,null,m&&a.createElement("span",{className:"x1n0bwc9"},m),a.createElement(lQ.g,{canSelectItem:e=>!u?.(e),containerStyle:l1.grid,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,handleContextMenu:p.lQ,isDraggable:!1,items:l,keepSelectionOnFocusLost:!0,multiselectDisabled:!0,onSelection:E,renderTile:s,renderTileFooter:()=>a.createElement(a.Fragment,null),tileClassName:i})))}function l0({title:e,confirmText:t,onSubmit:r,isDisabled:n,children:o,query:l,onSearchChange:i,clearSearch:s,searchPlaceholder:c}){return a.createElement(a_.Eo,{title:e,confirmText:t,onSubmit:r,disabled:n,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},a.createElement(lA.IW,{className:U()(x.s.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--QTue5"),hasTransparentBackground:!0,placeholder:c,focusOnMount:!0,query:l,onChange:i,clearSearch:s,iconClassName:x.s.colorIcon.$,hideXIcon:!0}),a.createElement(el.P,{className:"choose_file_modal--gridMaxHeight--8NKvW",innerClassName:x.s.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},o))}let l1={grid:{paddingBottom:"x1l90r2v",$$css:!0}};var l4=r(261274),l5=r(737397);function l2({file:e,isDisabled:t,orgName:r}){let n=(0,rG.N)();return a.createElement(l5.i,{thumbnail:a.createElement(rU.NM,{file:e,noBorder:!0}),bottomLeftIcon:a.createElement(rM.F,{type:n(e)}),title:a.createElement("div",{className:"x78zum5 x1q0g3np x1jnr06f x1jud9m8 x6s0dn4"},a.createElement("span",{...o_.xk(l7.truncate,t&&l7.secondaryText)},e.name),t&&r&&a.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,k.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:r}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},a.createElement(l4.B,{className:"xmauxvm"}))),subtitle:e.project?.name})}let l7={truncate:{whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,textOverflow:"xlyipyv",$$css:!0},secondaryText:{color:"x1n0bwc9",$$css:!0}},l3=(0,tT.Ju)(function({workspaceId:e}){let t=(0,n.wA)(),r=(0,ez.yN)({migrationGroup:oy.L.GROUP_11,component:"ChooseFileToPinModal",attribute:"orgName",legacy:(e,t)=>t?.name??null,migrated:(e,t)=>t?.name??null}),[o,l]=a.useState(""),[i]=(0,lK.A)(o,400),[s,c]=a.useState(null),d=a.useCallback(e=>{c(e)},[]);(0,eG.Rs)(eH.wtK,{fileKey:s??""},{enabled:!!s});let m=function({searchQuery:e,workspaceId:t}){let r=t4.Qw.useTransformShallowEqual((0,eG.Rs)(eH.z07,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),a=function({searchQuery:e,workspaceId:t}){let r=(0,Y.dq)();(0,C.vA)(!!r,"currentUserOrgId must be defined in useSearchWorkspaceFilesQuery");let a=(0,eG.Rs)(eH.Imb,{query:e,workspaceId:t,orgId:r,sort:"relevancy",desc:"true"},{enabled:!!e});return t4.Qw.useTransformShallowEqual(a,e=>{let t=[];for(let r of e.searchWorkspaceFiles)r.file&&t.push(r.file);return t})}({searchQuery:e,workspaceId:t}),n="disabled"!==a.status?a:r;return(0,lJ.z1)(n,t)}({searchQuery:i,workspaceId:e}),u=t4.Qw.useTransformShallowEqual(m,e=>e.map(e=>e.key)),_=(0,lJ.H6)(u.unwrapOr([])),f=a.useCallback(e=>{t(tS.ES(l3)),t(tS.to({type:(0,lq.a)(),data:{fileKey:e,source:o?"add_file_modal_search":"add_file_modal_suggested"}}))},[t,o]);a.useEffect(()=>(t(lX.Dy({entryPoint:"file_browser:file_picker_modal"})),t(lX.Rz({workspaceFilter:e})),()=>{t(lX.Rz({workspaceFilter:null})),t(lX.ky())}),[t,l,e]);let g=a.useCallback(e=>{l(e)},[]);if("loaded"!==_.status||"loaded"!==m.status)return a.createElement(l0,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),isDisabled:!0,query:o,onSearchChange:g,clearSearch:p.lQ,searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},a.createElement("div",{className:U()(x.s.flex.itemsCenter.justifyCenter.wFull.hFull.flexGrow1.$)},a.createElement(eo.qc,null)));let E=e=>{let t=_.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace};return a.createElement(lZ,{confirmText:(0,k.t)("general.next"),emptyStateText:o?(0,k.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:a.createElement("div",{className:x.s.colorText.fontMedium.truncate.$},o)}):(0,k.t)("file_browser.workspace_pinning.no_suggested_files"),files:m.data,gridText:o?void 0:(0,k.t)("file_browser.pinning.suggested"),onSelectFile:d,onSubmit:f,query:o,renderFileTile:(e,t)=>a.createElement(l2,{file:e,orgName:r,isDisabled:E(e)}),setQuery:g,shouldDisableTile:E,tileClassName:"choose_file_to_pin_modal--showOnHoverContainer--DO9-h",title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace")})},"ChooseFileToPinModal");var l8=r(599952),l6=r(193324),l9=r(290868),ie=r(743500),it=r(725038),ir=r(241513),ia=r(196976),io=r(650889),il=r(188591);let ii={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function is({suggestedFiles:e}){let t=e.slice(0,8),r=(0,ek._6)(),o=(0,n.wA)(),{showing:l,show:i,data:s}=(0,ir.L)(),c=a.useCallback((e,t)=>{d.Ay.redirect((0,ro.r1)(e)),(0,G.k1)(e.key,{selectedViewName:r.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[r.view]),m=a.useCallback((e,t)=>{c(e,t)},[c]),u=a.useCallback((e,t,r)=>{let a=e[0];a&&i({data:{tile:(0,lJ.bn)(a),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[i]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr"},(0,k.t)("file_browser.pinning.suggested")),a.createElement(io.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:m,onSelection:e=>{o(re.an()),o(re.PW({type:r_.F.FILES,keys:e.map(e=>e.key)}))},handleContextMenu:u,gridViewProps:{containerStyle:id.grid,renderTile:e=>a.createElement("div",{className:"x1dmp6jm xkib98w xbyyjgo x12oqio5 xgk9eko xb3r6kr"},a.createElement(rU.NM,{file:e,noBorder:!0,size:r0.y.SMALL})),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:r})=>a.createElement(ic,{file:e,isHovered:r,isSelected:t})},viewType:il.XU.GRID}),l&&s?.tile?a.createElement(ia.i,{tileActions:ii,openTile:e=>c(s.tile.file,e),tile:s.tile,selectedTiles:[s.tile],dropdownVisible:l}):null)}function ic({file:e,isHovered:t,isSelected:r}){let o=(0,n.wA)(),l=a.useCallback(t=>{o(tS.to({type:(0,lq.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),t.stopPropagation(),t.preventDefault()},[o,e]),i=e.project?.name;return a.createElement("div",{className:"x78zum5 xdt5ytf x195vfkc x1iyjqo2 xl56j7k xb3r6kr xq1n1xh"},a.createElement("div",{...o_.xk(id.fileName)},e.name),t||r||f.Ay.mobile||f.Ay.tablet?a.createElement("div",{role:"button",tabIndex:0,className:"x1quhyk7 xlyipyv xuxw1ft xb3r6kr x1ypdohk",onClick:l},(0,k.t)("file_browser.pinning.pin_file")):i?a.createElement("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr"},i):null)}let id={fileName:{...l8.g.textBodyMedium,textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},grid:{gridTemplateColumns:"xem2tbl",gap:"xou54vl",rowGap:null,columnGap:null,$$css:!0}};function im({workspaceId:e}){let t;let r=function(e){let t=t4.Qw.useTransform((0,eG.Rs)(eH.m28,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t});return(0,lJ.z1)(t,e)}(e);return t="loaded"!==r.status?a.createElement("div",{className:x.s.py1.h20.wFull.$},a.createElement(eo.qc,null)):r.data.length>0?a.createElement(is,{suggestedFiles:r.data}):a.createElement("span",{className:x.s.colorTextSecondary.truncate.textBodyLarge.alignCenter.$},(0,k.t)("file_browser.pinning.no_pinned_files")),a.createElement("div",{className:x.s.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$},t)}var iu=r(891627),i_=r(464437),ip=r(879378),ig=r.n(ip),iE=r(322035),ib=r(68134),ih=r(855584),iv=r(753131),iy=r(572112),iw=r(918663),iT=r(280679);function iI({pinnedFile:e}){let t=(0,lJ.bn)(e.file),r=(0,iy.l)(e.file.folderId);return a.createElement("div",{className:x.s.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:ec.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$},a.createElement("div",{className:x.s.flex.flexRow.gap16.$},a.createElement("div",{className:x.s.flexBasisAuto.$},a.createElement(iT.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})),a.createElement("div",{className:x.s.flex.flexColumn.overflowHidden.$},a.createElement("div",{className:x.s.flex.flexRow.gap8.textBodyLarge.$},a.createElement(N.E,{fontWeight:"semi-bold",truncate:!0},e.creator.name),a.createElement("span",{className:x.s.flexBasisAuto.flexGrow1.flexShrink0.$},a.createElement(N.E,{color:"secondary"},a.createElement(iv.h1,{date:e.createdAt})))),a.createElement("div",{className:x.s.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,ih.p)((0,l6.sP)(e.description))}}))),a.createElement("div",{className:x.s.flex.flexColumn.$},a.createElement("div",{className:x.s.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},a.createElement("div",null,a.createElement(l9.e,{tile:t,noBorder:!0})),a.createElement("div",{className:x.s.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},a.createElement(iw.j,{tile:t,usePageIcon:!0}),a.createElement("div",{className:x.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},a.createElement("div",{className:x.s.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===r.status&&r.data?a.createElement("div",{className:x.s.textBodyMedium.colorTextSecondary.truncate.$},r.data):null)))))}let iC={width:0,height:0};function iS({pinnedFile:e,targetRef:t,shouldHide:r}){let n=(0,ib.s)(t),[o,l]=(0,ib.M)(),[i,s]=a.useState(iC),[c,d]=a.useState(!1),m=a.useCallback(()=>{if(!t.current)return;let e=(0,iE.E)(t.current.getBoundingClientRect()),r=window.innerWidth,a=window.innerHeight,n=a-e.top-8,o=n>100;if(r-e.right>438&&o){s({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:n});return}if(e.left>438&&o){s({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:n});return}let l=430-(r-e.left),i=a-e.bottom-16;if(i>100){s({transform:`translate(${(0,i_.qE)(e.left-l,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:i});return}let c=e.top-16;s({top:"auto",bottom:"100vh",transform:`translate(${(0,i_.qE)(e.left-l,0,e.left)}px, ${e.top-8}px)`,maxHeight:c})},[t,s]),_=!r&&(n||l),p=(0,u.ZC)(_);if(a.useEffect(()=>{if(!p&&_)m();else if(p&&!_){d(!0);let e=setTimeout(()=>{d(!1)},(0,op.XB)("150ms"));return()=>{clearTimeout(e)}}},[_,p,m]),a.useEffect(()=>{let e=ig()(m),t=()=>{_&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[_,m]),!t.current)return null;let f=a.createElement("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM"},a.createElement("div",{className:U()("pinned_files_hover--hoverCard--MLJbb",_&&"pinned_files_hover--makeVisible--QrDF7"),style:i,ref:o,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},(_||c)&&a.createElement(iI,{pinnedFile:e})));return iu.createPortal(f,document.body)}let ix={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0},ik=[];function iN({workspace:e}){let t=(0,n.wA)(),r=(0,ek._6)(),o=(0,q.TA)(),{showing:l,show:i,data:s}=(0,ir.L)(),c=(0,it.v)(),d=a.useCallback((t,a,n,o)=>{c(t,n),(0,G.E9)(G.gH,a.file,{entrypoint:o,selectedView:r.view,resourceType:"workspace",resourceId:e.id,pinDescription:(0,l6._Z)(a.description)})},[c,r.view,e.id]),m=a.useCallback((e,t)=>{d((0,lJ.bn)(e.file),e,t,"pinned files")},[d]),u=e.pinnedFiles??ik,_=a.useCallback(r=>{let a=r[0];a&&(e.canAdmin||a.creator?.id===o)&&t(tS.to({type:(0,ie.I)(),data:{pinnedFileId:a.id}}))},[e.canAdmin,o,t]),p=a.useMemo(()=>u.filter(({file:e})=>!!e).map(e=>(0,lJ.bn)(e.file)),[u]),f=(0,ra.nw)(p),g=a.useMemo(()=>u.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[u]);return a.createElement(a.Fragment,null,u.length>0?a.createElement(io.A,{doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,gridViewProps:{containerStyle:iO.grid,renderTile:e=>a.createElement(iR,{pinnedFile:e,isDropdownOpen:l}),renderTileFooter:e=>a.createElement(iA,{pinnedFile:e}),renderTileDragImage:e=>a.createElement(rU.NM,{file:e.file,noBorder:!0})},handleContextMenu:(e,r,a)=>{t(re.an());let n=e.map(e=>e.file).filter(e=>null!==e);t(re.PW({type:r_.F.FILES,keys:n.map(e=>e.key)}));let o=n[0];o&&i({data:{tile:(0,lJ.bn)(o),targetRect:{top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1},index:a}})},handleDeleteKey:_,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>rl.F.toSinatra(e.file)))},handleOpenItem:m,isDraggable:!0,items:g,viewType:il.XU.GRID}):a.createElement(im,{workspaceId:e.id}),(()=>{let e=s?.tile??null,t=s?.index??0;return a.createElement(ia.i,{tile:e,selectedTiles:f,tileActions:ix,openTile:r=>{e&&d(e,u[t],r,"pinned files: context menu")},dropdownVisible:l})})())}function iR({pinnedFile:e,isDropdownOpen:t}){let r=a.useRef(null),n=(0,lJ.bn)(e.file);return a.createElement(a.Fragment,null,a.createElement(iS,{pinnedFile:e,targetRef:r,shouldHide:t}),a.createElement("div",{ref:r},a.createElement(l9.e,{tile:n,noBorder:!0,size:r0.y.SMALL})))}function iA({pinnedFile:e}){return a.createElement("div",{className:"x1y1aw1k x78zum5 xdt5ytf"},a.createElement("span",{...o_.xk(iO.fileName)},e.file.name),a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})))}let iO={fileName:{...l8.g.textBodyLargeStrong,textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},grid:{paddingTop:"xyamay9",gridTemplateColumns:"x1g5i94c",userSelect:"x87ps6o",$$css:!0}},iL=(0,ed.Iz)(e=>(0,ed.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,lV.z.boolean()));function iF({workspace:e,isAssignedWorkspace:t,onLoad:r}){a.useEffect(()=>{r?.()},[r]);let[o,l]=(0,ed.fp)(iL(e.id)),i=a.useCallback(()=>l(e=>!e),[l]),s=(0,n.wA)(),c=e.pinnedFiles?.length??0,d=t||e.canAdmin,m=c>=lJ.D1,u=d||c>0,_=a.useCallback(()=>{s(tS.to({type:l3,data:{workspaceId:e.id}}))},[s,e.id]);return a.createElement(a.Fragment,null,u&&a.createElement(lY,{isOpen:o,toggleIsOpen:i,collapseHeader:a.createElement("div",{className:x.s.flex.justifyBetween.itemsCenter.wFull.$},a.createElement("div",{"aria-expanded":o,role:"button",tabIndex:0,className:x.s.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:i},(0,k.t)("file_browser.pinning.pinned_files")),d&&a.createElement(o6.$n,{variant:"link",onClick:_,disabled:m,htmlAttributes:{"data-tooltip":m?(0,k.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:lJ.D1}):void 0,"data-tooltip-type":ac.Ib.TEXT,"data-tooltip-show-above":!0}},(0,k.t)("file_browser.pinning.add_file"))),content:a.createElement(iN,{workspace:e})}))}function iP({workspaceId:e}){let t=(0,Y.sZ)(),r=(0,eG.Rs)(eH.aON,{orgId:t.id,workspaceId:e}),n=(0,eG.Rs)(eH.nD$,{workspaceId:e}).transform(e=>e.workspace?.members??null),o=o4({workspaceId:e,onlyJoinedTeams:!1}),l=function(){let e=a.useRef(void 0);e.current||(e.current=performance.now());let t=a.useRef("hidden"===document.visibilityState),r=a.useRef(!1===navigator.onLine);return a.useEffect(()=>{let e=new AbortController;return document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(t.current=!0)},{signal:e.signal}),window.addEventListener("offline",()=>{r.current=!0},{signal:e.signal}),()=>{e.abort()}},[]),a.useCallback(a=>{t.current||r.current||nY.az.trackDefinedEvent("file_browser.workspace_page_load_time",{type:a,durationMs:Math.round(performance.now()-e.current)})},[])}();if("loading"===r.status)return a.createElement(eo.qc,null);if("loaded"!==r.status)return a.createElement(li.S,{resourceType:oi.Ft.WORKSPACE});let i=r.data.workspace;if(!i||!i.canView)return a.createElement(li.S,{resourceType:oi.Ft.WORKSPACE});let s=(0,J.eO)(r.data.currentUser)===i.id;return a.createElement(iD,{org:t,workspace:i,workspaceMembersQuery:n,workspaceOrgTeamsQuery:o,isAssignedWorkspace:s,trackPerfEvent:l})}function iD({org:e,workspace:t,workspaceMembersQuery:r,workspaceOrgTeamsQuery:n,isAssignedWorkspace:o,trackPerfEvent:l}){(0,rt.hL)(t.name);let s={...t,members:r.data??[]},c=r.transform(e=>!!e&&e.length>0),d=t.admins.length>0,m=c.transform(e=>e||d).unwrapOr(!0);a.useEffect(()=>{l("initial_load")},[l]),a.useEffect(()=>{"loaded"===r.status&&l("members_load")},[r.status,l]);let u=a.useCallback(()=>{l("pinned_files_load")},[l]),_=a.useCallback(()=>{l("teams_load")},[l]);return(0,i.kF)("Workspace"),(0,i.WX)({markName:"MainBodyContent",markCondition:"loaded"===n.status}),a.createElement(o8.r,{header:a.createElement(lW,{workspace:s,org:e,isWorkspaceMembersLoading:"loading"===r.status,showMembersButton:m}),content:a.createElement("div",{className:x.s.flex.flexColumn.gap24.my24.$},a.createElement("section",{"aria-label":(0,k.t)("file_browser.pinning.pinned_files"),className:x.s.pl12.pr32.borderBox.wFull.$},a.createElement(iF,{workspace:t,isAssignedWorkspace:o,onLoad:u})),a.createElement(o5,null,a.createElement(o0,{orgTeamsQuery:n,workspaceId:t.id,onLoad:_}))),metaContent:c.unwrapOr(!1)?a.createElement(lG,{workspace:s}):void 0})}var iM=r(593005),iB=r(766878),iU=r(430330),i$=r(748288),ij=r(783235),iW=r(66325),iG=r(556884),iV=r(497478),iH=r(116234),iz=r(197464);function iY(){return a.createElement("h1",{...o_.xk(iK.headerText)},(0,k.t)("community.resource_hub.browse_resources"))}let iK={headerText:{...l8.g.textHeadingMedium,fontSize:"xosj86m",paddingTop:"x1p5oq8j",$$css:!0}};var iq=r(172340),iJ=r(288973),iX=r(126757),iQ=r(181670),iZ=r(931990),i0=r(327206);let i1=new Set([iQ.LJ.uiKits,iQ.LJ.wireframes,iQ.LJ.designTemplates,iQ.LJ.mobileApps,iQ.LJ.portfolios,iQ.LJ.resumes,iQ.LJ.visualAssets,iQ.LJ.illustrations,iQ.LJ.icons,iQ.LJ.shapesColors]),i4=new Set([iQ.LJ.brainstorming,iQ.LJ.diagramming,iQ.LJ.funGames,iQ.LJ.teamMeetings,iQ.LJ.whiteboarding,iQ.LJ.strategicPlanning]),i5=new Set([iQ.LJ.editingEffects,iQ.LJ.fileOrganization,iQ.LJ.development,iQ.LJ.whiteboarding,iQ.LJ.designTools,iQ.LJ.importExport,iQ.LJ.accessibility,iQ.LJ.prototypingAnimation]),i2=new Set([iQ.LJ.presentations]),i7=new Set([iQ.LJ.desktopAppsWebsites]),i3={DESIGN_RESOURCES:"designResources",PLUGINS_AND_WIDGETS:"pluginsAndWidgets",WHITEBOARDING:"whiteboarding",PRESENTATIONS:"presentations",WEBSITES:"websites"};function i8(e){let t=(0,aF.Om)(),r=(0,aF.tv)();return(0,a.useMemo)(()=>Object.fromEntries(e.map(({key:e,category:a,resource_type:n,editor_type:o,tag:l})=>[e,new iV.Dv({...t,categorySlug:a,tagSlug:l},{resource_type:n??i0.L.BrowseResourceTypes.FILES,editor_type:o??void 0,...r})])),[e,t,r])}var i6=(e=>(e.marketing="marketing",e.product="product",e.pitchDeck="pitch-deck",e.sales="sales",e.landingPages="landing-pages",e.portfolio="portfolio",e.ecommerce="ecommerce",e.blog="blog",e.wedding="wedding",e.photography="photography",e))(i6||{});function i9(e,t,r){let a=t?({marketing:(0,k.t)("community.resource_hub.categories.marketing_presentations"),product:(0,k.t)("community.resource_hub.categories.product_presentations"),"pitch-deck":(0,k.t)("community.resource_hub.categories.pitch_decks"),sales:(0,k.t)("community.resource_hub.categories.sales_presentations"),"landing-pages":(0,k.t)("community.resource_hub.categories.landing_pages"),portfolio:(0,k.t)("community.resource_hub.categories.portfolio"),ecommerce:(0,k.t)("community.resource_hub.categories.ecommerce"),blog:(0,k.t)("community.resource_hub.categories.blog"),wedding:(0,k.t)("community.resource_hub.categories.wedding"),photography:(0,k.t)("community.resource_hub.categories.photography")})[t]:void 0;if(a)return a;let n=r?function(e,t){let r={[iQ.LJ.whiteboarding]:{[i0.L.BrowseResourceTypes.WIDGETS]:(0,k.t)("categories.widgets")},[iQ.LJ.designTools]:{[i0.L.BrowseResourceTypes.PLUGINS]:(0,k.t)("community.view_bar.plugins")}};return r[e]?.[t]}(e,r):void 0;return n?n:({[iQ.LJ.mobileApps]:(0,k.t)("community.resource_hub.categories.mobile_app_templates"),[iQ.LJ.desktopAppsWebsites]:(0,k.t)("community.resource_hub.categories.websites")})[e]||(0,iZ.xF)(e)}var se=r(764932),st=r(376025),sr=r(404827),sa=r(478538);let sn="category_menu_button--buttonText--0inUk";function so({defaultText:e,iconPrefix:t,categorySlug:r,tagSlug:n,resourceType:o,getTriggerProps:l,isSelected:i}){let s=r?i9(r,n,o):void 0;return a.createElement(st.E,{"aria-pressed":i,className:U()(sa.x6,sa.Mg,i&&sa.wH),...l()},a.createElement("span",{className:sa.IO},t,a.createElement("span",{className:sn},s||e),a.createElement(sr.r,null)))}var sl=r(647469);function si({parentDropdown:e,defaultText:t,iconPrefix:r,menuItemsByGroup:n}){let{getTriggerProps:o,manager:l}=se.b(),i=(0,aj.Rd)(iV.Dv),s=i?.categorySlug,c=i?.tagSlug,m=(0,aj.vA)(iV.Dv),u=m?.resource_type,_=s&&(s?s===iQ.LJ.whiteboarding?u===i0.L.BrowseResourceTypes.WIDGETS?i3.PLUGINS_AND_WIDGETS:i3.WHITEBOARDING:i4.has(s)?i3.WHITEBOARDING:i5.has(s)?i3.PLUGINS_AND_WIDGETS:i1.has(s)?i3.DESIGN_RESOURCES:i2.has(s)?i3.PRESENTATIONS:i7.has(s)?i3.WEBSITES:null:null)===e;return a.createElement(se.bL,{manager:l},a.createElement(so,{defaultText:t,iconPrefix:r,categorySlug:_?s:void 0,tagSlug:c,resourceType:u,getTriggerProps:o,isSelected:l.isOpen}),a.createElement(se.mc,null,n.map((e,t)=>a.createElement(se.YJ,{key:t},e.map((e,t)=>a.createElement(se.q7,{key:t,onClick:()=>{(0,sl.pt)(e?.href??""),d.Ay.push(e?.href??"")}},e.text))))))}function ss(){let e=(0,eR.hf)(),t=i8([{key:"uikitRoute",category:iQ.LJ.uiKits},{key:"wireframesRoute",category:iQ.LJ.wireframes},{key:"socialMediaTemplatesRoute",category:iQ.LJ.socialMediaTemplates,editor_type:iX.k.Editors.COOPER},{key:"cardTemplatesRoute",category:iQ.LJ.cardTemplates,editor_type:iX.k.Editors.COOPER},{key:"designTemplatesRoute",category:iQ.LJ.designTemplates},{key:"mobileAppRoute",category:iQ.LJ.mobileApps},{key:"portfolioRoute",category:iQ.LJ.portfolios},{key:"resumeRoute",category:iQ.LJ.resumes},{key:"visualAssetsRoute",category:iQ.LJ.visualAssets},{key:"illustrationsRoute",category:iQ.LJ.illustrations},{key:"iconsRoute",category:iQ.LJ.icons},{key:"shapesColorsRoute",category:iQ.LJ.shapesColors}]),r=[[{href:t.uikitRoute?.href,text:(0,k.t)("categories.ui_kits")},{href:t.wireframesRoute?.href,text:(0,k.t)("categories.wireframes")}],e?[{href:t.socialMediaTemplatesRoute?.href,text:(0,k.t)("categories.social_media_templates")},{href:t.cardTemplatesRoute?.href,text:(0,k.t)("categories.cards_and_invites")}]:[],[{href:t.mobileAppRoute?.href,text:(0,k.t)("community.resource_hub.categories.mobile_app_templates")},{href:t.resumeRoute?.href,text:(0,k.t)("categories.resume_templates")},{href:t.portfolioRoute?.href,text:(0,k.t)("categories.portfolio_templates")},{href:t.designTemplatesRoute?.href,text:(0,k.t)("community.resource_hub.see_more")}],[{href:t.iconsRoute?.href,text:(0,k.t)("categories.icons")},{href:t.illustrationsRoute?.href,text:(0,k.t)("categories.illustrations")},{href:t.shapesColorsRoute?.href,text:(0,k.t)("categories.shapes_colors")},{href:t.visualAssetsRoute?.href,text:(0,k.t)("community.resource_hub.see_more")}]].filter(e=>e.length>0);return a.createElement(si,{parentDropdown:i3.DESIGN_RESOURCES,menuItemsByGroup:r,defaultText:(0,k.t)("community.homepage.figma_section.header"),iconPrefix:a.createElement(iJ.n,null)})}var sc=r(808580);function sd(){let e=i8([{key:"editingEffectsRoute",category:iQ.LJ.editingEffects,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"fileOrganizationRoute",category:iQ.LJ.fileOrganization,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"developmentRoute",category:iQ.LJ.development,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"widgetsRoute",category:iQ.LJ.whiteboarding,resource_type:i0.L.BrowseResourceTypes.WIDGETS},{key:"pluginsRoute",category:iQ.LJ.designTools,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"importExportRoute",category:iQ.LJ.importExport,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"accessibilityRoute",category:iQ.LJ.accessibility,resource_type:i0.L.BrowseResourceTypes.PLUGINS},{key:"prototypingAnimationRoute",category:iQ.LJ.prototypingAnimation,resource_type:i0.L.BrowseResourceTypes.PLUGINS}]),t=[[{href:e.fileOrganizationRoute?.href,text:(0,k.t)("categories.file_organization")},{href:e.developmentRoute?.href,text:(0,k.t)("categories.navbar.development")},{href:e.editingEffectsRoute?.href,text:(0,k.t)("categories.editing_effects")},{href:e.importExportRoute?.href,text:(0,k.t)("categories.import_export")},{href:e.accessibilityRoute?.href,text:(0,k.t)("categories.accessibility_tools")},{href:e.prototypingAnimationRoute?.href,text:(0,k.t)("categories.prototyping_animation")}],[{href:e.widgetsRoute?.href,text:(0,k.t)("community.resource_hub.categories.see_all_widgets")},{href:e.pluginsRoute?.href,text:(0,k.t)("community.resource_hub.categories.see_all_plugins")}]];return a.createElement(si,{parentDropdown:i3.PLUGINS_AND_WIDGETS,defaultText:(0,k.t)("community.resource_hub.categories.plugins_and_widgets"),iconPrefix:a.createElement(sc.u,null),menuItemsByGroup:t})}var sm=r(76925);function su(){let e=i8([{key:"marketingRoute",category:iQ.LJ.presentations,tag:i6.marketing,editor_type:iX.k.Editors.SLIDES},{key:"productRoute",category:iQ.LJ.presentations,tag:i6.product,editor_type:iX.k.Editors.SLIDES},{key:"pitchDecksRoute",category:iQ.LJ.presentations,tag:i6.pitchDeck,editor_type:iX.k.Editors.SLIDES},{key:"salesRoute",category:iQ.LJ.presentations,tag:i6.sales,editor_type:iX.k.Editors.SLIDES},{key:"presentationsRoute",category:iQ.LJ.presentations,editor_type:iX.k.Editors.SLIDES}]),t=[[{href:e.marketingRoute?.href,text:(0,k.t)("community.resource_hub.categories.marketing_presentations")},{href:e.productRoute?.href,text:(0,k.t)("community.resource_hub.categories.product_presentations")},{href:e.pitchDecksRoute?.href,text:(0,k.t)("community.resource_hub.categories.pitch_decks")},{href:e.salesRoute?.href,text:(0,k.t)("community.resource_hub.categories.sales_presentations")}],[{href:e.presentationsRoute?.href,text:(0,k.t)("community.resource_hub.see_more")}]];return a.createElement(si,{parentDropdown:i3.PRESENTATIONS,menuItemsByGroup:t,defaultText:(0,k.t)("categories.presentations"),iconPrefix:a.createElement(sm.l,null)})}function s_(){let e=i8([{key:"websitesRoute",category:iQ.LJ.desktopAppsWebsites},{key:"landingPagesRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.landingPages},{key:"portfolioRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.portfolio},{key:"ecommerceRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.ecommerce},{key:"blogRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.blog},{key:"weddingRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.wedding},{key:"photographyRoute",category:iQ.LJ.desktopAppsWebsites,tag:i6.photography}]),t=[[{href:e.landingPagesRoute?.href,text:(0,k.t)("community.resource_hub.categories.landing_pages")},{href:e.portfolioRoute?.href,text:(0,k.t)("community.resource_hub.categories.portfolio")},{href:e.ecommerceRoute?.href,text:(0,k.t)("community.resource_hub.categories.ecommerce")},{href:e.blogRoute?.href,text:(0,k.t)("community.resource_hub.categories.blog")},{href:e.weddingRoute?.href,text:(0,k.t)("community.resource_hub.categories.wedding")},{href:e.photographyRoute?.href,text:(0,k.t)("community.resource_hub.categories.photography")}],[{href:e.websitesRoute?.href,text:(0,k.t)("community.resource_hub.see_more")}]];return a.createElement(si,{parentDropdown:i3.WEBSITES,menuItemsByGroup:t,defaultText:(0,k.t)("community.resource_hub.categories.websites"),iconPrefix:a.createElement(nz.J,null)})}var sp=r(998241);function sf(){let e=i8([{key:"brainstormingRoute",category:iQ.LJ.brainstorming},{key:"diagrammingRoute",category:iQ.LJ.diagramming},{key:"funGamesRoute",category:iQ.LJ.funGames},{key:"teamMeetingsRoute",category:iQ.LJ.teamMeetings},{key:"whiteboardingRoute",category:iQ.LJ.whiteboarding},{key:"strategicPlanningRoute",category:iQ.LJ.strategicPlanning}]),t=[[{href:e.diagrammingRoute?.href,text:(0,k.t)("categories.diagramming")},{href:e.brainstormingRoute?.href,text:(0,k.t)("categories.brainstorming")},{href:e.funGamesRoute?.href,text:(0,k.t)("categories.fun_games")},{href:e.teamMeetingsRoute?.href,text:(0,k.t)("categories.team_meetings")},{href:e.strategicPlanningRoute?.href,text:(0,k.t)("categories.strategic_planning")}],[{href:e.whiteboardingRoute?.href,text:(0,k.t)("community.resource_hub.see_more")}]];return a.createElement(si,{parentDropdown:i3.WHITEBOARDING,menuItemsByGroup:t,defaultText:(0,k.t)("categories.whiteboarding"),iconPrefix:a.createElement(sp.D,null)})}function sg(){return a.createElement(iq.a,{mode:"match"},a.createElement("div",{className:"x78zum5 x1q0g3np x167g77z x1a02dak x1e56ztr"},a.createElement(ss,null),a.createElement(sd,null),a.createElement(su,null),a.createElement(sf,null),a.createElement(s_,null)))}var sE=r(815779);function sb({limit:e,resourceType:t,category:r,editorType:a,caller:n,includeContent:o}){let[{data:l,status:i}]=(0,_.IT)(aY.a.ResourcesPaginatedQuery({resourceType:[t],category:r,editorType:a,caller:n,pageSize:e,includeContent:o}));return{resources:l,loading:"loading"===i}}var sh=r(624907),sv=r(701601),sy=r(668042);function sw({header:e,route:t,content:r,showSeeMore:n}){return a.createElement("div",null,a.createElement("div",{className:"x78zum5 x6s0dn4 x1y1aw1k xwib8y2 x1jnr06f"},a.createElement("h3",{...o_.xk(sT.headerText),"data-testid":"section-header"},e),t&&n&&a.createElement(tK.K,{"aria-label":(0,k.t)("community.resource_hub.see_more"),onClick:()=>{(0,sl.CA)(t.pathname),d.Ay.push(t.href)}},a.createElement(eW.a,null))),r)}let sT={headerText:{...l8.g.textBodyLarge,lineHeight:"x1o2sk6j",$$css:!0}};var sI=(e=>(e.BRAINSTORMING="brainstorming",e.COOPER_TEMPLATE="cooperTemplate",e.DATA_TEMPLATE="dataTemplate",e.DESIGN_TEMPLATE="designTemplate",e.DIAGRAMMING="diagramming",e.EDUCATION="education",e.FIGJAM_TEMPLATE="figJamTemplate",e.FUN_AND_GAMES="funAndGames",e.PRESENTATION_TEMPLATE="presentationTemplate",e.SITE_TEMPLATE="siteTemplate",e.STRATEGIC_PLANNING="strategicPlanning",e.UI_KITS="uiKits",e.WHITEBOARDING="whiteboarding",e.WIREFRAMES="wireframes",e))(sI||{});function sC(e){let t={brainstorming:{key:"brainstorming",header:(0,k.t)("categories.brainstorming"),categoryForQuery:iQ.LJ.brainstorming,categorySlug:iQ.LJ.brainstorming,resourceType:aU.vt.FIGJAM_TEMPLATE},cooperTemplate:{key:"cooperTemplate",header:(0,k.t)("categories.social_media_templates"),categoryForQuery:iQ.LJ.socialMediaTemplates,categorySlug:iQ.LJ.socialMediaTemplates,resourceType:aU.vt.COOPER_TEMPLATE_FILE,resourceEditorType:sh.q.COOPER},dataTemplate:{key:"dataTemplate",header:(0,k.t)("community.footer.data_templates"),categoryForQuery:iQ.LJ.dataTemplates,categorySlug:iQ.LJ.dataTemplates,resourceType:aU.vt.DESIGN_TEMPLATE},designTemplate:{key:"designTemplate",header:(0,k.t)("categories.design_templates"),categorySlug:iQ.LJ.designTemplates,resourceType:aU.vt.DESIGN_TEMPLATE},diagramming:{key:"diagramming",header:(0,k.t)("categories.diagramming"),categoryForQuery:iQ.LJ.diagramming,categorySlug:iQ.LJ.diagramming,resourceType:aU.vt.FIGJAM_TEMPLATE},education:{key:"education",header:(0,k.t)("categories.education"),categoryForQuery:iQ.LJ.education,categorySlug:iQ.LJ.education,resourceType:aU.vt.DESIGN_TEMPLATE},figJamTemplate:{key:"figJamTemplate",header:(0,k.t)("community.resource_hub.figjam_templates"),categorySlug:iQ.LJ.whiteboarding,resourceType:aU.vt.FIGJAM_TEMPLATE,resourceEditorType:sh.q.WHITEBOARD,apiEditorType:iX.k.Editors.FIGJAM},funAndGames:{key:"funAndGames",header:(0,k.t)("categories.fun_games"),categoryForQuery:iQ.LJ.funGames,categorySlug:iQ.LJ.funGames,resourceType:aU.vt.WIDGET,apiResourceType:i0.L.BrowseResourceTypes.WIDGETS},presentationTemplate:{key:"presentationTemplate",header:(0,k.t)("community.footer.presentations"),categoryForQuery:iQ.LJ.presentations,categorySlug:iQ.LJ.presentations,resourceType:aU.vt.SLIDE_TEMPLATE,resourceEditorType:sh.q.SLIDES,apiEditorType:iX.k.Editors.SLIDES},siteTemplate:{key:"siteTemplate",header:(0,k.t)("categories.website_templates"),categoryForQuery:iQ.LJ.websiteTemplates,categorySlug:iQ.LJ.websiteTemplates,resourceType:aU.vt.SITE_TEMPLATE,resourceEditorType:sh.q.SITES},strategicPlanning:{key:"strategicPlanning",header:(0,k.t)("categories.strategic_planning"),categoryForQuery:iQ.LJ.strategicPlanning,categorySlug:iQ.LJ.strategicPlanning,resourceType:aU.vt.FIGJAM_TEMPLATE},uiKits:{key:"uiKits",header:(0,k.t)("categories.ui_kits"),categoryForQuery:iQ.LJ.uiKits,categorySlug:iQ.LJ.uiKits,resourceType:aU.vt.DESIGN_TEMPLATE},whiteboarding:{key:"whiteboarding",header:(0,k.t)("categories.whiteboarding"),categoryForQuery:iQ.LJ.whiteboarding,categorySlug:iQ.LJ.whiteboarding,resourceType:aU.vt.FIGJAM_TEMPLATE},wireframes:{key:"wireframes",header:(0,k.t)("categories.wireframes"),categoryForQuery:iQ.LJ.wireframes,categorySlug:iQ.LJ.wireframes,resourceType:aU.vt.DESIGN_TEMPLATE}};return function({sizingInfo:r}){let n={...t[e]};if(n.header=n.header??(0,k.t)("categories.design_templates"),n.categorySlug=n.categorySlug??iQ.LJ.designTemplates,n.resourceType=n.resourceType??aU.vt.DESIGN_TEMPLATE,n.resourceType===aU.vt.SITE_TEMPLATE){let e=(0,eR.RB)();n.resourceType=e?aU.vt.SITE_TEMPLATE:aU.vt.DESIGN_TEMPLATE,n.resourceEditorType=e?sh.q.SITES:sh.q.DESIGN,n.apiEditorType=e?iX.k.Editors.SITES:void 0}return a.createElement(sS,{header:n.header,categoryForQuery:n.categoryForQuery,categorySlug:n.categorySlug,resourceType:n.resourceType,resourceEditorType:n.resourceEditorType,apiResourceType:n.apiResourceType,apiEditorType:n.apiEditorType,sizingInfo:r})}}function sS({header:e,categoryForQuery:t,categorySlug:r,resourceType:n,resourceEditorType:o,apiResourceType:l,apiEditorType:i,sizingInfo:s}){let{resources:c,loading:d}=sb({limit:aP.u8,resourceType:n,editorType:o,category:t,caller:aY.z.RESOURCE_HUB,includeContent:!1}),m=i8([{key:"categoryRoute",category:r,resource_type:l,editor_type:i}]);return d||c&&0!==c.length?a.createElement(sw,{header:e,route:m.categoryRoute,content:a.createElement(sy.T,{resources:(c&&c.slice(0,s.numberOfTiles))??[],loadingTileCount:s.numberOfTiles,isLoading:d}),showSeeMore:!0}):null}function sx({header:e,categorySlug:t,resourceImpressionTracking:r}){let{resources:n,loading:o}=sb({limit:aP.l_,resourceType:aU.vt.PLUGIN,category:t,caller:aY.z.RESOURCE_HUB,includeContent:!0}),l=i8([{key:"pluginsRoute",category:t,resource_type:i0.L.BrowseResourceTypes.PLUGINS}]);return o||n&&0!==n.length?a.createElement(sw,{header:e,route:l.pluginsRoute,content:a.createElement(sE.M,{plugins:(n??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:r,isOrgTeamBrowsing:!1,isLoading:o,loadingRowCount:aP.l_}),showSeeMore:!0}):null}function sk({resourceImpressionTracking:e}){return a.createElement(sx,{header:(0,k.t)("community.view_bar.plugins"),categorySlug:iQ.LJ.designTools,resourceImpressionTracking:e})}var sN=r(496108),sR=r(302308),sA=r(782623);let sO={card:{borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},cardShadow:{boxShadow:"x1u3p76b",$$css:!0},cardWidth:{width:"xamxeob",$$css:!0},cardTransition:{transition:"x1el4u5y",transitionBehavior:null,transitionDelay:null,transitionDuration:null,transitionProperty:null,transitionTimingFunction:null,$$css:!0}};function sL({imageSources:e,isHovered:t}){return a.createElement("div",{className:"x10l6tqk x1y0lptx xxbcxho x78zum5 x1q0g3np x1v2ro7d x1g75g36"},e.map((e,r)=>a.createElement(sA.oW,{key:r,...o_.xk(sF.image,sO.card,t&&sF.hoveredImage),src:(0,aZ.ck)(e),alt:""})))}let sF={image:{...sO.cardShadow,transition:"x1i5byms",transitionBehavior:null,transitionDelay:null,transitionDuration:null,transitionProperty:null,transitionTimingFunction:null,flexGrow:"x1iyjqo2",aspectRatio:"xacr46v",$$css:!0},hoveredImage:{transform:"xqc4caa",$$css:!0}};function sP({imageSources:e,isHovered:t}){return a.createElement(a.Fragment,null,a.createElement(sA.oW,{...o_.xk(sD.image,sD.frontImage,sO.card,t&&sD.frontImageHovered),src:(0,aZ.ck)(e[0]),alt:""}),a.createElement(sA.oW,{...o_.xk(sD.image,sD.backImage,sO.card,t&&sD.backImageHovered),src:(0,aZ.ck)(e[1]),alt:""}))}let sD={image:{...sO.cardWidth,...sO.cardShadow,...sO.cardTransition,position:"x10l6tqk",left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,$$css:!0},frontImage:{transform:"xkz1y4k",bottom:"x874rk5",$$css:!0},backImage:{transform:"xpdgo6v",bottom:"x1y0lptx",$$css:!0},frontImageHovered:{transform:"xcvh5f3",$$css:!0},backImageHovered:{transform:"xgz6438",$$css:!0}};function sM({imageSource:e,isHovered:t}){return a.createElement("div",{className:"x10l6tqk x1d9swqr x5yr21d"},a.createElement(sA.oW,{...o_.xk(sB.image,t&&sB.hoveredImage),src:(0,aZ.ck)(e),alt:""}))}let sB={image:{...sO.cardTransition,position:"x1n2onr6",height:"xlxyqfn",bottom:"x1y0lptx",$$css:!0},hoveredImage:{transform:"xeybphm",$$css:!0}};function sU({imageSource:e,containerStyle:t,isHovered:r}){let n="sheetStyle"===t?s$.hoveredSheetImage:s$.hoveredWidgetImage;return a.createElement("div",{...o_.xk(s$[t])},a.createElement(sA.oW,{...o_.xk(s$.image,r&&n),src:(0,aZ.ck)(e),alt:""}))}let s$={sheetStyle:{...sO.cardWidth,...sO.cardShadow,left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,transform:"xv9q2wl",position:"x10l6tqk",$$css:!0},hoveredSheetImage:{transform:"xfx47b9",$$css:!0},widgetCardStyle:{height:"x5yr21d",top:"x8l1umf",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,opacity:"x1us6l5c",position:"x10l6tqk",$$css:!0},hoveredWidgetImage:{transform:"x1bao77f",$$css:!0},image:{...sO.cardTransition,width:"xh8yej3",height:"x5yr21d",$$css:!0}};function sj({imageSources:e,isHovered:t}){return a.createElement(a.Fragment,null,a.createElement(sA.oW,{...o_.xk(sW.image,sW.bottomImage),src:(0,aZ.ck)(e[0]),alt:""}),a.createElement(sA.oW,{...o_.xk(sW.image,sW.middleImage,t&&sW.hoveredMiddleImage),src:(0,aZ.ck)(e[1]),alt:""}),a.createElement(sA.oW,{...o_.xk(sW.image,sW.topImage,t&&sW.hoveredTopImage),src:(0,aZ.ck)(e[2]),alt:""}))}let sW={image:{...sO.cardWidth,...sO.cardTransition,position:"x10l6tqk",left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,transform:"xuuh30",bottom:"x1y0lptx",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},bottomImage:{width:"xqjhr6n",boxShadow:"x1u3p76b",$$css:!0},middleImage:{width:"x8uc0wx",bottom:"x1g84rlc",boxShadow:"x1wu5q8a",$$css:!0},topImage:{bottom:"x1otreau",$$css:!0},hoveredMiddleImage:{transform:"xbtikzi",$$css:!0},hoveredTopImage:{transform:"x16ui88a",$$css:!0}};var sG=(e=>(e.BRAINSTORMING="brainstorming",e.CARD_TEMPLATES="cardTemplates",e.CLASSROOM_ACTIVITIES="classroomActivities",e.DATA_TEMPLATES="dataTemplates",e.DESIGN_TUTORIALS="designTutorials",e.DEVELOPMENT="development",e.DIAGRAMMING="diagramming",e.EDITING_EFFECTS="editingEffects",e.FILE_ORGANIZATION="fileOrganization",e.PRESENTATIONS_LARGE="presentationsLarge",e.PRESENTATIONS_SMALL="presentationsSmall",e.RESUMES="resumes",e.STRATEGIC_PLANNING="strategicPlanning",e.TEAM_MEETINGS_SMALL="teamMeetingsSmall",e.TEAM_MEETINGS_LARGE="teamMeetingsLarge",e.UI_KITS="uiKits",e.VISUAL_ASSETS="visualAssets",e.WIDGETS="widgets",e.WIREFRAMES="wireframes",e.WORKSHOP_TEMPLATES="workshopTemplates",e))(sG||{});let sV={brainstorming:{category:iQ.LJ.brainstorming,size:"large",art:e=>a.createElement(sL,{imageSources:["f01ed35801ea5830119fbe503b42f18f8b8fa6bb","d96670e9dd7d8f500b1d82f97d4d08ca5762f014","25a7262271550cf605425ae1f9dbb3186df9e938","75319ef48f81cc1e0f733b2a9ee834ae20ad7383","1d6892175c739459b51f88450efd4fd63647a2d6","0e81b3f80cb2491aac0675bd33fbbbb79db59ddd"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},cardTemplates:{category:iQ.LJ.cardTemplates,editorType:iX.k.Editors.COOPER,size:"small",art:e=>a.createElement(sU,{imageSource:"2c4bc9301e89bc080dbadbdb33df70febe9bf82f",containerStyle:"sheetStyle",isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"cooper"},classroomActivities:{category:iQ.LJ.classroomActivities,size:"small",art:e=>a.createElement(sP,{imageSources:["ad9ed6524f8541f00d3968f21e59fcc627be04a6","9633b9c063fd07075008ee206a4ea712c2931994"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},dataTemplates:{category:iQ.LJ.dataTemplates,size:"small",art:e=>a.createElement(sP,{imageSources:["85c247027dd036bb720dbaac9ecf63318e138266","55da4072453228deaa707a61fac742fd6b8a1022"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},designTutorials:{category:iQ.LJ.designTutorials,size:"large",art:e=>a.createElement(sL,{imageSources:["f341d1cb6464b9ff5d2eb63c89eb380249fc7c78","985e74dda7ed515202f6b7a55ffc2e1562c9ff94","d48320278ece5f694fe686c2c971bcb9c5381f88","1864952e1f5b8fbc94fe85f548d41b77458dcc87","deb79a32eabbdaed5b86904ec9c4adda486345fb","3e63b05276c55b2d9e95c49e90969cc51023344b"],isHovered:e}),backgroundColor:sR.Tj.bgSecondary},development:{category:iQ.LJ.development,resourceType:i0.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>a.createElement(sM,{isHovered:e,imageSource:"6ce1bcbe88b8f4f202e4307f0de131f8fb6cf61e"}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},diagramming:{category:iQ.LJ.diagramming,size:"large",art:e=>a.createElement(sL,{imageSources:["378c5389dc551daa4f2a3daa5f4e4748fa811eb9","f5fa32f34d57e6b4b01f67f10c13fa4ced6fa20f","82cc8e76b689ad016a0e4871ad99f68fe7c67864","b1f9c2bb18232dd55c41e0528227a2a82ecdd151","37903eb6b345c31cc1ad0967dc6ff8a541a16b90","9f70f6b78199251bb1213c6f3e5e00df8fc0572b"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},editingEffects:{category:iQ.LJ.editingEffects,resourceType:i0.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>a.createElement(sM,{imageSource:"6ce1bcbe88b8f4f202e4307f0de131f8fb6cf61e",isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},fileOrganization:{category:iQ.LJ.fileOrganization,resourceType:i0.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>a.createElement(sM,{imageSource:"2f1dc06209ebe620cb42e03cdb85da7ef9d9efa0",isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},presentationsLarge:{category:iQ.LJ.presentations,size:"large",art:e=>a.createElement(sL,{imageSources:["0b6a114955ffe1c7a56e993323f212990422a525","0b8f4c7881cf0404fb105a1a680d74564205bc8c","b9d5d2df7dfd58ee29a44ecd72c83dbb6f6588c0","1eb484ec6df2d5d6874b92bae0b221fcbbebc79c","ed0ab6a51ef9b7275a9c123994db37df3188fee7","b616eae234aeefb2ad7c62d5f0bd84c843c3d86d"],isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"piper"},presentationsSmall:{category:iQ.LJ.presentations,size:"small",art:e=>a.createElement(sj,{imageSources:["8b73180892c70a676c567732411c422e46f1fcae","4963a5a549df301b0ba8dbdc788c2c3424c4217e","e66ce4f446be08f56a330a9b39c5e9c72e6d3338"],isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"piper"},teamMeetingsLarge:{category:iQ.LJ.teamMeetings,size:"large",art:e=>a.createElement(sL,{imageSources:["b7e05a6d6b76b8b377e5c4f0eb006dfe99e5875d","61830de70c1cec8ae28737c1f9c36ff5a7b07d18","742fbce6b78404d48f62e39a6be510dce4cae699","6405c322fda966de6578a55cb0c861d2fb774b84","d22c05d35fc088e4d089e814f42379b395b86e26","89d7df8b21116cbf283086a5056f305de01f91a4"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},teamMeetingsSmall:{category:iQ.LJ.teamMeetings,size:"small",art:e=>a.createElement(sP,{imageSources:["742fbce6b78404d48f62e39a6be510dce4cae699","b7e05a6d6b76b8b377e5c4f0eb006dfe99e5875d"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},resumes:{category:iQ.LJ.resumes,size:"small",art:e=>a.createElement(sU,{imageSource:"ba7504eb5c18069ca8c0455768fcf46c6bc4ee52",containerStyle:"sheetStyle",isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},strategicPlanning:{category:iQ.LJ.strategicPlanning,size:"small",art:e=>a.createElement(sP,{imageSources:["3b212f16a905705728bf1dc973fa25001844b4bc","28c8e9a68927b0f9f55a41efd6df2251b8823eea"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},uiKits:{category:iQ.LJ.uiKits,size:"small",art:e=>a.createElement(sP,{imageSources:["52e2511dc978b4b6aad9ad3799dd2fb75139cb2a","fc614bae349b646e1ea8ffe00e5b6e723ec9f13f"],isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},visualAssets:{category:iQ.LJ.visualAssets,size:"large",art:e=>a.createElement(sM,{imageSource:"a9b2bb97699222fc52104170706120e06c6f971a",isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},widgets:{category:iQ.LJ.whiteboarding,resourceType:i0.L.BrowseResourceTypes.WIDGETS,size:"large",art:e=>a.createElement(sU,{imageSource:"c14d817322fb0a630ceb76de93d5669b91e6bce1",containerStyle:"widgetCardStyle",isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"},wireframes:{category:iQ.LJ.wireframes,size:"large",art:e=>a.createElement(sL,{imageSources:["4c787218f1399d78e7035575c6041d05b7c51abf","4a119c09ddc4e5a598728b3121b81e7df52f30f0","d380df1c57eb9d1c6d963673d2c718d515b69e9e","c04936ee5bd33d718c78e37fd42e4f8dbe058f35","c8e4c4f9dd45d76797e4c8f1a7515fbbb0f49a61","448ad0f1bc089057cf63f983b7fe865ae1395a56"],isHovered:e}),backgroundColor:sR.Tj.bgBrandTertiary,brand:"design"},workshopTemplates:{category:iQ.LJ.workshopTemplates,size:"small",art:e=>a.createElement(sP,{imageSources:["c6bfc0d07a504cbb9daa39452cb5d1afa29f4e36","6899629efb49a4e0cb289017a2a6c8380e494fae"],isHovered:e}),backgroundColor:sR.Tj.bgFigjamTertiary,brand:"seascape"}};function sH({size:e,title:t,description:r,art:n,backgroundColor:o,brand:l,route:i,userJobTitle:s}){let[c,m]=(0,a.useState)(!1);return a.createElement(sN.v,{mode:l},a.createElement(st.E,{"aria-label":t,...o_.xk(sz.card,l?sz.cardBrandBorder:sz.cardStrongBorder,"large"===e?sz.largeCard:sz.smallCard),onClick:()=>{i&&((0,sl.rC)(s,i.href),d.Ay.push(i.href))},htmlAttributes:{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},style:{backgroundColor:o},key:t},a.createElement("div",{className:"x78zum5 xdt5ytf x10l6tqk x13vifvy x1nejdyq x7eqkm1"},a.createElement("div",{...o_.xk(sz.title)},t),a.createElement("div",{className:"x1n0bwc9"},r)),n(c)))}let sz={smallCard:{flexBasis:"xhnlq4v",flexGrow:"x1iyjqo2",$$css:!0},largeCard:{flexBasis:"x4pfjvb",flexGrow:"xgyuaek",$$css:!0},card:{position:"x1n2onr6",display:"x1lliihq",placeItems:"x1hd2rbs",alignItems:null,justifyItems:null,borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,height:"x5yr21d",overflow:"xb3r6kr",overflowX:null,overflowY:null,textAlign:"x1yc453h",$$css:!0},cardBrandBorder:{border:"xehbxol x1fz536k",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},cardStrongBorder:{border:"xehbxol x12jpku1",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0},title:{...l8.g.textHeadingSmall,fontWeight:"xk50ysn",$$css:!0}};function sY(){let e=(0,sv.w)(),t=function(e){let t={designer:["visualAssets","presentationsSmall","editingEffects"],developer:["diagramming","development","teamMeetingsSmall"],"product-manager":["widgets","presentationsSmall","teamMeetingsSmall"],marketer:["brainstorming",(0,eR.hf)()?"cardTemplates":"teamMeetingsSmall","resumes"],researcher:["diagramming","teamMeetingsSmall","strategicPlanning"],education:["classroomActivities","designTutorials","workshopTemplates"],"ux-writer":["uiKits","teamMeetingsLarge","fileOrganization"],data:["dataTemplates","presentationsLarge","strategicPlanning"],other:["wireframes","presentationsSmall","uiKits"],unknown:["wireframes","presentationsSmall","uiKits"]};return(t[e]||t.unknown).map(e=>sV[e]).filter(e=>void 0!==e)}(e),r=i8(t.map(e=>({key:e.category,category:e.category,resource_type:e.resourceType||void 0,editor_type:e.editorType||void 0}))),n=t.map(t=>({...function(e){switch(e){case iQ.LJ.brainstorming:return{title:(0,k.t)("categories.brainstorming"),description:(0,k.t)("community.resource_hub.category_description.brainstorming")};case iQ.LJ.cardTemplates:return{title:(0,k.t)("community.resource_hub.featured_categories.invites_templates"),description:(0,k.t)("community.resource_hub.category_description.card_templates")};case iQ.LJ.classroomActivities:return{title:(0,k.t)("community.resource_hub.featured_categories.classroom_activities"),description:(0,k.t)("community.resource_hub.category_description.classroom_activities")};case iQ.LJ.dataTemplates:return{title:(0,k.t)("community.footer.data_templates"),description:(0,k.t)("community.resource_hub.category_description.data_templates")};case iQ.LJ.designTutorials:return{title:(0,k.t)("community.resource_hub.featured_categories.design_tutorials"),description:(0,k.t)("community.resource_hub.category_description.design_tutorials")};case iQ.LJ.development:return{title:(0,k.t)("community.resource_hub.featured_categories.plugins_for_development"),description:(0,k.t)("community.resource_hub.category_description.development")};case iQ.LJ.diagramming:return{title:(0,k.t)("categories.diagramming"),description:(0,k.t)("community.resource_hub.category_description.diagramming")};case iQ.LJ.editingEffects:return{title:(0,k.t)("community.resource_hub.featured_categories.plugins_for_editing_and_effects"),description:(0,k.t)("community.resource_hub.category_description.editing_effects")};case iQ.LJ.fileOrganization:return{title:(0,k.t)("community.resource_hub.featured_categories.plugins_for_file_organization"),description:(0,k.t)("community.resource_hub.category_description.file_organization")};case iQ.LJ.presentations:return{title:(0,k.t)("categories.presentations"),description:(0,k.t)("community.resource_hub.category_description.presentations")};case iQ.LJ.resumes:return{title:(0,k.t)("categories.resume_templates"),description:(0,k.t)("community.resource_hub.category_description.resumes")};case iQ.LJ.strategicPlanning:return{title:(0,k.t)("categories.strategic_planning"),description:(0,k.t)("community.resource_hub.category_description.strategic_planning")};case iQ.LJ.teamMeetings:return{title:(0,k.t)("community.resource_hub.featured_categories.team_meetings"),description:(0,k.t)("community.resource_hub.category_description.team_meetings")};case iQ.LJ.uiKits:return{title:(0,k.t)("categories.ui_kits"),description:(0,k.t)("community.resource_hub.category_description.ui_kits")};case iQ.LJ.visualAssets:return{title:(0,k.t)("community.resource_hub.featured_categories.assets"),description:(0,k.t)("community.resource_hub.category_description.visual_assets")};case iQ.LJ.whiteboarding:return{title:(0,k.t)("categories.widgets"),description:(0,k.t)("community.resource_hub.category_description.widgets")};case iQ.LJ.wireframes:return{title:(0,k.t)("categories.wireframes"),description:(0,k.t)("community.resource_hub.category_description.wireframes")};case iQ.LJ.workshopTemplates:return{title:(0,k.t)("community.resource_hub.featured_categories.workshop_templates"),description:(0,k.t)("community.resource_hub.category_description.workshop_templates")};default:(0,C.xb)(e)}}(t.category),size:t.size,art:t.art,backgroundColor:t.backgroundColor,brand:t.brand,route:r[t.category],userJobTitle:e})),o=(0,a.useRef)(null),[l,i]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=new ResizeObserver(e=>{i(e[0]?.contentRect.width??0)});return o.current&&(i(o.current.clientWidth),e.observe(o.current)),()=>{e.disconnect()}},[o]);let s=(0,a.useMemo)(()=>{let e=[],t=0;return n.forEach(r=>{let a="large"===r.size?420:210;t+a<=l&&(e.push(r),t+=a)}),e},[l,n]);return a.createElement(sw,{header:(0,k.t)("community.resource_hub.featured_categories"),content:a.createElement("div",{className:"x78zum5 x1q0g3np x1665zp3 xc6p2dh",ref:o},s.map(e=>a.createElement(sH,{key:e.title,...e}))),showSeeMore:!1})}function sK(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),n=(0,a.useCallback)(e=>{r(Math.floor((e-4+32)/304))},[]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;n(t.clientWidth);let r=new ResizeObserver(e=>{n(e[0]?.target.clientWidth??0)});return r.observe(e.current),()=>r.disconnect()},[e,n]),(0,a.useMemo)(()=>({numberOfTiles:t,sizeRef:e}),[t,e])}function sq(){let e=sK(),t=function(){let e=(0,eR.hf)(),t=(0,sv.w)(),r=sC("brainstorming"),a=sC("cooperTemplate"),n=sC("dataTemplate"),o=sC("designTemplate"),l=sC("diagramming"),i=sC("education"),s=sC("figJamTemplate"),c=sC("funAndGames"),d=sC("presentationTemplate"),m=sC("siteTemplate"),u=sC("strategicPlanning"),_=sC("uiKits"),p=sC("whiteboarding"),f=sC("wireframes");switch(t){case"designer":return[m,_,s];case"developer":return[m,f,p];case"product-manager":return[r,u,n];case"marketer":return[e?a:o,d,u];case"researcher":return[r,d,n];case"education":return[i,d,c];case"ux-writer":return[r,d,f];case"data":return[l,r,_];default:return[r,e?a:o,sk]}}(),{trackResourceImpression:r}=(0,iz.G)(),n=(0,a.useCallback)((e,t)=>{t&&r(e)},[r]);return a.createElement("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d xou54vl",ref:e.sizeRef},a.createElement(iY,null),a.createElement(sg,null),t.map((t,r)=>a.createElement(a.Fragment,{key:r},2===r&&a.createElement(sY,null),a.createElement(t,{sizingInfo:e,resourceImpressionTracking:n}))))}var sJ=r(161964);function sX(){let e=(0,o.k)().cooper;return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_FEW_TEMPLATES_UPSELL},a.createElement("div",{className:"x78zum5 x1q0g3np xh8yej3 xeq9io7 xgqmno8 x3s0vfn"},e&&a.createElement("div",{className:"x3nfvp2 x13a6bvl xgqmno8 xb3r6kr"},a.createElement(sA.oW,{className:"xnq0rdo xmz0i5r x1sy10c2 xl1xv1r",src:(0,aZ.ck)("9505c599cd5148557e396ae6060240d2e8423482"),alt:(0,k.t)("community.resource_hub.the_more_the_merrier"),loading:"lazy"})),a.createElement("div",{className:"x1iyjqo2 x1264ykn x1okgpun"}),a.createElement("div",{className:"x78zum5 xdt5ytf x1665zp3 x1d3hk7y x1cy8zhl xw8ila8 x1n2onr6"},a.createElement("div",{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x167g77z xkh2ocl xh8yej3 x2lah0s"},a.createElement("div",{...o_.xk(sQ.heading)},(0,k.t)("community.resource_hub.the_more_the_merrier")),a.createElement("div",{...o_.xk(sQ.description)},(0,k.t)("community.resource_hub.create_custom_templates_to_add"))),a.createElement(sJ.iO,{key:"resourceCreationAction",newFileFrom:iB.f6.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,forceOpenNewTab:!0}))))}let sQ={heading:{color:"x1akne3o",...l8.g.textHeadingMedium,$$css:!0},description:{color:"x1n0bwc9",...l8.g.textBodyMedium,$$css:!0}};function sZ(){let e=(0,aF.Om)(),t=(0,aF.tv)(),r=(0,o.k)().cooper,n=new aF.au({...e,tab:aP.N$.COMMUNITY},t);return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_NO_RESOURCES_UPSELL},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x1cc7935 xgqmno8 x1sjmt1f xl56j7k"},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c"},r&&a.createElement(sA.oW,{className:"x193iq5w xl1xv1r xetamn0",src:(0,aZ.ck)("923655d3d7ad0e0261946e6b8175911e0daceff3"),alt:(0,k.t)("community.resource_hub.streamline_your_work_with_custom"),loading:"lazy"})),a.createElement("div",{className:"x78zum5 xdt5ytf x1665zp3 xo3t2mw xz84dc7 x6s0dn4"},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},a.createElement("div",{...o_.xk(s0.heading)},(0,k.t)("community.resource_hub.streamline_your_work_with_custom")),a.createElement("div",{...o_.xk(s0.description)},(0,k.t)("community.resource_hub.create_templates_to_keep_up"))),a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s"},a.createElement(sJ.iO,{key:"resourceCreationAction",newFileFrom:iB.f6.RESOURCE_HUB_NO_RESOURCES_UPSELL,forceOpenNewTab:!0}),a.createElement(a6.o3,{...o_.xk(s0.browseResourcesFromCommunity),to:n.to,trackingEventName:sl.HH.RESOURCE_HUB_BREADCRUMB_CLICKED,trackingProperties:{route:n.pathname}},(0,k.t)("community.resource_hub.browse_resources_from_community"))))))}let s0={heading:{color:"x1akne3o",...l8.g.textHeadingMedium,textAlign:"x2b8uid",$$css:!0},description:{color:"x1n0bwc9",...l8.g.textBodyMedium,textAlign:"x2b8uid",$$css:!0},browseResourcesFromCommunity:{color:"x1n0bwc9",...l8.g.textBodyMedium,cursor:"x1ypdohk",":hover_color":"x1c5oinq",textAlign:"x2b8uid",$$css:!0}};var s1=r(882439),s4=r(194546),s5=r(515673);function s2({teamId:e}){let t=(0,n.wA)(),r=(0,aF.Om)(),l=(0,aF.tv)(),i=(0,o.k)().cooper,s=new aF.au({...r,tab:aP.N$.COMMUNITY},l);return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_UPGRADE_UPSELL,properties:{planTier:eP.Ag.STARTER,teamId:e}},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x1cc7935 xgqmno8 x1sjmt1f xl56j7k"},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c"},i&&a.createElement(sA.oW,{className:"x193iq5w xl1xv1r xetamn0",src:(0,aZ.ck)("923655d3d7ad0e0261946e6b8175911e0daceff3"),alt:(0,k.t)("community.resource_hub.custom_templates_for_your_team"),loading:"lazy"})),a.createElement("div",{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xo3t2mw x6s0dn4"},a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s"},a.createElement("div",{...o_.xk(s7.heading)},(0,k.t)("community.resource_hub.custom_templates_for_your_team")),a.createElement("div",{...o_.xk(s7.description)},(0,k.t)("community.resource_hub.upgrade_to_the_professional_plan"))),a.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s"},a.createElement(s1.$z,{onClick:()=>{t(s4.WX({teamId:e,entryPoint:s5.TN.RESOURCE_HUB,openInNewTab:!1}))}},(0,k.t)("community.resource_hub.upgrade_to_professional")),a.createElement(a6.o3,{...o_.xk(s7.browseResourcesFromCommunity),to:s.to,trackingEventName:sl.HH.RESOURCE_HUB_BROWSE_COMMUNITY_CLICKED,trackingProperties:{route:s.pathname}},(0,k.t)("community.resource_hub.browse_resources_from_community"))))))}let s7={heading:{color:"x1akne3o",...l8.g.textHeadingMedium,textAlign:"x2b8uid",$$css:!0},description:{color:"x1n0bwc9",...l8.g.textBodyMedium,textAlign:"x2b8uid",$$css:!0},browseResourcesFromCommunity:{color:"x1n0bwc9",...l8.g.textBodyMedium,cursor:"x1ypdohk",":hover_color":"x1c5oinq",textAlign:"x2b8uid",$$css:!0}};var s3=r(152839),s8=r(55726);function s6({resourceTypeSlugs:e}){return a.createElement("div",{className:"x78zum5 x167g77z x1a02dak"},e.map(e=>a.createElement("div",{className:"x167g77z x4vwp2a",key:e},a.createElement(s9,{resourceTypeSlug:e}))))}function s9({resourceTypeSlug:e}){let t=(0,aF.Om)(),r=(0,aF.tv)(),n=aH(e),o=function(e){switch(e){case aW.PLUGINS:return a.createElement(sc.u,null);case aW.FIGJAM_TEMPLATES:return a.createElement(sp.D,null);case aW.WIDGETS:return a.createElement(s3.v,null);case aW.SLIDE_TEMPLATES:return a.createElement(sm.l,null);case aW.LIBRARIES:break;case aW.COOPER_TEMPLATES:return a.createElement(s8.W,null);case aW.RECENTLY_ADDED_TEMPLATES:break;default:(0,C.S9)(e,null)}return null}(e);return a.createElement(st.E,{"aria-label":n,className:U()(sa.x6,sa.Mg,sa.pU),onClick:()=>{let a=new aG({...t,resourceTypeSlug:e},r);(0,sl.ng)(e),d.Ay.push(a.href)}},a.createElement("span",{className:sa.IO},o,a.createElement("span",{className:sn},n)))}function ce({planTier:e,currentOrgId:t,currentTeamId:r}){let n;let l=sK(),{trackResourceImpression:i}=(0,iz.G)(),s=(0,a.useCallback)((e,t)=>{t&&i(e)},[i]),{resources:c,loading:d,hasNextPage:m}=aJ({orgId:t,teamId:r}),{resources:u,loading:_,hasNextPage:p}=aX({resourceType:aU.vt.COOPER_TEMPLATE_FILE,orgId:t,teamId:r,planTier:e,sortBy:aB.e.Browse.PUBLISHED_AT}),{resources:f,loading:g,hasNextPage:E}=aX({resourceType:aU.vt.FIGJAM_TEMPLATE,orgId:t,teamId:r,planTier:e,sortBy:aB.e.Browse.PUBLISHED_AT}),{resources:b,loading:h,hasNextPage:v}=aX({resourceType:aU.vt.SLIDE_TEMPLATE,orgId:t,teamId:r,planTier:e,sortBy:aB.e.Browse.PUBLISHED_AT}),{resources:y,loading:w,hasNextPage:T}=aq({limit:aP.l_,caller:aY.z.RESOURCE_HUB,orgId:t,includeContent:!0}),{resources:I,loading:C,hasNextPage:S}=aX({resourceType:aU.vt.WIDGET,orgId:t,teamId:r,planTier:e,sortBy:aB.e.Browse.ALL_TIME});if(d||_||g||h||w||C)return a.createElement("div",{className:"x78zum5 xl56j7k x6s0dn4 xg87l8a",ref:l.sizeRef},a.createElement(oH.k,null));let x=(0,o.k)().cooper,k=(y??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),N=[];return([...x?[{resources:u,slug:aW.COOPER_TEMPLATES}]:[],{resources:f,slug:aW.FIGJAM_TEMPLATES},{resources:b,slug:aW.SLIDE_TEMPLATES},{resources:k,slug:aW.PLUGINS},{resources:I,slug:aW.WIDGETS}].forEach(({resources:e,slug:t})=>{e&&e.length>0&&N.push(t)}),e===eP.Ag.STARTER&&r)?a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl",ref:l.sizeRef},a.createElement(s2,{teamId:r})):0===c.length&&0===k.length&&0===I.length?a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl",ref:l.sizeRef},a.createElement(sZ,null)):(n=c?c&&!m?a.createElement(a.Fragment,null,a.createElement(ct,{resourceImpressionTracking:s,numberOfTiles:l.numberOfTiles,resources:c??[]}),a.createElement("div",{className:"x78zum5 xdt5ytf xw7yly9"},a.createElement(sX,null))):a.createElement(a.Fragment,null,x&&a.createElement(cr,{resourceImpressionTracking:s,numberOfTiles:l.numberOfTiles,resources:u??[],hasNextPage:p}),a.createElement(cn,{resourceImpressionTracking:s,numberOfTiles:l.numberOfTiles,resources:f??[],hasNextPage:E}),a.createElement(ca,{resourceImpressionTracking:s,numberOfTiles:l.numberOfTiles,resources:b??[],hasNextPage:v})):a.createElement("div",{className:"x78zum5 xdt5ytf xw7yly9"},a.createElement(sX,null)),a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl",ref:l.sizeRef},a.createElement(iY,null),N.length>1&&a.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 x1a02dak xou54vl xwib8y2"},a.createElement(s6,{resourceTypeSlugs:N})),n,a.createElement(co,{resourceImpressionTracking:s,resources:k??[],hasNextPage:T}),a.createElement(cl,{resourceImpressionTracking:s,numberOfTiles:l.numberOfTiles,resources:I??[],hasNextPage:S})))}function ct({resourceImpressionTracking:e,numberOfTiles:t,resources:r}){return a.createElement(ci,{resourceTypeSlug:aW.RECENTLY_ADDED_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:!1})}function cr({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n}){return a.createElement(ci,{resourceTypeSlug:aW.COOPER_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n})}function ca({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n}){return a.createElement(ci,{resourceTypeSlug:aW.SLIDE_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n})}function cn({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n}){return a.createElement(ci,{resourceTypeSlug:aW.FIGJAM_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n})}function co({resourceImpressionTracking:e,resources:t,hasNextPage:r}){let n=(0,aF.Om)(),o=(0,aF.tv)();return t&&0!==t.length?a.createElement(sw,{header:aH(aW.PLUGINS),route:new aG({...n,resourceTypeSlug:aW.PLUGINS},o),content:a.createElement(sE.M,{plugins:t,onIntersectionChange:e,isOrgTeamBrowsing:!1,isLoading:!1,loadingRowCount:aP.l_}),showSeeMore:!!r}):null}function cl({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n}){return a.createElement(ci,{resourceTypeSlug:aW.WIDGETS,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:n})}function ci({resourceTypeSlug:e,resources:t,hasNextPage:r,resourceImpressionTracking:n,numberOfTiles:o}){let l=(0,aF.Om)(),i=(0,aF.tv)();if(0===t.length)return null;let s=!!r||t.length>o;return a.createElement(sw,{header:aH(e),route:new aG({...l,resourceTypeSlug:e},i),content:a.createElement(sy.T,{resources:t.slice(0,o)}),showSeeMore:s})}let cs="resource_hub--pageContainer--0k53S";function cc({planTier:e,currentOrgId:t,currentTeamId:r}){let n;let{tab:o}=(0,aj.RA)(aF.au);switch(o){case aP.N$.INTERNAL:n=a.createElement(ce,{planTier:e,currentOrgId:t??void 0,currentTeamId:r??void 0});break;case aP.N$.COMMUNITY:n=a.createElement(sq,null);break;default:(0,C.xb)(o)}return a.createElement("div",{className:cs},n)}var cd=r(543287),cm=r(807522),cu=r(991026),c_=r(384274);function cp(){let e=(0,ez.tJ)(),{templatesTeamId:t,resourceTypeSlug:r}=(0,aj.Rd)(aG)??{},a=null;if(r)try{let e=az(r);e.length>0&&e[0]&&(a=(0,cu.J2)(e[0]))}catch{}let n=e.data?.type===eP.OL.ORG?t:e.data?.key.parentId;return(0,c_.li)({teamId:n??null,editorType:a,enabled:!!a&&!!n&&"loaded"===e.status})}function cf(){let{requestLoadMoreForTeam:e,templatesByTeam:t,isLoading:r}=cp(),n=(0,a.useRef)(null),o=(0,a.useRef)(null);return((0,cm.X)({containerRef:n,targetRef:o,onIntersectionChange:e}),r||!t)?null:a.createElement("div",{ref:n},a.createElement(sy.T,{resources:t?.templates??[]}),a.createElement("div",{ref:o}))}function cg({resourceType:e,planTier:t,orgId:r,internalResourcesRoute:n,resourceImpressionTracking:o}){let l;let i=(0,cu.J2)(e),s=sK(),{teamTemplates:c,isLoading:d,requestLoadMoreForOrg:m}=(0,c_.e2)({orgId:r,areWorkspacesEnabled:t===eP.Ag.ENTERPRISE,numTemplatesPerTeam:aP.u8+1,editorType:i,filterByIds:null,enabled:!!i}),u=c?.[c.length-1]?.teamId??null,_=(0,a.useRef)(null);return(0,cm.X)({containerRef:s.sizeRef,targetRef:_,onIntersectionChange:m}),l=d?null:0===c.length?a.createElement(sZ,null):c.map(e=>{let t=e.teamName??"",r=e.templates.length>s.numberOfTiles,o=e.templates.slice(0,s.numberOfTiles).map(e=>e.template),l=n.copyWith({templatesTeamId:e.teamId},void 0);return a.createElement("div",{key:e.teamId,ref:e.teamId===u?_:null},a.createElement(sw,{header:(0,k.t)("community.resource_hub.internal_tab",{orgOrTeamName:t}),route:l,content:a.createElement(sy.T,{resources:o}),showSeeMore:r}))}),a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl",ref:s.sizeRef},l)}function cE({planTier:e,currentOrgId:t,currentTeamId:r}){let n;let l=(0,o.k)().cooper,i=(0,aj.a4)(aG),{resourceTypeSlug:s,templatesTeamId:c}=i.params,{trackResourceImpression:d,flushAndResetResourceImpressions:m}=(0,iz.G)(),u=(0,a.useCallback)((e,t)=>{t&&d(e)},[d]);a.useEffect(()=>{m()},[s,m]);let _=az(s).filter(e=>l||e!==aU.vt.COOPER_TEMPLATE_FILE);return 0===_.length?null:(_[0]&&aV(e,_[0])&&(n=_[0]===aU.vt.PLUGIN?a.createElement(ch,{orgId:t??void 0,resourceImpressionTracking:u}):_[0]===aU.vt.WIDGET||s===aW.RECENTLY_ADDED_TEMPLATES?a.createElement(cb,{resourceTypes:_,orgId:t??void 0,teamId:r??void 0,resourceImpressionTracking:u}):r||c?a.createElement(cf,null):a.createElement(cg,{resourceType:_[0],planTier:e,orgId:t??"",internalResourcesRoute:i,resourceImpressionTracking:u})),a.createElement("div",{className:cs},n))}function cb({resourceTypes:e,orgId:t,teamId:r,resourceImpressionTracking:n}){let o=sK(),{resources:l,loading:i,hasNextPage:s,fetchNextPage:c}=aK({resourceTypes:e,limit:aP.u8,caller:aY.z.RESOURCE_HUB,orgId:t,teamId:r,includeContent:!0,sortBy:e.some(e=>[aU.vt.SLIDE_TEMPLATE,aU.vt.COOPER_TEMPLATE_FILE,aU.vt.FIGJAM_TEMPLATE].includes(e))?aB.e.Browse.PUBLISHED_AT:aB.e.Browse.ALL_TIME});if(!i&&(!l||0===l.length))return a.createElement(sZ,null);let d=o.numberOfTiles;return a.createElement("div",{ref:o.sizeRef},a.createElement(sy.T,{resources:l??[],isLoading:i,loadingTileCount:d*aP.Z_}),s&&a.createElement("div",{className:"resource_hub--loadingSpinner--wxRsE"},a.createElement(oH.k,null),a.createElement(ei.a,{onIntersectionChange:e=>{e.isIntersecting&&c()}})))}function ch({orgId:e,resourceImpressionTracking:t}){let{resources:r,loading:n,hasNextPage:o,isFetchingNextPage:l,fetchNextPage:i}=aq({limit:10,caller:aY.z.RESOURCE_HUB,orgId:e,includeContent:!0});return n||r&&0!==r.length?a.createElement("div",null,a.createElement(sE.M,{plugins:(r??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:t,isOrgTeamBrowsing:!1,isLoading:n}),o&&a.createElement(cd.A,{onClick:e=>{e.preventDefault(),i()},isLoading:l,isMoreToFetch:o})):a.createElement(sZ,null)}var cv=r(957296),cy=r(904239),cw=r(905899),cT=r(485211),cI=r(207488),cC=r(775902),cS=r(359480);function cx({text:e,isSelected:t,onClick:r}){return a.createElement(st.E,{"aria-label":e,"aria-pressed":t,className:U()(sa.x6,sa.Mg,"category_link_pill--tagPill--vb98J",t&&sa.wH),onClick:r},a.createElement("span",{className:U()(sa.IO,"category_link_pill--tagPillContent--tADeA")},e))}function ck({links:e}){let t=(0,aj.a4)(iV.Dv),{tagSlug:r}=(0,aj.RA)(iV.Dv),n=a.useRef(null),[o,l]=a.useState(!1),[i,s]=a.useState(!1),c=(0,cS.l)(),[m,u]=a.useState(0),[_,p]=a.useState(0);return a.useLayoutEffect(()=>{if(!n.current)return;let t=Array.from(n.current.children).filter(e=>!e.className.includes("expansionButton"));if(i)t.every(e=>0===e.offsetTop)&&s(!1);else if(n.current.scrollWidth>n.current.clientWidth){let e=n.current.clientWidth-83,r=Math.max(Array.from(t).findIndex(t=>t.offsetLeft+t.offsetWidth>e)-1,0);u(r),p(t[r].offsetLeft+t[r].offsetWidth+8),l(!0)}else u(e.length-1),l(!1)},[i,o,c,e]),a.createElement(a.Fragment,null,a.createElement("div",{...o_.xk(cN.container,i?cN.expandedContainer:cN.collapsedContainer),ref:n},e.map(({to:e,translatedTitle:n,categorySlug:o,tagSlug:l},s)=>{let c=!!(l&&r&&l===r),u=i||s<=m;return a.createElement("div",{...o_.xk(cN.pillContainer,!u&&cN.hiddenPill),key:e},a.createElement(cx,{text:n,categoryTagSlug:l,onClick:()=>{if(c){let e=t.copyWith({categorySlug:o,tagSlug:void 0}).href;(0,sl.uo)(t.href,e),d.Ay.push(e)}else(0,sl.uo)(t.href,e),d.Ay.push(e)},isSelected:c}))}),(o||i)&&a.createElement(st.E,{className:"expansion-button",...o_.xk(cN.expansionButton),style:o?{left:`${_}px`,position:"absolute"}:{},onClick:()=>{l(!o),s(!i)}},o?(0,k.t)("community.shelves.show_more"):(0,k.t)("community.detail_view.show_less"))))}let cN={collapsedContainer:{flexWrap:"xozqiw3",$$css:!0},expandedContainer:{flexWrap:"x1a02dak",$$css:!0},container:{display:"x78zum5",gap:"x167g77z",rowGap:null,columnGap:null,maxWidth:"x193iq5w",$$css:!0},pillContainer:{flex:"xkz0k9k",flexGrow:null,flexShrink:null,flexBasis:null,$$css:!0},hiddenPill:{visibility:"xlshs6z",$$css:!0},expansionButton:{whiteSpace:"xuxw1ft",color:"x1n0bwc9",outlineWidth:"x1qgsegg",outlineStyle:"xaatb59",outlineColor:"xru40mv",borderRadius:"x1sxf85j",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,padding:"xdqdrvq",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,outlineOffset:"x1g40iwv",...l8.g.textBodyMedium,":hover_backgroundColor":"x133fa97",$$css:!0}};function cR({category:e,showTags:t=!1}){let r=(0,aj.a4)(iV.Dv),n=(0,a$.S)(e.url_slug,iQ.LJ);if(!n)return null;let o=(0,cC.m)(e,n,t,r);return a.createElement("div",{className:"x78zum5 x167g77z xabw4e7"},a.createElement(ck,{links:o}))}var cA=r(325655),cO=r(202392),cL=r(944440),cF=r(601963);function cP({context:e,filterState:t,allowedEditorTypes:r}){let{resourceType:n,editorType:o=(0,cF.MF)(n),price:l}=t;return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_FEED_FILTERS},a.createElement(iq.a,{mode:"match"},a.createElement("div",{className:"x78zum5"},a.createElement(cA.Z,{context:e,resourceType:n,editorType:o,allowedEditorTypes:r}),e===cI.g.CATEGORY&&a.createElement(cL.y,{context:e,resourceType:n,editorType:o}),a.createElement(cO.OQ,{context:e,price:l}))))}function cD(){let e=(0,o.k)().cmty_curated_tags_mapping,t=sK(),r=(0,aj.a4)(iV.Dv);(0,iV.pj)(r);let n=r.params,{categorySlug:l,tagSlug:i}=n,[s,c]=a.useState(null),d=r.search,[{data:m,status:u}]=(0,_.IT)((0,cT.Zp)({categorySlug:l,tagSlug:i})),p="loading"===u;a.useEffect(()=>{m&&!p&&c(m)},[m,p]);let f=(0,cy.V)(n,d,aP.u8),g=f.filterState;return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_CATEGORY,properties:{category:l,tag:i}},a.createElement("div",{className:"x78zum5 xdt5ytf xou54vl x1gan7if",ref:t.sizeRef},s?a.createElement(a.Fragment,null,a.createElement("div",{className:"x78zum5 x1qughib x1cy8zhl xozqiw3 xou54vl"},a.createElement("div",{className:"x78zum5 xdt5ytf x1n2onr6 x12lumcd xeuugli"},a.createElement(cR,{category:s,showTags:e&&!!s.tags.length})),a.createElement("div",{className:"x78zum5 x13a6bvl x3psx0u xuxw1ft"},a.createElement(cP,{context:cI.g.CATEGORY,filterState:g,allowedEditorTypes:s.editor_types}))),a.createElement("div",{className:"xw7yly9"},a.createElement(cv.e,{category:s,categoryPageData:f,numTilesPerRow:t.numberOfTiles}))):a.createElement("div",{className:"x7z7khe"},a.createElement(cw.y$,null))))}var cM=r(707005);function cB({selectedTab:e,orgOrTeamName:t}){let r=(0,aj.a4)(aF.au),n=e=>{(0,sl._K)(e),d.Ay.push(r.copyWith({tab:e}).href)},[o,l,i]=cM.t.useManagedTabs({[aP.N$.INTERNAL]:!0,[aP.N$.COMMUNITY]:!0},e,e=>{n(e)}),s=Object.keys(aP.N$).map(e=>a.createElement(cM.t.Tab,{key:e,...o[aP.N$[e]]},function(e,t){switch(e){case aP.N$.INTERNAL:if(t)return(0,k.t)("community.resource_hub.internal_tab",{orgOrTeamName:t});return(0,k.t)("community.resource_hub.internal_tab_default");case aP.N$.COMMUNITY:return(0,k.t)("community.resource_hub.community_tab");default:(0,C.xb)(e)}}(aP.N$[e],t)));return a.createElement(cM.t.TabStrip,{manager:i},s)}var cU=r(87641);function c$(){return a.createElement("div",{className:"resource_hub_search_bar--searchInputContainer--6WP25"},a.createElement(cU.M,null))}function cj({orgOrTeamName:e}){let{tab:t}=(0,aj.RA)(aF.au);return a.createElement("div",null,a.createElement(nQ.g2,{leftSide:a.createElement(cW,{selectedTab:t||aP.N$.INTERNAL,orgOrTeamName:e}),rightSide:t===aP.N$.COMMUNITY?[a.createElement(c$,{key:"resource-hub-search-bar"})]:[]}))}function cW({selectedTab:e,orgOrTeamName:t}){let r=!!(0,aj.ed)(iH.b),n=(0,aj.ed)(iV.Dv),o=(0,aj.ed)(aG),{templatesByTeam:l}=cp(),i="";return r||n||o?(r?i=(0,k.t)("community.search.search_results_from_community"):o?(i=aH(o.params.resourceTypeSlug),o.params.templatesTeamId&&(i=l?.teamName?(0,k.t)("community.resource_hub.internal_tab",{orgOrTeamName:l.teamName}):"")):n&&(i=i9(n.params.categorySlug,void 0,n.search.resource_type)||""),a.createElement("h1",{...o_.xk(cG.headerText)},i)):a.createElement(cB,{selectedTab:e,orgOrTeamName:t})}let cG={headerText:{...l8.g.textHeadingMedium,$$css:!0}};var cV=r(878035),cH=r(367909),cz=r(36221),cY=r(4476);function cK({selectedTab:e,resultsByType:t,filtersControlState:r}){let n=(0,aj.a4)(iH.b),o=(0,aF.tv)(),l=(0,cY.v)(t),i=(e,t)=>{let r=n.copyWith({},{...o,resource_type:t}).href;d.Ay.push(r),(0,nY.sx)("resource_type_filter_changed",{resource_type:t,from:e})},[s,c,m]=cM.t.useManagedTabs({[i0.t.FILES]:!0,[i0.t.PLUGINS]:!0,[i0.t.WIDGETS]:!0},e,t=>{i(e,t)}),u=Object.keys(i0.t).map(e=>{let{count:t=0}=l[i0.t[e]];return a.createElement(cM.t.Tab,{key:e,...s[i0.t[e]]},a.createElement("span",null,function(e){switch(e){case i0.t.FILES:return(0,k.t)("community.view_bar.files_and_templates_tab");case i0.t.PLUGINS:return(0,k.t)("community.view_bar.plugins");case i0.t.WIDGETS:return(0,k.t)("community.view_bar.widgets");default:(0,C.xb)(e)}}(i0.t[e])),a.createElement("span",null,` (${t??0})`))});return a.createElement("div",null,a.createElement(nQ.g2,{leftSide:a.createElement(cM.t.TabStrip,{manager:m},u),rightSide:[a.createElement(cP,{key:"filters",context:cI.g.SEARCH,filterState:r})]}))}let cq=e=>({query:e.search.query??"",editor_type:e.search.editor_type??iX.k.Editors.ALL,price:e.search.price??cH.C.Price.ALL,resource_type:e.search.resource_type??i0.t.FILES});function cJ(){let e=(0,aj.a4)(iH.b);(0,cF._4)(e);let t=cq(e),r=t.resource_type,{trackResourceImpression:n,flushAndResetResourceImpressions:o}=(0,iz.G)({extraProperties:{resourceType:t.resource_type}}),l=(0,a.useMemo)(()=>({resourceType:t.resource_type,editorType:t.editor_type,price:t.price,sortBy:(0,aB.H)()}),[t]);a.useEffect(()=>{o()},[t.resource_type,t.query,t.editor_type,t.price,o]);let{resultsByType:i,loadedStatusByType:s}=(0,cV._w)((0,a.useMemo)(()=>({query:t.query,editor_type:t.editor_type,price:t.price,sort_by:(0,aB.H)()}),[t.query,t.editor_type,t.price]),r),c=sK();return a.createElement(a6.fu,{name:lu.e0.RESOURCE_HUB_SEARCH},a.createElement("div",{className:cs,ref:c.sizeRef},a.createElement(cK,{selectedTab:r,resultsByType:i,filtersControlState:l}),a.createElement(cz.G,{searchParams:t,trackResourceImpression:n,resultsByType:i,isLoadingThisView:!s[r],numTilesPerRow:c.numberOfTiles})))}function cX(){let e=(0,aF.Om)(),t=(0,aF.tv)(),r=(0,ez.tJ)(),n=(0,a.useMemo)(()=>{let a=aP.N$.INTERNAL;return"loaded"===r.status&&r.data?.tier===eP.Ag.STARTER&&(a=aP.N$.COMMUNITY),new aF.au({...e,tab:a},t)},[e,t,r]);if("loading"===r.status)return null;let o=r.data?.type===eP.OL.ORG?r.data?.key.parentId:void 0,l=r.data?.type===eP.OL.TEAM?r.data?.key.parentId:void 0;return a.createElement(iG.Rj.Provider,{value:iG.mk.RESOURCE_HUB},a.createElement(et.J,null,a.createElement(iW.qh,{path:aF.VR},a.createElement("div",{className:"xv90nub x78see"},a.createElement(cj,{orgOrTeamName:r.data?.name}),a.createElement(iW.dO,null,a.createElement(iW.qh,{path:iH.b.path},a.createElement(cJ,null)),a.createElement(iW.qh,{path:aG.path},a.createElement(cE,{planTier:r.data?.tier??null,currentOrgId:o,currentTeamId:l})),a.createElement(iW.qh,{path:iV.Dv.path},a.createElement(cD,null)),a.createElement(iW.qh,{path:aF.au.path},a.createElement(cc,{planTier:r.data?.tier??null,currentOrgId:o,currentTeamId:l})),a.createElement(iW.rd,{to:n.to}))))))}function cQ(){let[e,t]=a.useState(null),[r,n]=a.useState(null),[o,l]=a.useState(null),i=(0,aF.Om)(),s=(0,aF.tv)(),{templatesByTeam:c}=cp(),m=[],u=aj.Rd(aF.au)?.tab||aP.N$.INTERNAL,p=u===aP.N$.COMMUNITY?(0,k.t)("community.resource_hub.templates_and_tools_from_community"):(0,k.t)("sidebar.templates_and_tools");m=[{text:p,to:new aF.au({...i,tab:u},s).href,trackingProperties:{name:sl.HH.RESOURCE_HUB_HOME_BREADCRUMB_CLICKED,text:p}}];let f=(0,aj.ed)(iV.Dv);a.useEffect(()=>{f||(t(null),l(null),n(null))},[f]);let g=f?.params.categorySlug||"",E=f?.params.tagSlug||"",[{data:b,status:h}]=(0,_.IT)((0,cT.Zp)({categorySlug:g,tagSlug:E}),{enabled:!!f});if(a.useEffect(()=>{if("loaded"===h){l(b?.selected_tag||null);let{parent_category:e}=b||{parent_category:null};n(e||null),t(b)}},[b,h]),f&&e){let t=(0,a$.S)(r?.url_slug,iQ.LJ),a=(0,a$.S)(e.url_slug,iQ.LJ),n=[r&&t&&{text:i9(t,void 0,f.search.resource_type)||(0,k.Yd)(r.i18n_meta?.title,r.title),to:f.copyWith({categorySlug:t,tagSlug:void 0}).href,trackingProperties:{name:sl.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:i9(t,void 0,f.search.resource_type)||(0,k.Yd)(r.i18n_meta?.title,r.title),category_slug:t}},e&&a&&{text:i9(a,void 0,f.search.resource_type)||(0,k.Yd)(e.i18n_meta?.title,e.title),to:f.copyWith({categorySlug:a,tagSlug:void 0}).href,trackingProperties:{name:sl.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:i9(a,void 0,f.search.resource_type)||(0,k.Yd)(e.i18n_meta?.title,e.title),category_slug:a}},o&&{text:(0,k.Yd)(o.i18n_meta?.text,o.text)}].filter(Boolean);m=[...m,...n]}if((0,aj.ed)(iH.b)){let e={text:(0,k.t)("community.resource_hub.search_breadcrumb")};m=[...m,e]}let v=(0,aj.ed)(aG);if(v){let e=v.params.resourceTypeSlug,t={text:aH(e)};if(m=[...m,t],v?.params.templatesTeamId){t.to=v.copyWith({templatesTeamId:void 0}).href,t.trackingProperties={name:sl.HH.RESOURCE_HUB_INTERNAL_RESOURCE_TYPE_BREADCRUMB_CLICKED,text:aH(e)};let r=c?.teamName;r&&(m=[...m,{text:r}])}}return a.createElement(oE.A5,null,...m.map((e,t)=>a.createElement(oE.J5,{text:e.text,onClick:()=>{e.to&&d.Ay.push(e.to),e.trackingProperties&&(0,sl.Ox)(e.trackingProperties)},hasTrailingDivider:t<m.length-1,key:`resource_hub_breadcrumb_${t}`,disabled:t===m.length-1})))}var cZ=r(958149),c0=r(467397),c1=r(438626),c4=r(176677),c5=r(793478),c2=r(757033);let c7=new class{markFeedVisited(e){return c2.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var c3=r(318342),c8=r(699321),c6=r(842488),c9=r(586994),de=r(218384),dt=r(507720),dr=r(950738),da=r(804072),dn=r(842589),dl=r(255603),di=r(246633),ds=r(814815),dc=r(823888),dd=r(582538),dm=r(853807),du=r(981412),d_=r(768205);let dp="feed_tile--commentPillText--goQ26",df="feed_tile--feedPostHoverContainerSelectable--rhPI9";var dg=r(505e3);function dE(e){let t=(0,n.wA)(),r=a.useRef(null),[o,l]=(0,ib.M)(),[i,s]=(0,ib.M)(),{requestToOpenPostByFeedIdx:c}=e,d=a.useCallback((r,a)=>{r?.stopPropagation();let n=e.itemIdx+1;(0,nY.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),t((0,tS.to)({type:c6.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:a?.autofocusCommentInput,selectedContentIdx:a?.selectedContentIdx,onSetSelectedContentIdx:a?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),m=a.useCallback(()=>{t((0,tS.to)({type:(0,c3.t1)(),data:{preloadedFeedPost:e.post,entryPoint:c3.M2.FEED}}))},[t,e.post]),{refSetter:u}=function(e){let t=a.useRef(null),r=a.useRef(e);r.current=e;let n=a.useMemo(()=>new ResizeObserver(()=>{r.current(t.current)}),[]);return a.useEffect(()=>()=>{n.disconnect()},[n]),{refSetter:a.useCallback(e=>{null!==t.current&&n.unobserve(t.current),t.current=e,null!==t.current&&n.observe(t.current)},[n])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(r.current?.getBoundingClientRect().left??0)-p),g=a.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},a.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,k.t)("fig_feed.youre_all_caught_up")),a.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,k.t)("fig_feed.come_back_later_for_more_posts")));return a.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(r.current=e,o(e))},style:_},a.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:i}),a.createElement("div",{className:"feed_tile--tileContainer---NbBK"},a.createElement(db,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:f,isHovered:l||s}),e.mostRecentUnviewed&&g))}function db(e){let t=parseInt(e.feedPost.numComments,10),r=(0,dt.o8)(e.feedPost.descriptionMeta),n=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],o=a.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},t>0?a.createElement(a.Fragment,null,a.createElement(de.u,{users:n,totalNum:n.length,numAvatarsToDisplay:4}),a.createElement("div",{className:dp},(0,k.tx)("fig_feed.num_comments",{numComments:t}))):a.createElement("div",{className:dp},(0,k.tx)("fig_feed.add_comment"))),[l,i]=a.useState(!1),s=a.useRef(null);a.useEffect(()=>{let e=s.current;e&&i(e.scrollHeight>e.offsetHeight)},[]);let c=a.useMemo(()=>(r.length>0&&(r[0].t=r[0].t?.trimStart(),r[r.length-1].t=r[r.length-1].t?.trimEnd()),r),[r]),d=(0,da.q)(),m=a.useCallback((e=[],t)=>e?e.map((e,r)=>{let n=(e.user_annotated?e.user_annotated.handle:e.t)||"",o=(0,ih.F)(n),l=null,i=e.link&&(0,dl.xT)(e.link);if(e.user_annotated&&o)l=a.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},a.createElement(dl.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:o,imgUrl:e.user_annotated.img_url}));else if(i&&o&&(0,ds.$)(i))l=a.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},a.createElement(dl.Rk,{text:o,hyperlink:i}));else{let e=(0,c9.x6)(o?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");l=a.createElement("span",null,e)}return a.createElement(a.Fragment,{key:`${t}-${r}`},l,e.children?.length&&e.styles?.length&&e.children.map((n,o)=>a.createElement(a.Fragment,{key:`${t}-${r}-${o}`}," ",e.styles.includes("ol")?`${o+1}. `:"\u2022 ",m(n.children,`${t}-${r}-${o}`)," ")))}):[a.createElement(a.Fragment,null)],[d]),u=a.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:_}=e,p=a.useMemo(()=>a.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:_,role:"button",tabIndex:0},a.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),a.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:s},a.createElement("div",{className:U()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",l&&"feed_tile--hasShowMore--6Nm-e")},u),l&&a.createElement("div",{onMouseDown:e=>{e.stopPropagation(),_()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},a.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),a.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,k.t)("fig_feed.see_more"))))),[l,s,e.feedPost,_,u]),f=(0,dc.DG)(e.feedPost.publicUuid,dc.dy.TILE),g=(0,dr.Um)(),E=e.isHovered||g?.type===(0,d_.j8)(d_.Hx.USER,e.feedPost.publicUuid,dc.Zp.TILE);return a.createElement(a.Fragment,null,a.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},a.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},a.createElement(dm.A,{user:e.feedPost.creator,size:rN.Pf.LARGE,noHandle:!0})),a.createElement(dm.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),a.createElement("div",{className:x.s.flex.flexRow.$},a.createElement(d_.Wu,{hideTarget:!E,feedPost:e.feedPost,source:dc.Zp.TILE,onEditClick:e.onEditClick}),E&&a.createElement(di.K0,{"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("fig_feed.copy_link_to_post"),onClick:f},a.createElement(lH.In,{icon:"hyperlink-32"})))),p,a.createElement(dh,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),a.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},a.createElement(du.Q$,{type:du.Us.FULL,source:du.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[o]})))}function dh(e){let t=a.useRef(null),r=e.feedPost.content.map(e=>JSON.parse(e)),[n,o]=a.useState(!1),[l,i]=a.useState(!1),[s,c]=a.useState(0);a.useEffect(()=>{0!==s&&dn.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let d=(0,du.mz)({type:"post",id:e.feedPost.publicUuid},du.zY.TILE_CONTENT),m=r.length>1,u=U()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(n||l||d)&&"feed_tile--hidden--9bafI"),_={selectedContentIdx:s,onSetSelectedContentIdx:c},{fileData:p,fileIcon:f,fileLoaded:g,openFile:E}=(0,dc.rS)(e.feedPost.publicUuid,r,e.feedPost.fileKey);return a.createElement("div",{ref:e=>{e&&(t.current=e)},className:U()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},a.createElement(dd.xT,{contentItems:r,feedPostIdx:e.feedIdx,feedPostUuid:e.feedPost.publicUuid,onContentHover:e=>o(e),onSelectedTileMouseDown:t=>e.onTileMouseDown(t,_),pageBackgroundColor:e.backgroundColor||void 0,selectedContentIdx:s,setSelectedContentIdx:c,source:dc.Zp.TILE,staticContent:!0}),g&&a.createElement("button",{className:U()(u,df,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},a.createElement(rB.MW,{type:f,size:rB.LE.SMALL}),a.createElement("div",null,p.name)),a.createElement("button",{className:U()(u,df,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,_),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},a.createElement(es.B,{svg:dg.A})))}let dv=(0,ed.eU)(!0),dy=(0,ed.eU)(!1);function dw(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,q.iZ)(),l=(0,n.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:i}=e,[s,c]=a.useState(null),d=(0,ek._6)(),m="teamFeed"===d.view,_="user"===d.view;a.useEffect(()=>{m&&(c7.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),t(eO.b({has_visited_feed:!0})))},[e.currentOrgId,l,t,m]);let p=(0,eG.Rs)(eH.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:l}),f=(0,u.ZC)(l);f&&f!==l&&r.current&&(r.current.scrollTop=0),a.useEffect(()=>{"errors"===p.status&&t(tZ.F.enqueue({message:(0,k.t)("general.an_error_occurred"),error:!0}))},[t,p.status]);let g=a.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),E=a.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(e=>!!e.feedPost)}:p,[p]),b="loaded"===E.status&&"loaded"===p.status;a.useEffect(()=>{i?.(b)},[b,i]);let h=a.useCallback(()=>512,[]),v=E.data?E.data.length:0,y=(0,c4.z)({size:v,parentRef:r,estimateSize:h,overscan:15,paddingStart:0}),w=a.useRef(0);a.useEffect(()=>{w.current=E.data?.length??0},[b,E.data?.length]),a.useEffect(()=>{b&&(0,nY.sx)("Team Feed Posts Rendered",{numPosts:w.current,view:d.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,w,b,d.view]);let[T,I]=a.useState(!1),[C,S]=a.useState(null),N=(0,ed.Xr)(dy),R=a.useCallback((e,t)=>{e>0&&!T&&((0,nY.sx)("Team Feed User Scrolled Down"),I(!0));let r=v/50,a=e+t.trackHeight,n=t.scrollHeight;1-(n-a)/(n/r)>=.5&&g&&!g.isLoadingNextPage&&g.hasNextPage()&&g.loadNext(50),S(t)},[T,g,v]);a.useEffect(()=>{if(!C)return;let{scrollTop:e}=C;e>=72?N(!0):N(!1)},[C,N]);let A=a.useMemo(()=>{let e={};return E.data&&E.data.forEach((t,r)=>{e[t.publicUuid]=r}),e},[E]),[O,L]=a.useState(void 0),F=a.useCallback(e=>{L(e)},[]);a.useEffect(()=>{if(void 0===O||(L(void 0),O<0)||(O>=.5*v&&g&&g.loadNext(50),O>=v))return;let e=E.data[O];t(tS.hm({type:c6.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:O,requestToOpenPostByFeedIdx:F}}))},[O,t,E,F,g,v]);let P=a.useMemo(()=>{if(!s||!E.data)return null;let e=0,t=E.data.length-1,r=-1,a=0;for(;e<=t;){let n=Math.floor((e+t)/2);if(new Date(E.data[n].createdAt)>s?(r=n,e=n+1):t=n-1,(a+=1)>50)break}for(;r>=0&&o&&E.data[r].feedPost?.creator.id===o.id;)r-=1;return r},[s,E.data,o]),D=b&&E.data&&0===E.data.length&&e.selectedUser;return a.createElement(el.P,{scrollContainerRef:r,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:U()("feed_list_view--scrollContainerInner--8Le-r",_&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:R},a.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,D?a.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},a.createElement("div",{className:x.s.fontMedium.$},(0,k.tx)("fig_feed.no_posts_found_title")),a.createElement("div",{className:x.s.colorTextSecondary.$},(0,k.tx)("fig_feed.no_posts_found_description"))):a.createElement("div",{style:{margin:"0 8px",height:`${y.totalSize}px`,position:"relative"}},y.virtualItems.map(e=>{let t=e.index;if(!E.data||!E.data[t].feedPost)return null;let n=E.data[t].feedPost;return a.createElement(dE,{post:n,key:e.key,virtualRowItem:e,feedListRef:r,itemIdx:t,feedIdx:A[n.publicUuid],requestToOpenPostByFeedIdx:F,mostRecentUnviewed:m&&A[n.publicUuid]===P})}))))}function dT(e){let t=(0,n.wA)(),[r,o]=(0,ed.fp)(dv),[l,i]=a.useState(!1),s=(0,n.d4)(e=>e.teamFeedRefreshNonce);a.useEffect(()=>{t(c5.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,s,e.currentOrgId]);let c=a.createElement(a.Fragment,null,a.createElement(c8.CreateFeedPostContent,{entryPoint:c3.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!l,minimized:r,setMinimized:o,uploadInfo:e.uploadInfo}));return a.createElement(dw,{...e,scrollHeaders:c,setHasLoaded:i})}var dI=r(211939),dC=r(473677);function dS(){let e=(0,ed.md)(c1.T),t=(0,ed.md)(dy),r=(0,ed.Xr)(dv),[n,o]=a.useState(!1);return(a.useEffect(()=>{t&&o(!0)},[t]),n)?a.createElement(as.$$,{className:U()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>r(!1)},a.createElement(es.B,{svg:dC.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,k.t)("fig_feed.new_post"),e&&a.createElement(es.B,{svg:dI.A})):null}var dx=r(427193),dk=r(697411);let dN="new_post_indicator--icon--uvRMg";var dR=r(185333);function dA(e){return a.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},a.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},a.createElement(es.B,{svg:dR.A,className:dN}),(0,k.tx)("fig_feed.new_posts")),a.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},a.createElement(es.B,{svg:n8.default,className:dN})))}function dO(e){let t=(0,n.wA)();a.useEffect(()=>((0,nY.sx)("Team Feed Posts List View Visited"),t(c5.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,nY.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let r=a.useCallback(()=>t(c5.Y9()),[t]),o=a.useCallback(e=>{e||r()},[r]),l=a.useCallback(()=>{r()},[r]),i=(0,n.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[s,c]=a.useState(!1),d=(0,u.ZC)(i);a.useEffect(()=>{i&&!1===d?c(!0):d&&!1===i&&c(!1)},[i,d,t]),a.useEffect(()=>{e.initialPostUuidToShow&&t((0,tS.to)({type:c6.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,_]=a.useState(!1),[p,f]=a.useState(null),[g,E]=(0,ed.fp)(dv),b=a.useCallback(e=>{g&&(f(e.files),_(!1))},[g]);return a.createElement(a.Fragment,null,a.createElement(tb.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>_(!0),onTargetDragLeave:()=>_(!1),onTargetDrop:b,className:"main_feed_view--contentLayout--HPUlv"},s&&a.createElement(dA,{onRefresh:l,onDismiss:()=>c(!1)}),a.createElement(dT,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:o,uploadInfo:p??void 0}),g&&m&&a.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"})),a.createElement(dk.cx,null))}function dL(e){let t=(0,n.d4)(e=>e.currentUserOrgId),r=a.useRef(new dx.M4);return(a.useEffect(()=>{r.current.start()},[]),t)?a.createElement(dO,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current}):null}var dF=r(508242);function dP(e){let t=e.tabs?a.createElement(et.J,null,a.createElement(cM.t.TabStrip,{manager:e.tabManager},e.tabs.map(e=>a.createElement(cM.t.Tab,{...e.tabProps,key:e.tabName},e.tabName)))):a.createElement(a.Fragment,null);return a.createElement(nQ.g2,{leftSide:t,rightSide:e.viewbarActions||[]})}var dD=r(441048);let dM=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[il.C0.TRASHED_AT]}),dB=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[il.C0.TRASHED_AT,il.C0.NAME]}),dU=(e,t,r)=>{let n=(0,dF.xx)(dM)(t);return[a.createElement(nQ.gr,{key:0,dispatch:e,options:n,selectedView:r}),a.createElement(nQ.ye,{key:1,config:n.tileSortFilterConfig}),a.createElement(nQ.mc,{key:2,dispatch:e,options:n,selectedView:r}),a.createElement(nQ.$c,{key:3,initialViewMode:n.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nY.sx)("file view toggle",{viewType:t===il.XU.GRID?"grid":"list"}),e(ex.JF({selectedView:r,config:{...n.tileSortFilterConfig,viewMode:t}}))}})]},d$=(e,t,r)=>{let n=(0,dF.xx)(dB)(t);return[a.createElement(nQ.KH,{key:6,dispatch:e,options:n,selectedView:r}),a.createElement(nQ.mc,{key:4,dispatch:e,options:n,selectedView:r}),a.createElement(nQ.$c,{key:5,initialViewMode:n.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nY.sx)("folder view toggle",{viewType:t===il.XU.GRID?"grid":"list"}),e(ex.JF({selectedView:r,config:{...n.tileSortFilterConfig,viewMode:t}})),e(ex.uV({viewId:dD.l,viewMode:t}))}})]};function dj({currView:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o=dU(t,r,e),l=d$(t,r,e),[i,s,c]=cM.t.useManagedTabs({deletedFiles:!0,trashedFolders:!0},e.view,a.useCallback(e=>{t(ex.$T({view:e}))},[t]));return a.createElement(dP,{tabManager:c,tabs:[{tabName:(0,k.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_files.aria_label"),tabProps:i.deletedFiles},{tabName:(0,k.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_projects.aria_label"),tabProps:i.trashedFolders}],viewbarActions:"deletedFiles"===e.view?o:l})}var dW=r(939082),dG=r(702),dV=r(494941),dH=r(575058),dz=r(20191),dY=r(603826);function dK(){let e=a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),a.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),a.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return a.createElement("div",{className:dY.kL},a.createElement("div",{className:dY.yl},a.createElement("div",{className:dY._h},e)))}function dq({text:e,tooltipText:t,currentProgress:r,totalProgress:n}){return a.createElement(ny.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},a.createElement(ny.Y,{horizontalAlignItems:"space-between"},a.createElement(ny.Y,{spacing:4},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},e),a.createElement("div",{"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},a.createElement(lH.In,{icon:"info-16",fill:"secondary"}))),a.createElement(N.E,{fontSize:13,fontWeight:"medium"},r,"/",n)),a.createElement("div",{className:x.s.relative.wFull.$},a.createElement("div",{className:x.s.absolute.wFull.$},a.createElement(ny.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),a.createElement("div",{className:x.s.absolute.wFull.$},a.createElement(ny.Y,{cornerRadius:5,height:5,width:`${Math.min(r/n*100,100)}%`,backgroundColor:r>=n?"warning":"brand"}))))}function dJ({canEditTeam:e,isDraftsFolder:t}){let r=(0,n.wA)(),o=(0,nM.ol)(),l=(0,ek._6)(),i=(0,W.PP)();return t||!o||(0,aR.w5)(o)||"folder"!==l.view||!i()?null:a.createElement(dX,{folderId:l.folderId,showPlanComparisonModal:()=>{r((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.STARTER_LIMIT_OVERVIEW,teamId:o.id}}))},canEditTeam:e})}function dX({folderId:e,showPlanComparisonModal:t,canEditTeam:r}){let n=(0,eG.Rs)(eH.yU5,{projectId:e}),o=nE.h.useTrackingContext({trigger:a7.b.STARTER_LIMIT_OVERVIEW}),l=(0,W.Gm)();if("loaded"!==n.status)return null;let i=n.data.project?.team?.projectsCount.status==="loaded"?n.data.project?.team?.projectsCount.data??1:1,s=n.data.project?.team?.teamFileCounts?.designFileCount??0,c=n.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=n.data.project?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=s>=aR.WW||c>=aR.WW;return a.createElement(a6.fu,{name:"Starter Limit Overview",properties:o},a.createElement("div",{className:U()(x.s.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--tahPL"),style:ec.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},a.createElement(ny.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},a.createElement(N.E,{fontSize:14,fontWeight:"semi-bold"},(0,k.tx)("file_browser.starter_limit.your_starter_team_overview")),a.createElement(dQ,{numProjects:i,numFigmaFilesUsed:s,numFigjamFilesUsed:c,numSlidesFilesUsed:m,isSlidesFilesDisplayed:l}),r?a.createElement(ny.Y,{direction:"vertical",spacing:"12px"},a.createElement(N.E,{fontSize:13},(0,k.tx)(u?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")),a.createElement(as.vd,{onClick:t,trackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS}},(0,k.tx)("upgrade.view_plans"))):a.createElement(N.E,{fontSize:13},(0,k.tx)("file_browser.starter_limit.trying_things_out")))))}function dQ({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:r,numSlidesFilesUsed:n,isSlidesFilesDisplayed:o}){return a.createElement(ny.Y,{direction:"vertical",spacing:24,width:234},a.createElement(dq,{text:(0,k.t)("file_browser.starter_limit.projects"),tooltipText:(0,k.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:aR.Wf}),a.createElement(dq,{text:(0,k.t)("file_browser.starter_limit.design_files"),tooltipText:(0,k.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:aR.WW}),a.createElement(dq,{text:(0,k.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,k.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:r,totalProgress:aR.WW}),o&&a.createElement(dq,{text:(0,k.t)("file_browser.starter_limit.slides"),tooltipText:(0,k.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:n,totalProgress:aR.WW}))}var dZ=r(254862),d0=r(990471),d1=r(42987),d4=r(317713),d5=r(815830),d2=r(323075),d7=r(486934),d3=r(339599),d8=r(834111),d6=r(94929),d9=r(241917),me=r(804361),mt=r(565460),mr=r(665488);let ma="open_invoice_reminder_card--icon--gcN35";function mn(e){let t=(0,n.wA)(),r=e.team.restrictions_list?.includes(eP.P4.LOCKED),o=e.canAdminTeam?r?(0,k.t)("billing.open_invoice_reminder.title"):(0,k.t)("billing.open_invoice_reminder.grace_period_title"):(0,k.t)("billing.open_invoice_reminder.title_viewer"),l=e.canAdminTeam?r?(0,k.t)("billing.open_invoice_reminder.locked_admin_description"):(0,k.t)("billing.open_invoice_reminder.grace_period_admin_description"):(0,k.t)("billing.open_invoice_reminder.locked_viewer_description"),i=e.canAdminTeam?(0,k.t)("billing.open_invoice_reminder.cta"):null,s={"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return a.createElement(ny.Y,{direction:"vertical",padding:e.noPaddingOrBorder?0:20,spacing:24,width:288,cornerRadius:e.noPaddingOrBorder?void 0:8,strokeWidth:e.noPaddingOrBorder?void 0:1,strokeColor:"default",height:"hug-contents"},a.createElement("div",{className:x.s.flex.justifyBetween.wFull.$},a.createElement("div",{className:x.s.flex.itemsCenter.justifyCenter.w32.h32.bRadius5.colorBgWarning.$},r?a.createElement(mt.s,{className:ma}):a.createElement(mr.R,{className:ma}))),a.createElement("div",{className:x.s.font14.fontSemiBold.lh24.$},o),a.createElement("div",{className:x.s.font13.lh24.$},l),!!i&&a.createElement("div",{className:x.s.flex.justifyEnd.wFull.$},a.createElement(o6.IK,{onClick:()=>t(ex.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:eK.Iv.BILLING})),variant:"primary",htmlAttributes:(0,W.kF)()?s:void 0},i)))}function mo(e){return e.team.restrictions_list?.includes(eP.P4.LOCKED)||e.canAdminTeam?a.createElement(a6.fu,{name:"Open Invoice Reminder Card",properties:{teamId:e.team.id}},a.createElement(mn,{...e})):null}var ml=r(905676);let mi="tiles_view--container--u00AG",ms="tiles_view--emptyStateContainer--eoExf",mc="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",md={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},mm=256/192;function mu({tile:e,index:t,dispatch:r,selectedView:a,currentPlanFilter:n,currentSharedByFilter:o,isListView:l}){e.type===ra.nb.FILE&&(r(te.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:o,viewMode:void 0!==l?l?"list":"grid":void 0})),(0,d8.K)(a)&&r(te.T5({index:t})),c.eD&&(0,nY.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.fileRepoId,uiSelectedView:JSON.stringify(a)}))}let m_=()=>Math.max(Math.floor((window.innerWidth-md.sidebar-md.metaContainer-md.tileGridOuterPadding)/md.singleTileWithPadding),0),mp=(e,t)=>{let r=ra.Tf.getName(e)||"",a=ra.Tf.getName(t)||"";return tE.Tt.compare(r,a)},mf=(e,t)=>{let r=(ra.Tf.getName(e)||"").toLowerCase(),a=(ra.Tf.getName(t)||"").toLowerCase();return r===a?0:r<a?-1:1},mg=(e,t)=>{if(e.type!==ra.nb.FILE||t.type!==ra.nb.FILE)return 0;let r=e.file,a=t.file;return r.createdAt<a.createdAt?1:-1},mE=(e,t)=>e.type!==ra.nb.PROTOTYPE||t.type!==ra.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,mb=(e,t)=>{let r=ra.Tf.getAccessedAt(e),a=ra.Tf.getAccessedAt(t);return r&&a?r>a?1:-1:a?-1:r?1:0},mh=(e,t)=>ra.Tf.getCreatedAt(e)>ra.Tf.getCreatedAt(t)?1:-1,mv=(e,t)=>{let r=ra.Tf.getTouchedAt(e),a=ra.Tf.getTouchedAt(t);return null===r||null===a?0:r>a?1:-1},my=(e,t)=>e.type!==ra.nb.FILE&&e.type!==ra.nb.REPO||t.type!==ra.nb.FILE&&t.type!==ra.nb.REPO?0:(e.type===ra.nb.FILE?e.file.trashedAt:e.repo.trashed_at)>(t.type===ra.nb.FILE?t.file.trashedAt:t.repo.trashed_at)?1:-1;function mw({currentPlanFilter:e,currentSharedByFilter:t,eligibleForLockedStateRedesign:r,emptyStateContent:l,emptyStateText:i,hideSorter:s,isDataPartial:m,isFolder:u,isInLockedProTeamRevampExp:_,newFileTile:p,overFilteredText:g,sharedWithYouFilters:E,sortFilterOptions:b,tileActions:h,tiles:v}){let y=(0,q.iZ)(),w=(0,ek._6)(),T="folder"===w.view?w.folderId:null,I=rc.M4.Folder.useValue(T).data,S=[y?.drafts_folder_id,y?.personal_drafts_folder_id].includes(I?.id),{showing:N,show:R,data:A}=(0,ir.L)();a.useEffect(()=>{let e="page_selected_view",t=dG.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=dG.sn.tryStop(e);t&&(0,nY.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:w.view},{forwardToDatadog:!0,batchRequest:!0})}},[w.view,T]);let O=(0,eF.FC)(),{userStateLoaded:L,userExternallyRestricted:F,selectedBranchKeyByRepoId:P,upsellData:D}=(0,nL.R)(e=>{let t=null,r=(0,d2.e9)(e),a=r&&r.team_id&&e.teams[r.team_id];return r&&a&&(0,t5.canEditTeam)(a.id,e)&&(t={team:a,folderId:r.id,isAtFileLimit:[eP.P4.FILES_LIMITED,eP.P4.FILES_LIMITED_LEGACY,eP.P4.WHITEBOARD_FILES_LIMITED,eP.P4.WHITEBOARD_FILES_LIMITED_BETA,eP.P4.SLIDE_FILES_LIMITED,eP.P4.SLIDE_FILES_LIMITED_BETA].some(e=>!!a.restrictions_list?.includes(e))}),{userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,t5.isOrgUserExternallyRestrictedFromState)(O),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t}}),M=(0,n.wA)(),B=(0,W.PP)(),U=(0,nM.ol)(),$=!!U&&!!r,j=!!U&&!!_,[G,V]=a.useState(()=>m_()),H=b.tileSortFilterConfig.viewMode===il.XU.LIST,z="recentsAndSharing"===w.view&&w.tab===i$.G.SHARED_FILES,Y=(e,t,r)=>e===il.rJ.ANY||e===il.rJ.SELF&&r.type===ra.nb.FILE&&r.file.creatorId===t||e===il.rJ.SELF&&r.type===ra.nb.REPO&&r.branches[0].creator_id===t||e===il.rJ.OTHER&&r.type===ra.nb.FILE&&r.file.creatorId!==t||e===il.rJ.OTHER&&r.type===ra.nb.REPO&&r.branches[0].creator_id!==t,K=(e,t)=>{let r="design";switch(t.type===ra.nb.FILE?r=t.file.editorType:t.type===ra.nb.PINNED_FILE?r=t.file.editorType:t.type===ra.nb.OFFLINE_FILE&&(r=t.file.editorType),e){case il.t2.ANY:return!0;case il.t2.DESIGN:if(t.type===ra.nb.FILE||t.type===ra.nb.REPO||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"design"===r;return!1;case il.t2.FIGJAM:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"whiteboard"===r;return!1;case il.t2.PROTOTYPE:return t.type===ra.nb.PROTOTYPE;case il.t2.SLIDES:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"slides"===r;return!1;case il.t2.SITES:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"sites"===r;return!1;case il.t2.COOPER:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"cooper"===r;return!1;case il.t2.MAKE:if(t.type===ra.nb.FILE||t.type===ra.nb.PINNED_FILE||t.type===ra.nb.OFFLINE_FILE)return"figmake"===r;return!1;default:(0,C.xb)(e)}},J=(e,t)=>!e||e===`${ra.Tf.getSharedBy(t)}`,X=a.useCallback((e,t)=>{if("sharedWithYou"===w.view||"recentsAndSharing"===w.view&&w.tab===i$.G.SHARED_FILES||!e||!e.planId)return!0;let r=e.planId;switch(t.type){case ra.nb.FILE:return("org"===e.planType?t.file.parentOrgId:t.file.teamId)===r;case ra.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===r;case ra.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===r;case ra.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===r;default:return!1}},[w]),Q=a.useCallback((e,t)=>{let r,a,n;let o=e.filter(e=>J(t.filters.sharedBy,e)&&K(t.filters.fileType,e)&&Y(t.filters.creator,O.user?.id,e)&&X(t.filters.plan,e));if(r=z?o.filter(e=>e.type===ra.nb.FILE||e.type===ra.nb.PROTOTYPE||e.type===ra.nb.REPO):o.filter(e=>e.type===ra.nb.FILE||e.type===ra.nb.REPO||e.type===ra.nb.OFFLINE_FILE),"recentsAndSharing"===w.view&&w.tab===i$.G.SHARED_FILES)return o;let l=t.sort.dir===il.ue.DESC;switch(t.sort.key){case il.C0.SEARCH_RELEVANCE:return e;case il.C0.ACCESSED_AT:a=dz.f.byComparators(mb),n=o;break;case il.C0.CREATED_AT:a=dz.f.byComparators(mh),n=o;break;case il.C0.TOUCHED_AT:a=dz.f.byComparators(mv),n=r;break;case il.C0.NAME:if(S){a=dz.f.byComparators(mp,dz.f.byProperty("type")),n=o;break}let i=o.length<tE.Tw;a=dz.f.byComparators(i?mp:mf,dz.f.byProperty("type"),mg,mE),n=o;break;case il.C0.TRASHED_AT:a=dz.f.byComparators(my),n=r;break;case il.C0.SHARED_AT:return o;default:return console.error("Unknown sort key",t.sort.key),[]}if(a=l?dz.f.reverse(a):a,n.sort(a),m)for(;n[n.length-1]?.type===ra.nb.OFFLINE_FILE;)n.pop();return n},[z,X,m,S,w,O.user?.id]),Z=a.useMemo(()=>Q(v,b.tileSortFilterConfig),[Q,v,b.tileSortFilterConfig]);!function(e){let t=(0,ek._6)(),r=(0,n.wA)(),o=(0,dH.k9)(()=>{if("deletedFiles"===t.view)return[];let r=[];return e.forEach(e=>{switch(e.type){case ra.nb.FILE:r.push({fileKey:e.file.key});break;case ra.nb.REPO:r.push(...e.branches.map(e=>({fileKey:e.key})))}}),r},[t.view,e]),l=(0,eG.p)(eH.hqi,o);a.useEffect(()=>{for(let{result:e,args:t}of l)if("loaded"===e.status&&e.data){let a=(0,d5.ZF)(e.data);r(t3.Lk({fileKey:t.fileKey,users:a}))}},[l,r])}(Z);let ee=(0,ed.md)(ra.Y6),et=a.useCallback((r,a,n)=>{mu({tile:r,index:n,dispatch:M,selectedView:w,currentPlanFilter:e,currentSharedByFilter:t,isListView:H}),function({tile:e,e:t,dispatch:r,selectedView:a,permissionsState:n,selectedBranchKeyByRepoId:l,renamingItem:i}){if(ra.Tf.isRenaming(e,i)||e.type===ra.nb.FILE&&e.file.trashedAt||e.type===ra.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let s=f.Ay.mac?t.metaKey:t.ctrlKey,m=null;s&&t.shiftKey?m=c.aw.FOCAL_TAB:s?m=c.aw.BACKGROUND_TAB:t.shiftKey&&(m=c.aw.NEW_WINDOW);let u=n.user;if(c.eD){let a;switch(m=m??c.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case ra.nb.FILE:a=!!(e.file.isTeamTemplate&&(0,eL.LQ)(n)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,target:m,isBranch:(0,d7.Kz)(e.file),isLibrary:!!e.file.lastPublishedAt,isTeamTemplate:a,userId:u?.id});break;case ra.nb.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,eL.LQ)(n)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:a,target:m,userId:u?.id});break;case ra.nb.PROTOTYPE:c.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.fig_file.name||"",m,u?.id);break;case ra.nb.REPO:let o=(0,d7.mr)(e.repo,e.branches,l);c.eD.openFile({fileKey:o.key,title:o.name,fileEditorType:o.editor_type,target:m,isBranch:(0,d7.Xm)(o),isLibrary:!!o.last_published_at,userId:u?.id});break;case ra.nb.OFFLINE_FILE:r(d1.NA({file:e.file,openNewFileIn:iB.ai.NEW_TAB,source:d6.U.OFFLINE_FILE_TILE}));break;default:(0,C.xb)(e)}return}if(null!=m){if(r(ex.oB()),e.type===ra.nb.OFFLINE_FILE){r(d1.NA({file:e.file,openNewFileIn:iB.ai.NEW_TAB,source:d6.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let r=ra.Tf.getUrl(e,l);d.Ay.redirect(r,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let _=n.currentUserOrgId,p=n.currentTeamId,g="recentsAndSharing"===a.view||"folder"===a.view?a:void 0,E=(0,o.k)().ps_benchmark;r(E?d4.c5({planId:_||p,planType:_?iU.O.ORG:iU.O.TEAM}):d4.p4({planId:_||me.P}));let b={user:u,teamId:E?p:null,orgId:_,selectedView:a};switch(e.type){case ra.nb.FILE:(0,iE.N7)(_,e.file.parentOrgId,p,e.file.teamId)?(0,iE.QV)({file:{key:e.file.key,editorType:e.file.editorType||void 0}},b):r(ex.$T({view:"fullscreen",fileKey:e.file.key,editorType:d3.z4.getIsExtension()?d9.nT.DevHandoff:e.file.editorType?(0,d9.wN)(e.file.editorType):d9.nT.Design,prevSelectedView:g}));break;case ra.nb.PINNED_FILE:(0,iE.N7)(_,e.file.parentOrgId,p,e.file.teamId)?(0,iE.QV)({file:{key:e.file.key,editorType:e.file.editorType}},b):r(ex.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,d9.wN)(e.file.editorType):d9.nT.Design,prevSelectedView:g}));break;case ra.nb.PROTOTYPE:let h=e.prototype.fig_file;(0,iE.N7)(_,h.parent_org_id,p,h.team_id)?(0,iE.QV)({base:"proto",file:{key:h.key,editorType:h.editor_type||void 0},nodeId:e.prototype.page_id},b):r(ex.$T({view:"prototype",file:h,nodeId:e.prototype.page_id,prevSelectedView:g}));break;case ra.nb.REPO:{let t=(0,d7.mr)(e.repo,e.branches,l);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let a=t.key;(0,iE.N7)(_,t.parent_org_id,p,t.team_id)?(0,iE.QV)({file:{key:a}},b):r(ex.$T({view:"fullscreen",fileKey:a,editorType:d9.nT.Design,prevSelectedView:g}));break}case ra.nb.OFFLINE_FILE:r(d1.NA({file:e.file,openNewFileIn:iB.ai.SAME_TAB,source:d6.U.OFFLINE_FILE_TILE}));break;default:(0,C.xb)(e)}}({tile:r,e:a,dispatch:M,selectedView:w,permissionsState:O,selectedBranchKeyByRepoId:P,renamingItem:ee})},[H,e,t,M,O,P,w,ee]),er=a.useCallback((r,a,n)=>{mu({tile:r,index:n,dispatch:M,selectedView:w,currentPlanFilter:e,currentSharedByFilter:t,isListView:H})},[H,e,t,w,M]),ea=a.useCallback((e,t,r)=>{let a=ra.Tf.getId(e);dZ.$.start(a),R({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[R]),en=(0,ra.nw)(v);a.useEffect(()=>{let e=()=>{V(m_())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let eo=a.createElement("div",{className:x.s.flex.alignCenter.$},a.createElement(nQ.$c,{initialViewMode:b.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nY.sx)("file view toggle",{viewType:e===il.XU.GRID?"grid":"list"}),M(ex.JF({selectedView:w,config:{...b.tileSortFilterConfig,viewMode:e}}))}})),el=(0,t5.canEditTeam)(I?.team_id||U?.id||"",O),ei=(0,eG.Rs)(eH.TNJ,{id:I?.team_id||U?.id||""},{enabled:!!(I?.team_id||U?.id)}),es=!!ei.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,ec=a.createElement("div",null),em=a.createElement(nQ.$f,{options:b,selectedView:w,dispatch:M}),eu=a.createElement("div",{className:x.s.flex.$},em,eo),ep=a.createElement(nQ.C9,{options:b,selectedView:w,dispatch:M,sharedWithYouFilters:E});ec=a.createElement("div",{...o_.xk(!u||el?mI.viewBarWrapper:mI.viewBarWrapperWithTopPadding)},a.createElement(nQ.lU,{leftSide:ep,rightSide:eu}));let[ef,eg]=a.useState([]);if((0,dV.Cm)(ef),0===Z.length){let e=(()=>{if(v.length>0&&""!==g){let e=g??(0,k.t)("file_browser.tiles_view.default_overfiltered_text");return a.createElement("div",{className:mc,"data-test-id":"over-filtered-state-text"},e)}let e="";return(i?e=i:(f.Ay.mobile||f.Ay.tablet)&&(e=(0,k.t)("file_browser.folder.this_project_is_empty")),e)?a.createElement("div",{className:mc,"data-test-id":"empty-state-text"},e):null})();if(e)return a.createElement("div",{className:ms},!s&&ec,a.createElement("div",{className:x.s.flex.$},e,$&&a.createElement("div",{className:x.s.mr32.$},a.createElement(ml.R,{teamId:U.id,canEditTeam:el})),j&&a.createElement("div",{className:x.s.mr32.$},a.createElement(mo,{team:U,canAdminTeam:es}))));if(l)return a.createElement("div",{className:ms},l)}let eE=mi+(H?` ${dY._O} `:` ${dY.CK} `),eb=v.length>0;if(!L&&!(0,o.k)().stop_rendering_tiles_view_loading_spinner)return a.createElement("div",{className:"tiles_view--loading--6rn3X"},a.createElement(oH.k,null));let eh=!H&&G>0&&D?.isAtFileLimit&&!B(),ev=eh?(()=>{if(0===G)return 0;let e=window.innerWidth-md.sidebar-md.metaContainer,t=md.singleTileWithPadding-md.singleTile;return Math.max((e-md.tileGridOuterPadding-G*t)/G/mm+md.tileGridOuterPadding,0)})():void 0,ey=!!U?.restrictions_list?.includes(eP.P4.LOCKED),ew=$||ey&&j;return a.createElement("div",{className:mi},a.createElement("div",{className:eE},!s&&ec,a.createElement("div",{className:x.s.flex.$},eb&&a.createElement(d0.d,{sortConfig:b.tileSortFilterConfig.sort,handleOpenTile:er,items:Z,sortBy:e=>{let t=b.tileSortFilterConfig,r=t.sort.dir===il.ue.DESC?il.ue.ASC:il.ue.DESC;M(ex.JF({selectedView:w,config:{...t,sort:{key:e,dir:e===t.sort.key?r:t.sort.dir}},tab:"recentsAndSharing"===w.view?w.tab:void 0}))},viewType:H?il.XU.LIST:il.XU.GRID,updateRenderedItems:eg,handleOpenDropdown:ea,checksForViewOnlyLabels:ew?{teamId:U.id,isLockedTeam:!0}:void 0}),eb&&($?a.createElement("div",{className:x.s.mr32.$},a.createElement(ml.R,{teamId:U.id,canEditTeam:el})):j?a.createElement("div",{className:x.s.mr32.$},a.createElement(mo,{team:U,canAdminTeam:es})):a.createElement(dJ,{canEditTeam:el,isDraftsFolder:S}))),eh&&a.createElement(a6.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},a.createElement("div",{className:"tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh"},[...Array(G)].map((e,t)=>a.createElement(dK,{key:t}))),a.createElement("div",{className:"tiles_view--upgradeOverlay--ZwyMN",style:{marginTop:`-${ev}px`,height:`${ev}px`}},a.createElement("p",{className:"tiles_view--upgradeTitle--PFF3i text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.ready_for_an_upgrade")),a.createElement("p",{className:"tiles_view--upgradeText--ApEbY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.do_more_paid_plan",{lineBreak:a.createElement("br",null)})),a.createElement(s1.$z,{onClick:()=>{if(D){let e=a7.b.TILES_VIEW_UPSELL;M((0,tS.to)({type:a4.V,data:{upsellSource:e,teamId:D.team.id}}))}},trackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS},variant:"primary"},(0,k.tx)("file_browser.folder.view_plans")))),!(f.Ay.mobile||f.Ay.tablet)&&p&&!F&&!eb&&!eh&&a.createElement("div",{className:x.s.flex.$},a.createElement("div",{className:"tiles_view--importPrompt--srrJn"},a.createElement("div",{className:mc},a.createElement("div",{className:"tiles_view--emptyTitle--3Vwmu"},u?(0,k.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,k.t)("file_browser.folder.no_files_yet")),(0,k.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch_with_pptx"))),$?a.createElement("div",{className:x.s.mr32.$},a.createElement(ml.R,{teamId:U.id,canEditTeam:el})):j?a.createElement("div",{className:x.s.mr32.$},a.createElement(mo,{team:U,canAdminTeam:es})):a.createElement(dJ,{canEditTeam:el,isDraftsFolder:S}))),(()=>{let e=A?.tile??null,t=A?.index;return a.createElement(a6.fu,{name:u?lu.e0.PROJECT_TILES_VIEW_DROPDOWN:lu.e0.TILES_VIEW_DROP_DOWN,enabled:N,properties:{tileType:e?.type,tileFileId:e?.type===ra.nb.FILE?e?.file.key:void 0}},a.createElement(ia.i,{tileActions:h,tile:e,selectedTiles:en,openTile:r=>{e&&et(e,r,t)},dropdownVisible:N}))})())}function mT({emptyStateText:e,onClaimClick:t}){return a.createElement("div",{className:ms},a.createElement("div",{className:mc},e,a.createElement("span",{className:"tiles_view--emptyButton--oAaGe"},a.createElement(o6.$n,{onClick:t,variant:"secondary"},a.createElement("div",{style:{fontWeight:400}},(0,k.tx)("tile.empty.join_as_owner"))))))}let mI={viewBarWrapper:{pointerEvents:"x47corl",$$css:!0},viewBarWrapperWithTopPadding:{pointerEvents:"x47corl",paddingTop:"xyamay9",$$css:!0}};var mC=r(453805),mS=r(42651);function mx(){let e=(0,X.d)(),t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o=(0,ee.vt)(),l=(0,W.Yz)(),i=(0,Q.R)(t),s=(0,W.Xs)(),c=(0,dF.xx)(e=>({tileSortFilterConfig:e,sortKeys:[il.C0.TRASHED_AT,il.C0.NAME,il.C0.CREATED_AT,il.C0.TOUCHED_AT]}))(r.deletedFiles),{creatorFilter:d,fileTypeFilter:m}=function(e){let t="your_files";switch(e.tileSortFilterConfig.filters.creator){case il.rJ.SELF:t="your_files";break;case il.rJ.OTHER:t="other_files";break;case il.rJ.ANY:t="all";break;default:(0,C.xb)(e.tileSortFilterConfig.filters.creator)}let r="";switch(e.tileSortFilterConfig.filters.fileType){case il.t2.DESIGN:r="design";break;case il.t2.FIGJAM:r="whiteboard";break;case il.t2.PROTOTYPE:r="prototype";break;case il.t2.SLIDES:r="slides";break;case il.t2.SITES:r="sites";break;case il.t2.COOPER:r="cooper";break;case il.t2.MAKE:r="figmake";break;case il.t2.ANY:r="";break;default:(0,C.xb)(e.tileSortFilterConfig.filters.fileType)}return{creatorFilter:t,fileTypeFilter:r}}(c),u=(0,ez.rC)({reportErrorsToTeam:M.e.WAYFINDING}),{subscription:_,fetchNextPage:p,isFetchingNextPage:f}=function(e){let t=(0,eG.Rs)(eH.R89,{...e,firstPageSize:55}),r=(0,a.useCallback)(()=>{let e=t.data?.trashedResources;"loaded"===t.status&&e&&e.hasNextPage()&&e.loadNext(55)},[t,55]),o="loaded"===t.status&&t.data.trashedResources.isLoadingNextPage,l=(0,a.useMemo)(()=>t.transform(e=>{let t=e.trashedResources;return t?t.reduce((e,t)=>{if(t.file){var r;e.push((r=t.file,{type:ra.nb.FILE,file:{...r,signedPreviewThumbnailUrls:null},sharedWithYouFields:null}))}else if(t.repo){let r=function(e){if(!e.sourceFile)return null;let t=mS.H.toSinatra(e);return{type:ra.nb.REPO,repo:t,branches:[rl.F.toSinatra(e.sourceFile)],selectedBranchKey:e.sourceFile.key}}(t.repo);r&&e.push(r)}return e},[]):[]}),[t]),i=(0,n.wA)();return(0,a.useEffect)(()=>{if(l.data){let e=l.data?.filter(e=>e.type===ra.nb.FILE).map(e=>rl.F.toSinatra(e.file))||[],t=l.data?.filter(e=>e.type===ra.nb.REPO).map(e=>e.repo)||[];i(t3.uo({files:e})),i(t9.uo({repos:t}))}},[l.data,i]),{subscription:l,fetchNextPage:r,isFetchingNextPage:o}}({cursor:null,creatorFilter:d,fileTypeFilter:m,sortType:c.tileSortFilterConfig.sort.key===il.C0.TRASHED_AT?"trashed_at":"name",sortDirection:c.tileSortFilterConfig.sort.dir===il.ue.ASC?"asc":"desc",planId:u?.key.parentId??null,planType:u?.key.type??null,queryParams:null}),g=(0,a.useMemo)(()=>_.unwrapOr([]),[_]),{trackPerformanceEvent:E}=(0,mC.S)("trashed_resources_pagination_performance","livegraph",!0);(0,a.useEffect)(()=>{E("fetch_end")},[E,g.length]),(0,a.useEffect)(()=>{"errors"===_.status&&E("fetch_error",{errors:JSON.stringify(_.errors??{})})},[E,_.status,_.errors]),(0,a.useEffect)(()=>(E("fetch_start"),()=>{E("fetch_cancel")}),[E]);let b=a.useCallback(()=>{f||(E("fetch_next"),p())},[f,p,E]),h=c.tileSortFilterConfig.filters,v=c.tileSortFilterConfig.sort;return a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==_.status,loadingElementClassName:x.s.pr32.$},a.createElement(dW.B,{key:`${d}-${h.fileType}-${v.key}-${v.dir}`,onShouldFetchNextPage:b,isFetchingNextPage:f},a.createElement(mk,{tiles:g,tileActions:{restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!e},sortFilterOptions:c,isEligibleForLockedRedesign:l,isInLockedProTeamRevampExp:s,isTeamLockedDueToStarterLimits:o,isEligbileForProTeamLockedRevampUI:i})),a.createElement(dk.cx,null))}function mk({tiles:e,tileActions:t,sortFilterOptions:r,isEligibleForLockedRedesign:n,isInLockedProTeamRevampExp:o,isTeamLockedDueToStarterLimits:l,isEligbileForProTeamLockedRevampUI:i}){return a.createElement(mw,{tiles:e,newFileTile:!1,tileActions:t,sortFilterOptions:r,hideSorter:!0,emptyStateText:(0,k.t)("file_browser.tool_bar.trashed_empty_state"),eligibleForLockedStateRedesign:n(l),isInLockedProTeamRevampExp:o(i)})}var mN=r(482675),mR=r(39113),mA=r(40165),mO=r(976308),mL=r(988540),mF=r(515071);function mP(e,t,r){return e&&t&&!(0,aR.w5)(e)&&"recentsAndSharing"!==r&&"trashedFolders"!==r}function mD({canEditTeam:e}){let t=(0,n.wA)(),r=(0,nM.ol)(),o=(0,ek.z3)(),l=(0,g.I7)("exp_fbg_project_limit_upsell"),i=nE.h.useTrackingContext({trigger:a7.b.FOLDER_UPSELL_CARD});if(!(0,ez.yN)({component:"FolderUpsellCard",attribute:"canShowUpsellValue",legacy:t=>!!mP(t,e,o),migrated:t=>!!t&&!!e&&t.tier===eP.Ag.STARTER&&"recentsAndSharing"!==o&&"trashedFolders"!==o})||!l.getConfig().getValue("show_upsell",!1))return null;let s=a.createElement(ea.Us,{className:x.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...i},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return a.createElement(a6.fu,{name:"Folder Upsell Card",properties:i},a.createElement(a6.$z,{className:U()(x.s.flex.flexColumn.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{t((0,tS.to)({type:mF.DV,data:{team:r,resource:mL.vL.FOLDER,action:ru.ZN.CREATE_FOLDER,currentPlan:mO.F.Plan.STARTER,upsellPlan:mO.F.Plan.PRO,editorType:null,upsellSource:a7.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},a.createElement("div",{className:x.s.relative.wFull.$},a.createElement(mA.X,{FileThumbnailComponent:mM}),a.createElement("div",{style:ec.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},a.createElement(ny.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},a.createElement(lH.In,{icon:"new-40",fill:"onbrand"})))),a.createElement(ny.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),a.createElement(N.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s})))))}function mM(){return a.createElement("div",{className:x.s.wFull.hFull.colorBg.$})}function mB({canEditTeam:e}){let t=(0,n.wA)(),r=(0,nM.ol)(),o=(0,ek.z3)(),l=nE.h.useTrackingContext({trigger:a7.b.FOLDER_UPSELL_CARD}),i=(0,g.I7)("exp_fbg_project_limit_upsell");if(!mP(r,e,o)||!i.getConfig().getValue("show_upsell",!1))return null;let s=a.createElement(ea.Us,{className:x.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tS.to)({type:a4.V,data:{upsellSource:a7.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...l},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return a.createElement(a6.fu,{name:"Folder Upsell List",properties:l},a.createElement("div",{className:x.s.flex.mt16.bRadius8.b1.colorBorder.$,style:ec.sx.add({borderStyle:"dashed"}).$},a.createElement(a6.$z,{className:U()(x.s.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.pl36.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,tS.to)({type:mF.DV,data:{team:r,resource:mL.vL.FOLDER,action:ru.ZN.CREATE_FOLDER,currentPlan:mO.F.Plan.STARTER,upsellPlan:mO.F.Plan.PRO,editorType:null,upsellSource:a7.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},a.createElement("div",{className:U()(x.s.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf")},a.createElement("div",{style:ec.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},a.createElement(ny.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},a.createElement(lH.In,{icon:"plus-32",fill:"onbrand"}))),a.createElement(ny.Y,{direction:"vertical",spacing:4},a.createElement(ny.Y,{direction:"horizontal",spacing:4},a.createElement(ny.Y,{cornerRadius:2,backgroundColor:"default"}),a.createElement(ny.Y,{cornerRadius:2,backgroundColor:"default"})),a.createElement(ny.Y,{direction:"horizontal",spacing:4},a.createElement(ny.Y,{cornerRadius:2,backgroundColor:"default"}),a.createElement(ny.Y,{cornerRadius:2,backgroundColor:"default"})))),a.createElement(ny.Y,{direction:"vertical",spacing:0},a.createElement(N.E,{fontSize:13},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),a.createElement(N.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s}))))))}var mU=r(698400),m$=r(12282),mj=r(163256),mW=r(367773),mG=r(24096),mV=r(31820);let mH="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd";var mz=r(367542);function mY(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dropdownShown),o=(0,n.d4)(e=>e.folders),l=(0,n.d4)(e=>e.currentUserOrgId),i=(0,tw.S)(),s=(0,n.d4)(e=>e.user),c=(0,eF.FC)(),d=(0,ez.Xd)().unwrapOr(null),m=!!(d&&d.key.type===eP.h4.ORG_USER&&!(0,ez.A8)(d,eP.Xn.MEMBER)),u=e.folderList.map(e=>({...e,canView:(0,t5.canViewFolder_DEPRECATED)(e.id,c),hideSubtitle:m})),_=()=>e.viewMode===il.XU.LIST,p=!!e.teamId&&!!e.eligibleForLockedStateRedesign,f=!!e.teamId&&!!e.isInLockedProTeamRevampExp,g=(0,Q.jn)()&&!!e.isInLockedProTeamRevampExp,E=e.teamId?{teamId:e.teamId,isLockedTeam:!!e.eligibleForLockedStateRedesign||g}:void 0,b=i?(0,mU.H)(r):void 0;return 0===u.length?a.createElement(a.Fragment,null,e.onCreateNewFolder&&!(0,mG.R$)(s,l)?a.createElement("div",{className:mH},e.canEditTeamContents?a.createElement(a.Fragment,null,a.createElement("div",{className:"folder_list_view--emptyTitle--t1u0a tiles_view--emptyTitle--3Vwmu"},(0,k.tx)("team_view.folder_empty_view.no_projects_yet")),(0,k.tx)("team_view.folder_empty_view.projects_help_you_organize"),a.createElement(ea.cw,{className:"folder_list_view--emptyButton--g-yAA tiles_view--emptyButton--oAaGe",onClick:e.onCreateNewFolder},a.createElement(es.B,{svg:mz.A,className:"folder_list_view--newProjectIcon--O3wnv tiles_view--newFileIcon--LR1sm"}),(0,k.tx)("team_view.folder_empty_view.new_project"))):(0,k.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")):null!=e.emptyStateText?a.createElement("div",{className:x.s.flex.gap32.$},a.createElement("div",{className:mH},e.emptyStateText),p&&a.createElement(ml.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&f&&a.createElement(mo,{team:e.team,canAdminTeam:!!e.canAdminTeam})):(0,k.tx)("team_view.folder_empty_view.no_projects")):a.createElement(a.Fragment,null,(()=>{let t=u.length>=2?1:1===u.length?0:void 0;return a.createElement("div",{className:x.s.gap36.flex.flexRow.wFull.$},a.createElement("div",{className:x.s.wFull.$},a.createElement(m$.m,{checksForViewOnlyLabels:E,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:"project-card",dataOnboardingKeyIndex:t,folderList:u,hideSubtitleInGrid:!!m,isSharerInfoIncluded:e.isSharerInfoIncluded,onChangeSortOptions:e.onChangeSortOptions,showTeamNameOrAuthor:e.showTeamNameOrAuthor,trailingGridElements:p&&f?a.createElement(a.Fragment,null):a.createElement(mD,{canEditTeam:e.canEditTeamContents}),viewType:e.viewMode}),(!p||!f)&&_()&&a.createElement(mB,{canEditTeam:e.canEditTeamContents})),p&&a.createElement(ml.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&f&&a.createElement(mo,{team:e.team,canAdminTeam:!!e.canAdminTeam}))})(),b&&a.createElement(mj.p,{folder:b,onRenameClick:()=>{if(!b||!b.canEdit)return;let e=o[b?.id];e&&(t((0,t6.WC)()),t((0,tS.to)({type:(0,mR.y)(),data:{folder:e}})))}}))}let mK=[rm.Dq.NAME,rm.Dq.TEAM,rm.Dq.OWNER,rm.Dq.LAST_MODIFIED],mq=[rm.Dq.SHARED_AT],mJ=[rm.Dq.NAME,rm.Dq.TEAM,rm.Dq.OWNER,rm.Dq.LAST_MODIFIED,rm.Dq.SHARED_AT],mX=[rm.Dq.NAME,rm.Dq.LAST_MODIFIED],mQ={[rm.Dq.NAME]:il.ue.ASC,[rm.Dq.TEAM]:il.ue.ASC,[rm.Dq.OWNER]:il.ue.ASC,[rm.Dq.LAST_MODIFIED]:il.ue.DESC,[rm.Dq.SHARED_AT]:il.ue.DESC},mZ={[il.XU.GRID]:{[rm.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rm.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rm.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rm.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rm.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rm.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")},[il.XU.LIST]:{[rm.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rm.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rm.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rm.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rm.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rm.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")}},m0={viewMode:il.XU.GRID,sortMode:{sortKey:rm.Dq.LAST_MODIFIED,sortDesc:!0}},m1={...m0,sortMode:{sortKey:rm.Dq.SHARED_AT,sortDesc:!0}},m4={name:dz.f.byProperty("name",dz.f.LEXICOGRAPHICALLY),lastModified:dz.f.byProperty("folderLastUpdated"),team:dz.f.byProperty("folderTeamName",dz.f.LEXICOGRAPHICALLY),owner:dz.f.byProperty("folderOwnerName",dz.f.LEXICOGRAPHICALLY),sharedAt:dz.f.byProperty("folderSharedAt"),createdAt:dz.f.byProperty("created_at"),trashedAt:dz.f.byProperty("trashed_at")};function m5(e){let{folderList:t,...r}=e,o="trashedFolders"===e.selectedView.view,l=(0,n.d4)(e=>e.teams),i=(0,n.d4)(e=>e.roles),s=(0,n.d4)(e=>e.viewBarViewModeOptionByView),c=(0,n.d4)(e=>e.viewBarSortOptionsByView),d=(0,n.d4)(e=>e.tileSortFilterStateByView),m=e.isSharerInfoIncluded?mq:mK,u=e.showTeamNameOrAuthor?m:mX,_=e.isSharerInfoIncluded?m1:m0,p=a.useMemo(()=>({viewMode:(0,mV.y2)(e.viewId,s,_.viewMode),sortMode:(0,mV.bV)(e.viewId,{viewBarSortOptionsByView:c},u,_.sortMode)}),[_.sortMode,_.viewMode,e.viewId,u,c,s]),f=(0,n.wA)(),g=t=>{f(ex.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},E=t=>{f(ex.uV({viewId:e.viewId,viewMode:t}))},b=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--YBKhp folder_list_view--columns--k84Gi":"folder_list_view--allFolderColumnHeader--MGmSg folder_list_view--columns--k84Gi",h=e.showTeamNameOrAuthor?b:"folder_list_view--basicFolderColumnHeader--dZmjY folder_list_view--columns--k84Gi",v="sharedWithYou"===e.selectedView.view,y="recentsAndSharing"===e.selectedView.view,w=!v&&!y&&!o,T=a.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=d.trashedFolders,r=o?m4[(0,il.jx)(t.sort.key)??"trashedAt"]:m4[p.sortMode.sortKey];if(!r)return e.folderList;let a=o?t.sort.dir===il.ue.DESC?dz.f.reverse(r):r:p.sortMode.sortDesc?dz.f.reverse(r):r,n=e.folderList.map(e=>({...e,...(0,mW.Z)({teams:l,roles:i},e)}));return n.sort(a),n},[e.selectedView.view,p.sortMode.sortKey,p.sortMode.sortDesc,e.folderList,l,i,o,d.trashedFolders]),I=o&&p.viewMode===il.XU.GRID?"folder_list_view--trashedGridViewContainer--efhyK":"folder_list_view--tabContentContainer--lHQoT";return a.createElement("div",{className:o&&p.viewMode===il.XU.LIST?void 0:I},v?a.createElement(m2,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:E,viewBarOptions:p}):null,w?a.createElement(nQ.fB,{displayColumns:v?mJ:u,hideViewModeToggle:v||y,initialSortOrders:mQ,listHeaderClassName:`folder_list_view--listViewHeader--kUvYs text--fontPos13--xW8hS text--_fontBase--QdLsd ${h}`,listSortKeys:u,mobileListSortKeys:u,onChangeSortOptions:g,onChangeViewModeOption:E,options:p,sortKeyDescriptions:mZ,sortKeys:u,tabletListSortKeys:u}):null,o&&d.trashedFolders.filters.role===il.Jh.CAN_BE_VIEWED&&a.createElement("div",{className:`${x.s.mb16.$} ${p.viewMode===il.XU.LIST&&x.s.px32.$}`},a.createElement(mN._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:mN.S.INFORMATION,text:a.createElement("p",{className:x.s.fontMedium.$},a.createElement("span",{className:x.s.fontSemiBold.$},(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")),"\xa0",(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content"))})),a.createElement(mY,{folderList:T,chunkSize:e.chunkSize,viewMode:p.viewMode,onChangeSortOptions:g,...r}))}function m2(e){let{sortFilterOptions:t,sharedWithYouFilters:r,onChangeViewModeOption:o,viewBarOptions:l}=e,i=(0,n.wA)(),s=(0,ek._6)();if("sharedWithYou"!==s.view)return null;if(null==t)return(0,C.KF)(!0,`sortFilterOptions prop is ${t}`),null;let c=a.createElement(nQ.$f,{options:t,selectedView:s,dispatch:i}),d=a.createElement("div",{className:x.s.flex.alignCenter.$},a.createElement(nQ.$c,{initialViewMode:l.viewMode,onViewModeChange:o})),m=a.createElement("div",{className:x.s.flex.$},c,d),u=a.createElement(nQ.C9,{options:t,selectedView:s,dispatch:i,sharedWithYouFilters:r});return a.createElement(nQ.lU,{leftSide:u,rightSide:m})}function m7(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,nM.ol)(),r=(0,eG.Rs)(eH.kQI,{id:t?t.id:""},{enabled:!!t?.id}),o=(0,eG.Rs)(eH.TNJ,{id:t?t.id:""},{enabled:!!t?.id}),l=(0,n.d4)(e=>e.tileSortFilterStateByView),i=(0,ek._6)(),s=(0,W.Yz)(),c=(0,Q.R)(t?.id),d=(0,W.Xs)(),m=l.trashedFolders,[{data:u,status:p}]=(0,_.IT)((0,te.p5)({orgId:e,teamId:t?.id??null,roleFilter:m.filters.role})),f="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission,g="loaded"===o.status&&!!o.data.team&&o.data.team.hasPermission,E=(0,n.d4)(e=>!!t&&!(0,aR.w5)(t)&&!!(0,aR.oc)(t.id,e));return a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loading"!==p,loadingElementClassName:x.s.pr32.$},a.createElement("div",{style:ec.sx.mt1.$},a.createElement(m5,{canAdminTeam:g,canEditTeamContents:f,chunkSize:u?.folders?.length||0,eligibleForLockedStateRedesign:s(E),emptyStateText:(0,k.t)("file_browser.trash_project.trashed_empty_state"),folderList:u?.folders||[],isInLockedProTeamRevampExp:d(c),isSharerInfoIncluded:!1,selectedView:i,showTeamNameOrAuthor:!1,team:t,teamId:t?.id,useLGPerms:!0,viewId:dD.l})))}var m3=(e=>(e.FILES="files",e.FOLDERS="folders",e))(m3||{});function m8(e){let t=(0,ek._6)();if("deletedFiles"!==t.view&&"trashedFolders"!==t.view)return a.createElement(a.Fragment,null);let r=a.createElement(dj,{currView:t}),n="folders"===e.selectedTab?a.createElement(m7,null):a.createElement(mx,null);return a.createElement(o8.r,{viewBarSticky:!0,viewbar:r,content:n})}var m6=r(218622);let m9=[ev.Wb3,ev.KoA,ev.Ult,ev.kmq,ev.USq,ev.jQF,ev.Ob5,ev.s7O,ev.Qlc,ev.I$z,ev.X5_,ev.RJL,ev.LB2,ev.I5n,ev.Msu,ev.UmN,ev.Ql8,ev.pIP,ev.Q16,ev.O5v,ev.rv,ev.HaT,ev.rQs,ev.YHe,ev.hxO,ev.sqw,ev.Duq,ev.yjU,ev.BTz,ev.I3H,ev._9u,ev.jVB,ev.syA,ev.tZO,ev.LPt,ev.cJy,ev.tUL,ev.zMZ,ev.tBR,ev.K69,ev.Tp6,ev.fz8,ev.XIg,ev.fQh,ev.O9D,ev.c6t,ev.NM0,ev.YPG,ev.j9$,ev.LQ8,ev.r3Y].map(e=>e.id);function ue({children:e}){return a.createElement(m6.A,{name:"FileBrowser",order:m9},e)}var ut=r(652466),ur=r(547884);function ua(e){let t=(0,ur.Gs)(e.currentOrgId),r=(0,ek._6)(),o=(0,n.wA)(),l=t.data.sort((e,t)=>e.library_name.localeCompare(t.library_name));return a.createElement(et.J,null,a.createElement(en.A,{loadingElementClassName:"component_browser--loadingPage--2PvBR",loadingElementId:"loading-content-pane",loaded:"loading"!==t.status},a.createElement("div",{className:"component_browser--container--JDAK4"},a.createElement(io.A,{viewType:il.XU.GRID,getAriaLabel:e=>e.library_name,items:l,multiselectDisabled:!0,handleOpenItem:e=>{o(ex.$T({...r,view:"componentBrowserLibrary",libraryKey:e.library_key,libraryName:e.library_name}))},gridViewProps:{tileBorderRadius:8,nestedFocus:!1,renderTile:un,renderTileFooter:uo}}))))}function un(e){return a.createElement("div",{className:"component_browser--libraryCardImageContainer--fbm1x"},e.thumbnail_url&&a.createElement(sA.oW,{className:"component_browser--libraryCardImage--n74kQ",src:e.thumbnail_url,alt:e.library_name}))}function uo(e){return a.createElement("div",{className:"component_browser--libraryCardHangTag--y4UA3"},a.createElement("div",{className:"component_browser--libraryCardName--xHT1J text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.library_name),a.createElement("div",{className:"component_browser--libraryCardWorkspace--9dRda text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.workspace_name||e.team_name))}var ul=r(435090);let ui=e=>{switch(e){case il.t2.DESIGN:return"design";case il.t2.FIGJAM:return"whiteboard";case il.t2.PROTOTYPE:return"prototype";case il.t2.SITES:return"sites";case il.t2.SLIDES:return"slides";case il.t2.COOPER:return"cooper";case il.t2.MAKE:return"figmake";case il.t2.ANY:return"";default:(0,C.xb)(e)}},us=e=>{switch(e){case il.C0.NAME:return"name";case il.C0.CREATED_AT:return"created_at";case il.C0.TOUCHED_AT:return"updated_at";default:return(0,aD.$D)(M.e.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var uc=r(96321),ud=r(361515),um=r(320409),uu=r(263144),u_=r(259974),up=r(995946),uf=r(50978),ug=r(814281),uE=r(67275);let ub=(0,tT.Ju)(function(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.teams)[e.teamId].subscription,o=e.paymentRequiresAction;return(0,a.useEffect)(()=>{uE.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,iE.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,a.useEffect)(()=>{o||r===eP.Qh.INCOMPLETE||t(tS.ES({type:ub.type}))},[r,t,o]),a.createElement(a_.Eo,{title:(0,k.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,k.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:e_.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},(0,k.tx)("payments.pending_subscription_modal_description"))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var uh=r(448392);let uv="banners--warn--bC4ke",uy="banners--primaryCtaButton--tyhCJ",uw="banners--content--ciED3",uT="banners--titleSmall--ceZgU",uI="banners--bold--qt00U",uC="banners--message--9BMLM",uS="banners--messageSmall--YT-82",ux="banners--secondaryCtaButton--uYrvi",uk="banners--ctaButtonGroup--r8cfU",uN="banners--closeButton--IXY-V",uR="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",uA="banners--teamUpgradeNotice--gqc9c",uO="banners--softWarningBanner--QK9Y5",uL="banners--softWarningBannerBlue--uQmhb";var uF=r(616591),uP=r(169256),uD=r(205778),uM=r(128912);function uB(e,t,r){let n=a.useMemo(()=>({canAdmin:(0,t5.canAdminOrg)(e.currentUserOrgId,e),canMember:(0,t5.canMemberOrg)(e.currentUserOrgId,e)}),[e]),o=(0,ez.j_)(),l=(0,ez.Kd)(),i=a.useMemo(()=>t4.Qw.transformAll([o,l],(e,t)=>({canAdmin:e,canMember:t})),[o,l]),s=(0,r6.MF)({oldValue:t4.Qw.useMemoizedLoaded(n),newValue:i,label:r,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_3)});return a.useMemo(()=>s.transform(({canAdmin:r,canMember:n})=>(function(e,t,r,n){let o;if(!e.currentUserOrgId||!(0,aR.wn)(e.currentUserOrgId,e))return null;let l=e.orgById[e.currentUserOrgId];if(!l)return null;let i=l.past_due_at&&(0,em.A)(l.past_due_at).add(2,"weeks")>(0,em.A)(new Date);if(!r&&i)return null;let s=e.orgUsersByOrgId[e.currentUserOrgId]??{},c=(0,eg.zR)(s).map(e=>a.createElement("span",{key:e.id,className:uI},e.user.handle," (",e.user.email,")"));return o=r?l.billing===uu.EZ.CHARGE_IMMEDIATELY?(0,k.tx)("payments.org_past_due_on_payment",{invoice:a.createElement("a",{onClick:()=>{t?.(ex.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eY.J7.BILLING}))}},(0,k.tx)("payments.outstanding_invoice")),orgName:l.name}):(0,k.tx)("payments.org_past_due_on_payment_invoiced",{email:a.createElement("b",{className:uI},(0,aZ.W4)()),orgName:l.name}):(0,k.tx)("payments.please_reach_out_to_org_admins",{orgName:l.name,admins:n&&a.createElement("span",null," ",a.createElement(ud.T,{formatType:"disjunction"},c)),numAdmins:c.length}),{severity:uh.c.WARN,title:(0,k.t)("payments.payment_not_received"),message:o,cta:null,onClickCta:null}})(e,t,r,n)),[t,s,e])}function uU(e,t,r,n,l,i){return uB(n,l,i).transform(i=>i||function(e,t,r,n,l){let i=r?n.teams[r]:null;if(r&&!i||"file"===e)return null;let s=n.currentTeamId,c=i&&i.subscription===eP.Qh.GRACE_PERIOD,m=n.billingSummary,u=i?.subscription===eP.Qh.INCOMPLETE,_=!!i?.org_id,p=!!i?.subscription,g=e=>e?.status==="open"&&e?.payment_intent?.status===ru.pk.REQUIRES_SOURCE_ACTION,E=(0,o.k)().requires_action_3ds_banner&&c&&!_&&p&&(g(m?.last_monthly_invoice)||g(m?.last_annual_invoice)),b=c&&!E,h=i&&(u||E),v=i&&i.subscription===eP.Qh.PAST_DUE,y=i&&i.subscription===eP.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,w=r&&(0,t5.canOwnTeam)(r,n),T=r&&(0,t5.canAdminTeam)(r,n),I=r&&(0,t5.canEditTeam)(r,n),C=i&&(0,aR.oc)(i.id,n),S=i&&!(0,aR.n0)(i)&&!i.student_team&&C,x=i&&(i.student_team_state===eP.kU.STUDENT_TEAM_CURRENT||i.student_team_state===eP.kU.STUDENT_TEAM_EXPIRED),N="folder"===e?t:null,R=0,A={showReminder:!1,showAccessRestricted:!1},O=r||N?.team_id,L="folder"===e&&!N,F=!!(0,o.k)().limited_plan_spaces&&(0,aZ.Ay)().is_limited_team_plan&&L;if(n.user){let t=O?(0,t5.getRolesForUserAndTeam)(O,n):[],r=O&&(0,t5.hasMinRole)(t,up.e6.EDITOR),a=["folder","team"].includes(e)&&r,o=(0,nF.cn)(n.user),l=n.userEduGracePeriods;L?s&&(0,nF.hP)(n.user.id,n.roles.byTeamId,n.teams[s])&&(A=(0,nF.df)(l,o),R=(0,nF.Me)(l)):O&&a&&(A=(0,nF.GU)(l,o,O,!!n.teams[O].student_team),R=(0,nF.qS)(l,O))}let P=i&&!(0,aR.n0)(i)&&!i.student_team&&N&&!(0,rW.Gi)(N),D=P&&N.is_invite_only,M=P&&N.is_view_only,B=N&&(0,rW.sp)(N),U=!B&&!i&&N&&(0,aR.ZZ)(N,n),$=()=>l?.(s4.WX({teamId:i.id,selectedView:n.selectedView})),j=e=>{e.preventDefault(),l?.(tS.to({type:ug.v,data:{teamId:r}}))},W=()=>{l?.(ex.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:eK.Iv.SETTINGS}))},G=()=>d.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank"),V=()=>l?.(s4.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),H=()=>l?.(tS.to({type:a4.V,data:{upsellSource:a7.b.BANNER}})),z=(0,aR._b)(i),Y=i&&i.subscription_raw!==eP.Qh.OK&&(0,aR.WQ)(i)&&T&&nT.ng.getProTrialStatus(i)!==u_.a.IN_TRIAL&&z,K=["team","folder"].includes(e)&&I&&(0,nM.cU)(i),q=I&&function(e,t){let r=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,nM.zs)(e)&&!r}(i,n.userTeamFlags),J=(0,mG.R$)(n.user,n.currentUserOrgId),X=nT.ng.canSeeExpiredProTrialBanner(n.userTeamFlags,i,n),Q=i&&n.userTeamFlags[i.id]?.[nT.lg],Z=X&&(C||I&&!Q),ee=n.user?(0,nF.x$)(n.eduPeriodEnd,(0,nF.cn)(n.user)):1/0,et=ee>0&&ee!==1/0,er=0===ee,en=i&&i.student_team_state===eP.kU.STUDENT_TEAM_CURRENT,eo=i&&i.student_team_state===eP.kU.STUDENT_TEAM_EXPIRED&&C,el=et&&w&&en,ei=er&&w&&eo,es=et&&I&&en,ed=er&&!I&&en,eu=(0,o.k)().edu_offboarding_experience&&(el||ei||es||ed),ep=(0,o.k)().edu_offboarding_experience&&eo,ef=!n.checks||!n.checks.isInLockedProTeamRevampExp||!n.checks.isInLockedProTeamRevampExp(!!b&&!!T),eg=!n.checks||!n.checks.isInLockedProTeamRevampExp||!n.checks.isInLockedProTeamRevampExp(!!v);if(b&&ef)return{severity:uh.c.WARN,title:(0,k.t)("payments.payment_failed"),message:(0,k.t)("payments.payment_failed_explanation"),cta:T?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:e_.c.UPDATE_PAYMENT}:void 0,onClickCta:T?W:null};if(v&&eg)return{severity:uh.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.locked_description",{teamName:i.name}),cta:T?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:e_.c.UPDATE_PAYMENT}:void 0,onClickCta:T?W:null};if(y)return{severity:uh.c.WARN,title:(0,k.t)("payments.locked"),message:T?a.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:a.createElement("a",{href:`mailto:${(0,aZ.W4)()}`},(0,k.tx)("payments.contact_support"))})):a.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")),cta:T?(0,k.t)("payments.manage_plan"):null,onClickCta:T?()=>{l?.(ex.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:eK.Iv.SETTINGS}))}:null};if(Z){let e,t,n,o;return C?(e=I?(0,k.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:i.name,lowerUsageLink:a.createElement(a6.$z,{onClick:j},(0,k.tx)("payments.pro_trial_expiry.lower_usage"))}):(0,k.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),t=I?(0,k.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,n=`${uO} `,o="Pro Trial Expiry Banner Locked"):(e=i?(0,k.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:i.name}):(0,k.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,k.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),n=`${uO} ${uL}`,o="Pro Trial Expiry Banner Unlocked"),{severity:uh.c.WARN_SOFT,title:(0,k.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:I?V:void 0,svg:uP.A,bannerClassName:n,trackingContextName:o,dismissible:!C,onClose:C?void 0:()=>{r&&l?.(ni.bE({all_team_flags:[{team_id:r,flags:{[nT.lg]:!0}}]}))}}}if(F)return{severity:uh.c.WARN_SOFT,title:(0,k.tx)("file_browser.limited_space_banner.heading"),message:(0,k.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(eu){let e=()=>l?.(tS.to({type:uf.ZL,data:{team:i}}));if(el||es)return{severity:uh.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,k.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:i.name,verify:a.createElement(ea.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,k.tx)("edu.banner.verify_your_education_status"))}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:uF.A,bannerClassName:`${uO} ${uL}`,trackingContextName:"Edu Offboarding Banner"};if(ei)return{severity:uh.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:uF.A,bannerClassName:uO,trackingContextName:"Edu Offboarding Banner"};if(ed)return{severity:uh.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:uF.A,bannerClassName:uO,trackingContextName:"Edu Offboarding Banner"}}else if(ep)return{severity:uh.c.WARN_SOFT,title:(0,k.tx)("edu.banner.team_s_education_status_has_expired",{teamName:i.name}),message:(0,k.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:uF.A,bannerClassName:uO,trackingContextName:"Edu Offboarding Banner"};else if(!S||n.checks&&n.checks.isEligibleForLockedRedesign&&n.checks.isEligibleForLockedRedesign(!x&&S)){if(J){let e=n.user.external_restricted_org_id,t=(0,k.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&n.orgById[e]){let r=n.orgById[e];t=(0,k.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:r.name})}return{severity:uh.c.WARN,title:(0,k.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}if(n.user&&["team","folder"].includes(e)&&A.showAccessRestricted){let e,t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,nF.eB)(n.user.id,n.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,nF.QS)(n.user.id,n.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,k.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,k.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:uh.c.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:G,svg:uF.A,bannerClassName:uA}}if(["team","folder"].includes(e)&&A.showReminder)return{severity:uh.c.ANNOUNCEMENT,title:(0,k.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:R}),message:(0,k.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:G,svg:uM.A};else if(D||M)return{severity:uh.c.WARN,title:(0,k.t)("payments.folder_locked"),message:(0,k.t)("payments.folder_locked_description",{projectType:"Invite"==(D?"Invite":"View")?(0,k.t)("payments.invite_only_projects"):(0,k.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:I?(0,k.t)("payments.upgrade_now"):(0,k.t)("payments.contact_admin_for_details"),ctaTrackingProperties:I?{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:a7.b.BANNER}:void 0,onClickCta:I?$:null};else if(U&&"folder"===e)return(0,r6.HZ)({label:r6.A5.getBannerContent.personalProjectDeprecated,oldValue:U&&"folder"===e,newValue:!1,maxReports:3}),{severity:uh.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(B&&"folder"===e)return{severity:uh.c.WARN,title:(0,k.t)("payments.abandoned_project"),message:(0,k.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(q){let e=(0,k.t)("payments.file_limit_unified",{figmaFiles:aR.WW,figjamFiles:aR.WW});K?q||(e=(0,k.t)("payments.file_limit_figjam",{figjamFiles:aR.WW})):e=(0,k.t)("payments.file_limit_figma",{figmaFiles:aR.WW});let t=()=>a.createElement("button",{type:"button",onClick:H,className:"banners--bannerInlineTextButton--GRx12"},(0,k.tx)("payments.check_out_our_paid_plans")),r=i?a.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):a.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()}));return{severity:uh.c.ANNOUNCEMENT,title:(0,k.t)("payments.team_over_starter_team_limit_title"),message:r,cta:(0,k.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:a7.b.BANNER},onClickCta:$,svg:uD.A,bannerClassName:uA,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(Y){let e=(0,em.A)(i.grace_period_end).toDate(),t=(0,k.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:a.createElement(iv.h1,{date:e})});return z||(t=(0,k.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:uh.c.ANNOUNCEMENT,title:t,message:(0,k.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,k.t)("payments.pro_plan_ends_button"),onClickCta:V,svg:z?uD.A:uP.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:z?uA:void 0}}else if(h){let e=u?(0,k.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,k.t)("payments.complete_team_renewal_payment_description");return{severity:uh.c.WARN,title:(0,k.t)("payments.complete_payment"),message:e,cta:a.createElement(um.V,{trackingProperties:{trackingDescriptor:e_.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>l?.(tS.to({type:ub,data:{teamId:r,paymentRequiresAction:!!E}}))},(0,k.tx)("payments.complete_payment_cta")),onClickCta:null}}}else{let e;return e=T||I?a.createElement("span",null,a.createElement("b",{style:ec.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.team_over_starter_team_limit_upgrade",{teamName:i.name,lowerYourUsage:a.createElement("a",{href:"#",onClick:j},(0,k.tx)("payments.team_over_starter_team_limit_lower_your_usage"))})):a.createElement("span",null,a.createElement("b",{style:ec.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.contact_admin_for_details")),{severity:uh.c.WARN,title:(0,k.t)("payments.locked"),message:e,cta:I?(0,k.t)("payments.upgrade_now"):null,ctaTrackingProperties:I?{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:a7.b.BANNER}:void 0,onClickCta:I?$:null}}return null}(e,t,r,n,l))}function u$(e){let t=(0,eF.FC)(),r=(0,n.d4)(e=>e.userEduGracePeriods),o=(0,n.d4)(e=>e.userFlags),l=(0,n.d4)(e=>e.userTeamFlags),i=(0,n.d4)(e=>e.selectedView),s=(0,n.d4)(e=>e.isFreeUser),c=(0,n.d4)(e=>e.userAnalyticsData),d=(0,n.d4)(e=>e.fileKeysByFolderId),m=a.useMemo(()=>({...t,checks:e.checks,fileKeysByFolderId:d,isFreeUser:s,selectedView:i,userAnalyticsData:c,userEduGracePeriods:r,userFlags:o,userTeamFlags:l}),[t,e.checks,d,s,i,c,r,o,l]);return uU(e.resourceType||eP.vt.FOLDER,e.resource||null,e.teamId||null,m,null,e.shadowReadLabel).transform(e=>!!e)}function uj(e,t){let r={...e};return"string"==typeof t.title&&(r.title=t.title),"string"==typeof t.message&&(r.message=t.message),r}var uW=r(71631),uG=r(578888);let uV=a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),a.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},a.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),a.createElement("g",{mask:"url(#mask0_4:25)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));function uH(e){let{title:t,message:r,cta:n,ctaTrackingProperties:o,learnMoreUrl:l,onClickCta:i,severity:s,secondaryCTA:c,secondaryOnClickCta:d,svg:m,trackingContextName:u="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:g}=e;return s===uh.c.ANNOUNCEMENT?a.createElement(a6.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:uw},m&&a.createElement(es.B,{svg:m,useOriginalSrcFills_DEPRECATED:!0}),a.createElement("div",{className:uC},a.createElement("div",{className:uT},t),a.createElement("div",{className:uS},r)),a.createElement(ea.e2,{reversed:p,className:uk},i&&a.createElement(ea.vd,{className:uy,onClick:i,trackingProperties:o},n),d&&a.createElement(ea.tM,{className:ux,onClick:d},c),f&&g&&a.createElement(a8.Jn,{className:uN,onClick:g})))):s===uh.c.EVENT?a.createElement(a6.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:`${uw} ${_}`},a.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},uV),a.createElement("div",{className:uC},a.createElement("p",{className:uT},t),a.createElement("p",{className:uS},r)),a.createElement(ea.e2,{className:uk},i&&a.createElement(ea.vd,{className:uy,onClick:i,trackingProperties:o},n),d&&a.createElement(ea.tM,{className:ux,onClick:d},c),f&&g&&a.createElement(a8.Jn,{className:uN,onClick:g})))):a.createElement(a6.fu,{name:u,properties:{severity:s,...e.tracking}},a.createElement("div",{className:`${uw} ${_}`},!e.hideIcon&&a.createElement(es.B,{svg:uG.A,className:"banners--warningIcon--A5YS-",autosize:s===uh.c.WARN_SOFT}),a.createElement("div",{className:uC},a.createElement("span",{className:"banners--title--OIA0P"},t),r,l&&a.createElement("span",null,"\xa0",a.createElement("a",{target:"_blank",rel:"noopener",href:l},(0,k.tx)("payments.learn_more")))),a.createElement(ea.e2,{reversed:p,className:uk},i&&a.createElement(ea.vd,{className:uy,onClick:i,trackingProperties:o},n),!i&&a.createElement("div",{className:"banners--ctaMessage--5MB88"},n),f&&g&&a.createElement(a8.Jn,{className:uN,onClick:g}))))}let uz=(0,n.Ng)(e=>({userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!e.user?.student_validated_at,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,t5.getPermissionsState)(e)}))(function(e){let t;let r=(0,eG.Rs)(eH.UpR,{}),l=(0,W.Yz)(),i=(0,W.Xs)(),s=e.folderId?e.folders[e.folderId]:null,c=s?s.team_id:null,d=e.dispatch,m=c&&(0,t5.canAdminTeam)(c,e),u=c?e.teams[c]:null,_=!!u?.org_id,p=!!u?.subscription;(0,a.useEffect)(()=>{(0,o.k)().requires_action_3ds_banner&&c&&!_&&p&&m&&d(uW.Be({teamId:c}))},[d,c,_,p,m]);let f=(0,n.d4)(e=>e.teamBilling?.summary),g=uU(eP.vt.FOLDER,s??null,c,{eduPeriodEnd:r.data?.currentUser?.eduPeriodEnd,billingSummary:f,checks:{isEligibleForLockedRedesign:l,isInLockedProTeamRevampExp:i},...e},e.dispatch,r6.A5.FolderBannerInner.bannerContent).unwrapOr(null);if(!g)return a.createElement("div",null);t=s?uj({resourceType:eP.vt.TEAM,teamId:c,folderId:s.id},g):uj({resourceType:"recents"},g);let E=g.severity===uh.c.WARN?uv:"",b=g.bannerClassName||"",h=`${uR} ${E} ${b}`;return a.createElement("div",{className:h},a.createElement(uH,{...g,tracking:t}))});var uY=r(389191);let uK=(0,o.k)().drafts_page_viewbar_slim_lg?()=>{let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(e=>e.currentTeamId),r=(0,eG.Rs)(eH._aE,{currentOrgId:e,currentTeamId:t});return"loaded"===r.status?r.data:null}:Z.S;function uq(){let e;let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.currentTeamId),i=uK();(0,uY.oY)(null!==i,e=>{nY.az.trackDefinedEvent("file_browser.sidebar_data_lg_migration",{durationMs:Math.round(e),isPostMigration:(0,o.k)().drafts_page_viewbar_slim_lg??!1,callsite:"drafts_page_viewbar"})}),r?e=i?.currentUser.baseOrgUser?.draftsProject:(0,o.k)().ps_benchmark&&l&&(e=i?.currentUser.currentTeamUser?.draftsProject);let s=(0,n.d4)(e=>e.tileSortFilterStateByView),c=(0,ek._6)();if(!i||!e)return a.createElement(dP,{viewbarActions:[]});let d="deletedFiles"===c.view?(0,dF.xx)(dM)(s):(0,dF.xx)(rW.ZN)(e.id,s),m=["deletedFiles"===c.view?a.createElement(nQ.gr,{key:3,dispatch:t,options:d,selectedView:c}):null,a.createElement(nQ.ye,{key:0,config:d.tileSortFilterConfig}),a.createElement(nQ.mc,{key:1,dispatch:t,options:d,selectedView:c}),a.createElement(nQ.$c,{key:2,initialViewMode:d.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nY.sx)("file view toggle",{viewType:e===il.XU.GRID?"grid":"list"}),t(ex.JF({selectedView:c,config:{...d.tileSortFilterConfig,viewMode:e}}))}})];return a.createElement(dP,{viewbarActions:m})}let uJ={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},uX=(0,dF.xx)(rW.ZN);function uQ(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:r}=(0,nL.R)(t=>({sortFilterOptions:uX(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),o=(0,uc.Rp)(),l=(0,n.d4)(({currentUserOrgId:e})=>e),s=(0,g.I7)("exp_aa_test_org_drafts");l&&s.getConfig();let c=()=>{},[d,m]=function(e){let t=(0,n.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),r=(0,a.useMemo)(()=>({file_type:ui(t.filters.fileType),sort_order:t.sort.dir===il.ue.ASC?"asc":"desc",sort_column:us(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[o,l]=(0,_.IT)((0,H.BU)({folderId:e,...r}));return[o,(0,a.useCallback)(e=>{if("fetchNextPage"===e.type)return l.fetchNextPage();(0,C.xb)(e.type)},[l])]}(e.folderId),u=d.data?.folder,p=(0,W.Yz)(),f=(0,ee.vt)(u?.team_id),E=(0,Q.R)(u?.team_id),b=(0,W.Xs)(),h=u$({resourceType:eP.vt.FOLDER,resource:u,teamId:u?.team_id||null,checks:{isEligibleForLockedRedesign:p,isInLockedProTeamRevampExp:b},shadowReadLabel:r6.A5.DraftsPageView.hasBanner}).unwrapOr(!1);c=a.useCallback(()=>{!d.isFetchingNextPage&&d.hasNextPage&&m({type:"fetchNextPage"})},[d.isFetchingNextPage,d.hasNextPage,m]);let v=a.useMemo(()=>{let e=(d.data?.files||[]).map(e=>(0,ra.fA)(e)),t=d.data?.filesByRepoId||{};return[...e,...(d.data?.repos||[]).map(e=>({type:ra.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:r[e.id]||""})),...Object.values(o).filter(e=>e.orgId===l).map(ra.gB)]},[l,d.data?.files,d.data?.filesByRepoId,d.data?.repos,o,r]),y=!!u&&f,w=a.createElement(a.Fragment,null,a.createElement(mw,{newFileTile:!0,tiles:v,tileActions:uJ,sortFilterOptions:t,emptyStateText:"",hideSorter:!0,isDataPartial:!!d.hasNextPage,eligibleForLockedStateRedesign:p(y),isInLockedProTeamRevampExp:b(E)}),a.createElement(dk.cx,null)),T="loaded"===d.status,I=a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:T,loadingElementClassName:x.s.pr32.$},a.createElement(dW.B,{key:`${t.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:c},w));return(0,i.kF)("Drafts"),(0,i.WX)({markName:"MainBodyContent",markCondition:T}),(0,a6.T8)(a.createElement(o8.r,{viewBarSticky:!0,banner:h?a.createElement(uz,{folderId:e.folderId}):void 0,content:I,viewbar:a.createElement(uq,null)}),lu.e0.FILE_BROWSER,{view:"drafts"})}var uZ=r(721571),u0=r(572706),u1=r(518279),u4=r(185336),u5=r(501590),u2=r(282424),u7=r(394171),u3=r(426662);let u8=(0,tT.Ju)(function(e){let t,r;let l=(0,n.wA)(),[i,s]=a.useState(""),c=(0,n.d4)(e=>e.deletedReposById),d=(0,n.d4)(e=>e.fileByKey),{reposToDelete:m,draftsToDelete:u,deleteAllDraftsAsync:_,isDeleteAll:p,isPermanentDeletion:f}=e,g=u.map(e=>e.name).concat(m.map(e=>e.name)),E=g.length>1;t=f?E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_trash");let b=(t,r)=>{if(t.length>0){if(f){let r=t.reduce((e,t)=>(e[t.key]=!0,e),{});l(t3.YK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let r=t.reduce((e,t)=>(e[t.key]=rl.F.toSinatra(t),e),{});l(t3.VK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let a={};r.forEach(e=>{let t=c[e.id];if(t)a[e.id]=t;else{let t=e.default_file_key&&d[e.default_file_key];t&&(a[e.id]={repo:e,main_file:t})}}),r.length>0&&(f?l((0,u7.YM)({repoIds:Object.keys(a),userInitiated:!0})):l((0,u7.hT)({reposById:a,userInitiated:!0})))},h=()=>u3.k.deleteAllPersonalDrafts().then(()=>l(tZ.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>l(tZ.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),v=()=>{let{draftsToDelete:t,reposToDelete:r}=e;t.length+r.length>100?l(nl.s.error((0,k.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),b(t,r))},y=()=>{_?h():v(),e.onClose()},w=a.useMemo(()=>i.trim().toLowerCase()!==(0,k.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[i]);r=f?E?(0,k.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):E?(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=f?a.createElement(ea.qM,{onClick:y,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f},dataTestId:"draft-delete-confirmation-button"},a.createElement("span",{"data-tooltip":(0,k.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?ac.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,o.k)().ps_trashed_drafts_enabled?(0,k.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,k.t)("file_browser.draft_delete_modal.button_delete"))):a.createElement(as.vd,{onClick:y,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f}},(0,k.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length}));return a.createElement(a6.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!_,isDeleteAll:!!p}},a.createElement(a_.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},a.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},a.createElement("p",null,r," ",!f&&a.createElement("p",null,a.createElement("br",null),(0,k.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length}))),a.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},f&&(0,k.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")})),a.createElement("form",{onSubmit:y},f&&a.createElement("div",null,a.createElement(u2.L,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:"draft_delete_modal--deleteDraftsInput--pCTUB",dataTestId:"draft-delete-confirmation-input",onChange:e=>{s(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},spellCheck:!1,type:"text",value:i})),a.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},a.createElement(ea.nR,{onClick:e.onClose},(0,k.tx)("modal.cancel")),T)))))},"DraftDeleteModal");var u6=r(842953),u9=r(334366),_e=r(160807),_t=r(464758);let _r="drafts_to_move_page_view--fileCellDateSpan--xWiCm",_a="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",_n="drafts_to_move_page_view--emptyContentContainer--w1lwc",_o="drafts_to_move_page_view--emptyContentHeader--35cXt",_l=(0,op.jz)(oj.ISO),_i=(0,aZ.ck)("c9f2d8cbce5754a2b6e3e3e81adf5fe313429577"),_s=(0,aZ.ck)("6212099329ba7714b869112a09f8dfffce71edf5");var _c=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(_c||{}),_d=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(_d||{});function _m(e){let t=e=>{switch(e){case"draft-files":return(0,k.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,k.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,C.xb)(e)}},r=t=>{let r=_c[t].replace(/-/g,"_");(0,G.Cu)({text:r,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(_c[t])},n=Object.keys(_c).map(n=>a.createElement(u5.r,{tab:_c[n],onClick:()=>r(n),isSelected:e.selectedTab===_c[n],tabName:t(_c[n]),key:n}));return a.createElement(nQ.g2,{leftSide:a.createElement(u5.f,{tabs:n}),rightSide:[]})}function _u(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),o=(0,it.v)(),{item:l}=e,i=ra.Tf.getFileKey(l)??"",s=(0,u1.Y)(i,ra.Tf.getFavoritedResourceType(l),ra.Tf.getOrgId(l),ra.Tf.getFavoriteResourceTeamId(l)),c=a.useMemo(()=>"loaded"===s.status?!!s.favorite:ra.Tf.getIsFavorited(l),[l,s]),d=e=>a=>{a.detail>1&&!ra.Tf.getTrashedAt(l)&&(mu({tile:e,index:0,dispatch:t,selectedView:r}),o(e,a),a.stopPropagation())};return a.createElement("div",{className:x.s.inlineFlex.minW0.$},a.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:d(l),"data-testid":`fileTile-${i}`},a.createElement(l9.e,{tile:l,noBorder:!0}),a.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe"},a.createElement(iw.j,{tile:l,iconSize:16})),c&&a.createElement("div",{className:"drafts_to_move_page_view--topRightControls--dD-Od"},a.createElement(r$.r,{setFavorite:p.lQ,favoriteType:(0,V.UL)(l.type),resourceId:i,orgId:ra.Tf.getOrgId(l)??null,teamId:ra.Tf.getFavoriteResourceTeamId(l)}))),a.createElement("div",{className:x.s.ml14.minW0.flex.flexColumn.itemSelfCenter.$},a.createElement("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:d(l)},ra.Tf.getName(l)),e.shouldDisplayFileDates&&a.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg"},a.createElement("span",{className:_r},(0,k.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:a.createElement(iv.h1,{date:ra.Tf.getCreatedAt(l)})})),a.createElement("span",{className:_r},(0,k.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:a.createElement(iv.h1,{date:ra.Tf.getTouchedAt(l)??""})})))))}function __({currentFileTransferState:e}){let t="dark"===(0,lT.DP)(),r=e=>a.createElement(a.Fragment,null,a.createElement(eo.kt,{size:"large"}),a.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD"},(0,k.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,k.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,k.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})),a.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.file_transfer_description"))),n=()=>a.createElement("div",{className:"drafts_to_move_page_view--slideIn--c-NGK"},a.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh"},a.createElement(u9.Gv,{src:t?_i:_s,containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),a.createElement("p",{className:_o},(0,k.tx)("file_browser.drafts_to_move.empty_header")),a.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.empty_body_text")))),o=()=>a.createElement(eo.kt,{size:"large"});return a.createElement("div",{className:_n},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return r(e);case"TRANSFER_COMPLETED":return n();default:return o()}})())}function _p(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.user?.personal_drafts_folder_id),r=(0,n.d4)(e=>e.fileKeysByFolderId),l=(0,n.d4)(e=>e.fileKeysByRepoId),i=(0,n.d4)(e=>e.repoIdsByFolderId),s=(0,n.d4)(e=>e.repos),c=(0,n.d4)(e=>e.fileByKey),d=(0,n.d4)(e=>e.selectedView),m=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),u=(0,n.d4)(e=>e.userFlags),_=u.personal_draft_migration_scheduled,p=u.personal_draft_migration_completed,f=u.personal_draft_deletion_scheduled,E=u.personal_draft_deletion_completed,b=(0,n.d4)(e=>e.loadedFolders),h=(0,n.d4)(e=>e.deletedFilesByKey),v=(0,n.d4)(e=>e.deletedReposById),{windowInnerWidth:y}=(0,cS.l)(),w=(0,eG.Rs)(eH.vXh,{}),T=(0,eG.Rs)(eH.Jzf,{projectId:t??""},{enabled:!!t}),I=(0,it.v)(),[C,S]=a.useState("draft-files"),[N,R]=a.useState(!1),[A,O]=a.useState("NONE"),[L,F]=a.useState(!1),[P,D]=a.useState(!1);a.useEffect(()=>{_&&(0,ad.rO)(_.updatedAt,p?.updatedAt)?O("ASYNC_FILE_MIGRATION"):f&&(0,ad.rO)(f.updatedAt,E?.updatedAt)?O("ASYNC_FILE_DELETION "):L?O("SYNCHRONOUS_DELETION_OR_MIGRATION"):O("NONE")},[_,p,f,E,L]),a.useEffect(()=>{e(te.h3({orgId:null}))},[e]);let M="loaded"===w.status,B=a.useMemo(()=>{if(!M)return[];let e=[];return w.data?.currentUser?.draftsFolderId&&e.push(w.data.currentUser.draftsFolderId),e},[M,w]),$=a.useMemo(()=>T.data?.project?.status!==uZ.tT.Loaded?new Set:new Set((T.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[T]),j=a.useMemo(()=>{if(T.data?.project?.status!==uZ.tT.Loaded)return new Set;let e=new Set;return(T.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[T]),W=a.useCallback(e=>$.has(e),[$]),G=a.useCallback(e=>j.has(e),[j]);a.useEffect(()=>B.forEach(t=>M&&e((0,H.jl)({folderId:t,loadedFolders:b}))),[b,B,e,M]);let{getConfig:V}=(0,g.I7)("ps_async_draft_move_limit",void 0,!0),z=V().get("async_limit",100),Y=M&&B.every(e=>e&&"loaded"===b[e]),K=a.useMemo(()=>Object.keys(h).map(e=>h[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&W(e.key)),[h,t,W]),q=a.useMemo(()=>Object.keys(v).map(e=>v[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&G(e.repo.id)),[v,t,G]),J=a.useMemo(()=>B.flatMap(e=>i[e]).map(e=>s[e]).filter(e=>!!e&&G(e.id)),[B,s,i,G]),X=a.useMemo(()=>B.flatMap(e=>r[e]).map(e=>c[e]).filter(e=>!!e&&W(e.key)),[B,c,r,W]);a.useEffect(()=>{let e=X.length+J.length,t=K.length+q.length;Y&&!P&&(0===e&&t>0&&S("deleted-draft-files"),D(!0))},[Y,P,X.length,J.length,q.length,K.length]);let Q=a.useMemo(()=>X.concat(K).map(e=>(0,ra.fA)(e)),[X,K]),Z="deleted-draft-files"===C?K:X,ee=a.useMemo(()=>Z.map(e=>(0,ra.fA)(e)),[Z]),et=a.useMemo(()=>J.map(e=>{let t=l[e.id].map(e=>c[e]).filter(e=>!!e);return{type:ra.nb.REPO,repo:e,branches:t,selectedBranchKey:m[e.id]}}),[J,m,c,l]),er=a.useMemo(()=>q.map(e=>({type:ra.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[q]),eo="deleted-draft-files"===C?er:et,el=er.concat(et),ei=ee.concat(eo),es=Q.length>0||el.length>0,ec=ei.length>0,[ed,em]=a.useState([]),eu=()=>{e(tS.Ce()),R(!1)},e_=(t,r)=>{e(tZ.F.enqueue({message:(0,k.t)("visual_bell.files_moved_to_folder",{fileCount:r,folderName:t})})),F(!1),em([])},ep=()=>{F(!1),em([])},ef=e=>{let t=[],r=[];return e.forEach(e=>{e.type===ra.nb.FILE&&t.push(e.file),e.type===ra.nb.REPO&&r.push(e.repo)}),{draftsToMove:t,reposToMove:r}},eg=t=>{let{draftsToMove:r,reposToMove:a}=ef(ed);R(!0),e(tS.to({type:u8,data:{isPermanentDeletion:t,draftsToDelete:r,reposToDelete:a,deleteAllDraftsAsync:ed.length>z,setSynchronousFileTransferInProgress:F,onDeleteSuccess:ep,onClose:eu}}))},eE=()=>{let{draftsToMove:t,reposToMove:r}=ef(ed);R(!0),e(tS.to({type:u6.K,data:{draftsToMove:t,reposToMove:r,moveAllDraftsAsync:ed.length>z,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:F}}))},eb=function(e,t,r,n){let o=n>=1200,l=[{name:(0,k.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>ra.Tf.getName(e),cellComponent:e=>a.createElement(_u,{item:e,shouldDisplayFileDates:!o})}];return o&&l.push({name:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),className:_a,getSortValue:e=>ra.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=ra.Tf.getTouchedAt(e);return t?a.createElement(iv.h1,{date:t}):""}},{name:(0,k.t)("file_browser.drafts_to_move.table_header_created"),className:_a,getSortValue:e=>ra.Tf.getCreatedAt(e),cellComponent:e=>a.createElement(iv.h1,{date:ra.Tf.getCreatedAt(e)})}),l.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:n=>0===r?a.createElement(a.Fragment,null,a.createElement(ea.tM,{className:U()("drafts_to_move_page_view--openDraftButton--zXZGf",x.s.if(!!ra.Tf.getTrashedAt(n),x.s.invisible).$),onClick:e=>t(e,n)},(0,k.tx)("file_browser.drafts_to_move.open_draft_button")),a.createElement(ea.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,n)},(0,k.tx)("file_browser.drafts_to_move.move_draft_button"))):a.createElement(a.Fragment,null)}),l}((t,r)=>{let{draftsToMove:a,reposToMove:n}=ef([r]);e(tS.to({type:u6.K,data:{draftsToMove:a,reposToMove:n,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:F}})),t.stopPropagation()},(t,r)=>{mu({tile:r,index:0,dispatch:e,selectedView:d}),I(r,t),t.stopPropagation()},ed.length,y),[eh,ev,ey]=(0,u4.z)({columnName:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},ei,eb),ew=a.createElement("div",{className:_n},a.createElement("span",{className:_o},(0,k.tx)("file_browser.drafts_to_move.empty_header")),a.createElement("span",null,(0,k.tx)("file_browser.drafts_to_move.empty_content_description",{tab:a.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>S("draft-files"===C?"deleted-draft-files":"draft-files")},"draft-files"===C?(0,k.t)("file_browser.drafts_to_move.deleted_drafts"):(0,k.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==A)return a.createElement(__,{currentFileTransferState:A});let eT=ed.length<=0||ed.length>z,eI="deleted-draft-files"===C||!(0,o.k)().ps_trashed_drafts_enabled,eC=a.createElement(en.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:Y},ec?a.createElement(a.Fragment,null,a.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2"},a.createElement(_e.Cj,{actionBar:e=>a.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB"},!eT&&a.createElement(ea.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eg(eI)},eI?(0,k.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,k.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")),a.createElement(ea.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eT,onClick:eE},(0,k.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:ed.length}))),actionBarClassName:U()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":N}),columns:eb,emptyContent:"",getItemKey:e=>ra.Tf.getFileKey(e)??"",isLoading:!_t.s1,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,k.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},items:ey,minContentWidth:728,onSelectedItemsChange:em,onSetSortState:ev,rowHeightOverride:_l,scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",selectAllDisabled:ey.length>z,shouldRoundBordersForSelectedRows:!0,sortState:eh,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"}}))):es?ew:a.createElement(__,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,a6.T8)(a.createElement(o8.r,{content:eC,viewbar:es&&a.createElement(a.Fragment,null,a.createElement("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu"},a.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-"},a.createElement(u0.E,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),a.createElement("div",null,a.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs"},(0,k.tx)("file_browser.drafts_to_move.viewbar_heading")),a.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3"},a.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.move_drafts_below")),a.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.drafts_for_personal_work")),a.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.access_to_drafts"))),a.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt"},a.createElement(ea.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{R(!0),e(tS.to({type:u6.K,data:{reposToMove:el.map(e=>e.repo),draftsToMove:Q.map(e=>e.file),onMoveSuccess:e_,isMoveAll:!0,moveAllDraftsAsync:Q.length>z,onClose:eu,setSynchronousFileTransferInProgress:F}}))}},(0,k.tx)("file_browser.drafts_to_move.move_all_drafts_button")),a.createElement(ea.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank"},(0,k.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")))))),a.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0"},a.createElement(_m,{selectedTab:C,setSelectedTab:S})))}),lu.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:C})}var _f=r(47482);function _g(e){return a.createElement("div",{className:U()("starter_team_overview_item--container--2OVmD",{"starter_team_overview_item--containerDisabled--76kDd":e.disabled,"starter_team_overview_item--containerDefault--dN-eI":!e.disabled})},a.createElement(es.B,{className:"starter_team_overview_item--icon--Z3o0g",svg:e.icon}),a.createElement("p",{className:"starter_team_overview_item--text--r36FA"},e.text))}var _E=r(11309),_b=r(180390);function _h({folderId:e}){let t=(0,eG.Rs)(eH.yU5,{projectId:e});if("loaded"!==t.status)return null;let r=t.data.project?.team?.teamFileCounts?.designFileCount??0,n=t.data.project?.team?.teamFileCounts?.whiteboardFileCount??0;return a.createElement(a.Fragment,null,a.createElement(_g,{icon:_b.A,text:(0,k.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:r,maxFreeFiles:aR.WW})}),a.createElement(_g,{icon:_E.A,text:(0,k.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:n,maxFreeFiles:aR.WW})}))}function _v({folderId:e}){return a.createElement("div",{className:"starter_team_overview--container--YU-xB text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},a.createElement("div",{className:"starter_team_overview--header--4s2vt text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.starter_team_overview")),a.createElement("div",{className:"starter_team_overview--detailsWithFigjam--n0fVl"},a.createElement(_h,{folderId:e})))}let _y="upgrade_section--sidebarDivider--O7mLk",_w="upgrade_section--upsellDescription--Heggv text--fontPos13--xW8hS text--_fontBase--QdLsd";function _T({teamId:e}){let t=(0,n.wA)(),r=(0,nD.TN)(e),o=(0,n.d4)(t=>t.teams[e]),l=(0,eG.Rs)(eH.kQI,{id:e}),i=!!l.data?.team?.hasPermission,s=o&&!o.org_id&&!o.subscription&&i,c=nT.ng.canSeeProTrialUx(r),d=o&&!(0,aR.w5)(o),m=()=>c?a7.b.PRO_TRIAL_UPSELL_MODAL:a7.b.UPGRADE_SECTION,u=r=>()=>{t((0,tS.to)({type:a4.V,data:{teamId:e,upsellSource:r}}))};return d&&s||c?c?a.createElement(a6.fu,{name:m(),properties:nT.ng.getTrackingProperties()},a.createElement("div",{className:_y}),a.createElement("p",{className:"upgrade_section--upsellTitle--db4mh text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement(N.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.upgrade.pro_trials.title"))),a.createElement("p",{className:_w},a.createElement(N.E,{fontSize:13},(0,k.tx)("team_view.upgrade.pro_trials.description"))),a.createElement("div",{className:"upgrade_section--teamProUpgrade--8J0Tz text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ea.vd,{onClick:u(m()),trackingProperties:{teamId:e,trackingDescriptor:e_.c.UPGRADE_TO_PROFESSIONAL}},(0,k.tx)("team_view.upgrade.pro_trials.upgrade_to_professional_cta")))):a.createElement(a6.fu,{name:m()},a.createElement("div",{className:_y}),a.createElement("p",{className:_w},a.createElement(ea.Us,{onClick:u(m()),trackingProperties:{trackingDescriptor:e_.c.UPGRADE_YOUR_TEAM},trusted:!0},(0,k.tx)("team_view.upgrade.upgrade_your_team")),(0,k.tx)("team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"))):null}var _I=r(106067),_C=r(444207),_S=r(603314);let _x="seen_folder_settings_connected_projects_onboarding",_k="FOLDER_SETTINGS_CONNECTED_PROJECTS_ONBOARDING_KEY",_N=(0,ef.r1)(_x);function _R({folder:e}){let t=(0,ed.md)(_N),r=(0,n.wA)(),o=a.useMemo(()=>{let t=e?.pendingAssetTransferRequest,r=e?.team?.pendingAssetTransferRequest;return t||r},[e]),{show:l,isShowing:i,complete:s}=(0,ep.e)({overlay:ev.YPG,priority:eE.N.DEFAULT_MODAL},[t]);return(0,m.h)(()=>{l({canShow:e=>!e})}),a.createElement(eb.rq,{clickOutsideToHide:!0,description:(0,k.tx)("folder_settings_modal.callout.projects_with_external_teams.description"),emphasized:!0,isShowing:i,onClose:s,primaryCta:{label:(0,k.tx)("resource_connection.onboarding.try_it"),ctaTrackingDescriptor:e_.c.TRY_IT,type:"button",onClick:()=>{let t=e?.plan;null!=t&&r(tS.to({type:_S.B,data:{folder:{...e,plan:t},entryPoint:_C.wR.PROJECT_SETTINGS_ONBOARDING_CTA,assetTransferRequestWarning:!!o}}))}},secondaryCta:{label:(0,k.tx)("resource_connection.request_modal.learn_more"),ctaTrackingDescriptor:e_.c.LEARN_MORE,type:"link",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects"},shouldCenterArrow:eh.EL.FALLBACK,targetKey:_k,title:(0,k.tx)("folder_settings_modal.callout.projects_with_external_teams"),trackingContextName:"seen folder settings connected projects modal onboarding overlay",userFlagOnShow:_x})}let _A="seen_folder_settings_disconnected_project_share_copy_onboarding",_O="FOLDER_SETTINGS_DISCONNECTED_PROJECT_SHARE_COPY_ONBOARDING_KEY",_L=(0,ef.r1)(_A);function _F({folder:e}){let t=(0,ed.md)(_L),r=a.useMemo(()=>{let t=(0,er.oA)(e.mostRecentResourceConnection),r=!!t&&!!t.disconnectedAt,a=!!t&&!t.assetTransferRequestId,n=e.canTransferCopy;return t4.Qw.loaded(r&&a&&n)},[e]),{show:n,isShowing:o,complete:l}=(0,ep.e)({overlay:ev.j9$,priority:eE.N.DEFAULT_MODAL},[t,r]);(0,m.h)(()=>{n({canShow:(e,t)=>!e&&t})});let i=e=>a.createElement("span",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--planName--0GWpT"},e);return a.createElement(eb.rq,{arrowPosition:eh.F_.TOP,clickOutsideToHide:!0,description:(0,k.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_description",{hostPlanName:i(er.oA(e.mostRecentResourceConnection)?.hostPlanName),connectedPlanName:i(er.oA(e.mostRecentResourceConnection)?.connectedPlanName)}),emphasized:!0,isShowing:o,onClose:l,primaryCta:{label:(0,k.tx)("general.got_it"),ctaTrackingDescriptor:e_.c.GOT_IT,type:"button",onClick:l},shouldCenterArrow:eh.EL.FALLBACK,targetKey:_O,title:(0,k.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_title"),trackingContextName:"seen folder settings disconnected project share copy onboarding overlay",userFlagOnShow:_A})}var _P=r(897406),_D=r(511131),_M=r(787203),_B=r(74276),_U=r(743391);let _$="seen_pro_onboarding_unlimited_files_overlay",_j=(0,ef.r1)(_$);function _W({teamId:e,canCreateFigjamBoard:t}){let r=(0,ed.md)(_j),o=(0,ed.md)(_P.e),l=(0,n.d4)(e=>e.userTeamFlags),i=l[e]?.[_U.UA],s=(0,W.kO)(),{show:c,isShowing:d,complete:u}=(0,ep.e)({overlay:ev.jVB,priority:eE.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[r,o]);return((0,m.h)(()=>{i&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),d)?a.createElement(_M.M,{isShowing:d,userFlagOnShow:_$},a.createElement(a6.fu,{name:_D.S.getTooltipTrackingContext("Unlimited Files"),properties:_D.S.getTrackingProperties(e)},a.createElement(_B.yG,{dismissModal:u,canCreateFigjamBoard:t}))):null}function _G(e){let{selectedView:t,userFlags:r,userTeamFlags:l,userEduVerified:i,isFreeUser:s,userAnalyticsData:c,...d}=(0,nL.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,t5.getPermissionsState)(e)})),m=(0,n.wA)(),u=(0,eG.Rs)(eH.UpR,{}),{teamId:_,selectedTab:p}=e,f=d.teams[_]??null,g=!!f?.org_id,E=!!f?.subscription,b=_&&(0,t5.canAdminTeam)(_,d),h=(0,W.Yz)(),v=(0,W.Xs)();(0,a.useEffect)(()=>{(0,o.k)().requires_action_3ds_banner&&_&&!g&&E&&b&&m(uW.Be({teamId:_}))},[m,_,g,E,b]);let y=(0,n.d4)(e=>e.teamBilling?.summary),w=uU(eP.vt.TEAM,f,_,{selectedView:t,userFlags:r,userTeamFlags:l,selectedTab:p,isFreeUser:s,userAnalyticsData:c,eduPeriodEnd:u.data?.currentUser?.eduPeriodEnd,billingSummary:y,checks:{isEligibleForLockedRedesign:h,isInLockedProTeamRevampExp:v},...d},m,r6.A5.TeamUpgradeBanner.bannerContent).unwrapOr(null);if(!w)return a.createElement("div",null);let T=uj({resourceType:eP.vt.TEAM,teamId:_},w),I=w.severity===uh.c.WARN?uv:"",C=w.bannerClassName||"",S=`${uR} ${I} ${C}`;return a.createElement("div",{className:S},a.createElement(uH,{...w,tracking:T}))}var _V=r(771186),_H=r(252680);class _z extends a.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(ex.$T({view:"user",userId:t.id,userViewTab:lF.o.INTERNAL_PROFILE}))}}componentDidMount(){_H.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return a.createElement("div",{className:"contributors--contributors--UpVcx text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("div",{className:"contributors--contributorsHeader--6sefy"},(0,k.tx)("file_browser.folder.recent_contributors")),a.createElement(_V.x,{className:"contributors--loading--0u-Y2",isLoading:!this.state.contributors},()=>a.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>a.createElement(tr.az,{key:t.user.id,className:"contributors--contributorAvatar--bCw14",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&a.createElement("div",{className:"contributors--contributorEmpty--BnRcr text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.people_who_have_edited_this_project_will_appear_here")))))}}let _Y=(0,n.Ng)((e,t)=>{let r=e.folders[t.folderId],a=r&&r.team_id?e.teams[r.team_id]:null;return{folderOrg:a&&a.org_id?e.orgById[a.org_id]:null,currentUserId:e.user?e.user.id:null}})(_z);var _K=r(361860);function _q({folderId:e,pinnedFiles:t,tileActions:r}){let o=(0,n.wA)(),l=(0,ek._6)(),i=(0,q.TA)(),{showing:s,show:c,data:d}=(0,ir.L)(),m=(0,it.v)(),u=a.useCallback((t,r,a)=>{m(t,r);let n=t.type===ra.nb.PINNED_FILE?t.file:null;(0,G.E9)(G.gH,n,{entrypoint:a,selectedView:l.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+n?.name})},[m,l.view,e]),_=a.useCallback((e,t)=>{u(_Q(e.file),t,"pinned files")},[u]),p=a.useCallback((e,t,r)=>{o(re.an()),o(re.PW({type:r_.F.PINNED_FILES,keys:e.map(e=>e.file.key)})),c({data:{tile:_Q(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[o,c]),f=a.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===i&&o(t6.z6({folderId:e,fileKey:r.file.key}))},[i,o,e]),g=a.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>_Q(e.file)),[t]),E=(0,ra.nw)(g),b=a.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return a.createElement("div",{className:x.s.px32.pb32.m0.$},t.length>0?a.createElement(io.A,{handleContextMenu:p,items:b,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:il.XU.GRID,handleOpenItem:_,handleDeleteKey:f,gridViewProps:{containerStyle:_Z.grid,renderTile:e=>a.createElement(_J,{pinnedFile:e,isDropdownOpen:s}),renderTileFooter:e=>a.createElement(_X,{pinnedFile:e}),renderTileDragImage:e=>a.createElement(rU.NM,{file:e.file,noBorder:!0})}}):a.createElement("div",null),(()=>{let e=d?.tile??null;return a.createElement(ia.i,{tile:e,selectedTiles:E,tileActions:r,openTile:t=>{e&&u(e,t,"pinned files: context menu")},dropdownVisible:s})})())}function _J({pinnedFile:e}){let t=_Q(e.file);return a.createElement(l9.e,{tile:t,noBorder:!0,size:r0.y.SMALL})}function _X({pinnedFile:e}){return a.createElement("div",{className:x.s.pt8.flex.flexColumn.$},a.createElement("span",{className:x.s.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),a.createElement(N.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})))}function _Q(e){return{type:ra.nb.PINNED_FILE,file:e}}let _Z={grid:{gridTemplateColumns:"x1g5i94c",userSelect:"x87ps6o",$$css:!0}};var _0=r(554621);function _1({folderId:e,hideTemplatesUserFlag:t,isShowingLockedRedesign:r,additionalVisibilityRequirements:o=!0}){var l;let i=(0,n.wA)(),s=(0,q.TA)(),{data:c}=(0,_K.nt)(e),d=!!c&&_0.sJ.every(e=>(0,_K.d6)(c,e)),m=(0,n.d4)(eD.yK),u=(0,n.d4)(e=>e.userFlags[t]),_=(l={component:"useTemplatesBarVisibility"},(0,ez.FR)(l));return{shouldShowTemplatesBar:!f.Ay.mobile&&d&&!m&&!u&&!r&&_&&o,hideTemplatesBar:(0,a.useCallback)(()=>{i(eO.b({[t]:!0})),(0,G.Cu)({userId:s,opening:!1},"topbar_recommended_templates_toggled")},[s,i,t])}}var _4=r(423526);let _5="file_creation_thumbnails_shelf--betaTag--PUVzI";function _2(e){let t=e.isDisabled||e.isLoading,r=e.onClick,n=a.useRef(null),o=a.useCallback(e=>{r(e),n.current?.blur()},[r]);return a.createElement("button",{className:U()(e.containerClassName??"file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",t&&(e.disabledClassName??"file_creation_thumbnails_shelf--disabled--6IyUM")),ref:n,"data-testid":e.isLoading?void 0:e.dataTestId,tabIndex:0,disabled:t,onClick:t?void 0:o,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.isLoading||!e.isDisabled||e.hideDisabledTooltip?void 0:(0,k.t)("file_browser.creation_buttons.disabled_by_organization"),"data-tooltip-type":ac.Ib.TEXT},!e.isLoading&&a.createElement(a.Fragment,null,a.createElement("div",{className:e.iconContainerClassName??"file_creation_thumbnails_shelf--iconContainer--e9sFx"},e.icon),a.createElement("div",{className:"file_creation_thumbnails_shelf--productNameContainer--F3ppZ"},a.createElement("span",{className:"file_creation_thumbnails_shelf--productName--13XZL"},e.title),e.subtitle?a.createElement("span",{className:"file_creation_thumbnails_shelf--subtitle--fM1jl"},e.subtitle):null),e.showBetaTag&&a.createElement(ai.Ex,{className:_5,text:(0,k.t)("file_browser.creation_buttons.beta"),color:ai.zE.DEFAULT_TRANSLUCENT}),e.showAlphaTag&&a.createElement(ai.Ex,{className:_5,text:(0,k.t)("file_browser.creation_buttons.alpha"),color:ai.zE.DEFAULT_TRANSLUCENT}),e.showRequestTag&&a.createElement(ai.Ex,{className:_5,text:(0,k.t)("upgrades.request"),color:ai.zE.DEFAULT_TRANSLUCENT}),e.showRequestSentTag&&a.createElement(ai.Ex,{className:_5,text:(0,k.t)("upgrades.request_sent"),color:ai.zE.DEFAULT_TRANSLUCENT})))}function _7(e){return a.createElement(sN.v,{mode:e.brand},a.createElement(_2,{title:e.title,icon:e.icon,isDisabled:e.isDisabled,isLoading:e.isLoading,showBetaTag:e.showBetaTag,showAlphaTag:e.showAlphaTag,dataTestId:e.dataTestId,onClick:e.onClick}))}var _3=r(936231),_8=r(351453),_6=r(171063),_9=r(330063),pe=r(852357),pt=r(177570),pr=r(843898);let pa="folder_page_view--sidebarDivider--NEgHu",pn="folder_page_view--creationButton--HuiGP",po="folder_page_view--creationIcon--J9eQ6";function pl(e){var t;let{lgFolder:r,team:o,hostPlanName:l,user:i}=e,s=(0,n.wA)(),c=(0,I.RR)(),{properties:d}=(0,a6.j6)(),{handleUpgrade:m,getUpgradeEligibility:u,hasPendingRequest:_,getUpgradePathway:f}=(0,rD.wH)({folderId:r.id}),g=r.canCreateDesignFile&&r.canEdit,E=(e=>{if(c){let t=u(eP.G_.DESIGN,g);return t===pt.q.CAN_UPGRADE?((0,G.Cu)({...d,trackingDescriptor:e_.c.CREATE_FILE,isBillingRemodelEnabled:c,licenseType:eP.G_.DESIGN,billableProductKey:_6.s1[eP.G_.DESIGN],needsUpgrade:!0}),m({afterUpgradeCallback:e,licenseType:eP.G_.DESIGN,upgradeReason:pr.i.CREATE_FILE,entryPoint:_3.tc.CREATE_FILE_EMPTY_CONNECTED_PROJECT})):t===pt.q.CANNOT_UPGRADE?()=>s(tZ.F.enqueue({message:"Can't upgrade",error:!0})):e}return p.lQ})((0,_8.$)({editorType:eP._Y.DESIGN,newFileFrom:iB.f6.FILE_BROWSER_CONNECT_FOLDER_EMPTY_PAGE,contextClicked:"empty_connected_project_page",folderId:r.id,forceFolderId:!!(!o&&r.canEdit)})),b=()=>c&&!g&&u(eP.G_.DESIGN)===pt.q.CANNOT_UPGRADE&&_(eP.G_.DESIGN),h=r.team?.org?.id,v=(0,mG.R$)(i,h),y=(0,pe.ud)(r)&&!v;return a.createElement("div",{className:"folder_page_view--connectEmptyStateContainer--sk3G5"},a.createElement("div",{className:"folder_page_view--connectedEmptyHeading--zt0QB"},(0,k.tx)("file_browser.folder.what_s_a_connected_project_without_files")),a.createElement("div",{className:"folder_page_view--creationButtonsContainer--kVQRt"},a.createElement(_2,{containerClassName:pn,dataTestId:"connect_file_browser_create_file_button",disabledClassName:"folder_page_view--disabled--K6FJi",hideDisabledTooltip:b(),icon:a.createElement(o9.e,null),iconContainerClassName:po,isDisabled:b(),isLoading:!1,onClick:E,showRequestSentTag:b(),showRequestTag:c&&!g&&u(eP.G_.DESIGN)===pt.q.CAN_UPGRADE&&f(eP.G_.DESIGN)!==pt.J.AUTO_PATHWAY&&!_(eP.G_.DESIGN),subtitle:(0,k.t)("file_browser.folder.create_a_file_in_any_figma_product"),title:(0,k.t)("file_browser.folder.start_from_scratch")}),y&&a.createElement(_2,{title:(0,k.t)("file_browser.folder.use_existing_work"),icon:a.createElement(o9.e,null),dataTestId:"connect_file_browser_create_file_button",onClick:()=>{r&&(s(te.gN(r.id)),s((0,_9.L)()))},isLoading:!1,subtitle:(0,k.t)("file_browser.folder.import_images_sketch_files_and_pdfs"),containerClassName:pn,iconContainerClassName:po})),a.createElement("div",{className:"folder_page_view--subtitle--XB0sI"},a.createElement(_4.l,{className:"folder_page_view--libraryIcon--OiquJ"}),a.createElement("div",null,(0,k.tx)("file_browser.folder.the_host_team_can_add_libraries",{hostPlanName:a.createElement("span",{className:"folder_page_view--bold---DGL-"},l),learnMoreLink:a.createElement("a",{className:"folder_page_view--learnMore--JU51V modal--blueLink--9GcJu blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank"},t||(0,k.tx)("resource_connection.request_modal.learn_more"))}))))}function pi(){let e=(0,n.Pj)();return(0,a.useCallback)(async t=>{try{await c2.Ay.post(`/api/folders/${t}/claim`),e.dispatch(t6.qp({folderId:t})),(0,rW.qF)(t)||e.dispatch((0,H.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch(nl.s.error(t.message||(0,k.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}let ps={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0};function pc(e){let t=(0,n.wA)(),r=(0,eG.Rs)(eH.CH9,{folderId:e.folderId}),o=a.useMemo(()=>"loaded"===r.status?(r.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[r]);a.useEffect(()=>{t(t6.MR({folderId:e.folderId,fileKeys:o.map(e=>e.file.key)}))},[o,t,e.folderId]);let l=a.useCallback(()=>{t(re.an())},[t]);return 0!==o.length?a.createElement(a.Fragment,null,a.createElement("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:l},a.createElement(N.E,{fontSize:13,color:"secondary"},(0,k.tx)("file_browser.folder.pinned"))),a.createElement(_q,{pinnedFiles:o,folderId:e.folderId,tileActions:e.tileActions})):null}let pd=(0,dF.xx)(rW.ZN);function pm({files:e,filesByRepoId:t,folderId:r,hasBanner:o,isEditingLocked:l,isEligibleForLockedRedesign:i,lgFolder:s,permissionsState:c,repos:d,team:m,activeProjectConnection:u,isConnectEnabledForProjectPlan:_}){let p=(0,q.Pc)(),f=pi(),g=(0,a.useCallback)(()=>f(r),[f,r]),E=(0,Q.R)(m?.id),b=(0,Q.jn)(),h=(0,W.Xs)(),v=(0,n.d4)(e=>pd(r,e.tileSortFilterStateByView)),y=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),w=(0,rW.c8)(r,m?.id??null,c),T=!!s&&(0,_K.f3)(s),I=T&&!l,C=I?"":(0,k.t)("file_browser.folder.no_files_yet"),{shouldShowTemplatesBar:S,hideTemplatesBar:x}=_1({folderId:r,hideTemplatesUserFlag:"hide_recommended_templates_in_projects",isShowingLockedRedesign:i||h(b&&E),additionalVisibilityRequirements:!o}),N=[...(0,a.useMemo)(()=>e.map(e=>(0,ra.fA)(e)),[e]),...d.filter(e=>!e.trashed_at).map(e=>({type:ra.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:y[e.id]||""}))];return"loaded"!==w.status?null:w.data?a.createElement(mT,{emptyStateText:(0,k.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:g}):a.createElement(a.Fragment,null,S&&a.createElement(_0.Lt,{folderId:r,newFileFrom:iB.f6.FILE_BROWSER_TOPBAR_FOLDER,onClose:x}),a.createElement(pc,{folderId:r,repos:d,tileActions:ps}),a.createElement(mw,{newFileTile:I,tiles:N,tileActions:ps,sortFilterOptions:v,emptyStateText:C,emptyStateContent:(()=>{if(0===N.length&&u&&T&&_)return a.createElement(pl,{lgFolder:s,team:m,hostPlanName:u.hostPlanName,user:p})})(),isFolder:!0,eligibleForLockedStateRedesign:i,isInLockedProTeamRevampExp:h(E)}))}var pu=r(792978),p_=r(6760),pp=r(195965);let pf="CONNECTED_PROJECTS_PROJECT_PAGE_ONBOARDING_KEY";function pg({resourceConnection:e}){let t=a.createElement(pu.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",newTab:!0},(0,k.tx)("resource_connection.onboarding.connected_projects_capitalized")),r=(0,k.tx)("resource_connection.onboarding.connected_projects_are_just_like_normal_projects",{hostPlanName:e.hostPlanName,connectedProjects:t,connectedPlanName:e.connectedPlanName});return a.createElement(pp.bn,{description:r,title:(0,k.tx)("resource_connection.onboarding.projects_are_better_together"),trackingContext:"Connected Projects Project Page Onboarding Modal",onboardingKey:pf,arrowPosition:p_.F_.BOTTOM})}var pE=r(205397),pb=r(190597),ph=r(493300),pv=r(930602);function py(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,n.d4)(({dropdownShown:e})=>e),l=(0,n.d4)(t=>(0,rW.oq)(e.folder.id,t))??null,i=(0,n.d4)(e=>e.favorites.collapsedCustomSections),s=(0,tw.S)(),c=(0,Z.Q)({currentOrgId:l,currentTeamId:null}),d=a.useMemo(()=>{if("loaded"===c.status)return(0,V.T0)(c.data,e.folder.id)},[c,e.folder.id]),m=void 0!==d;if("loaded"!==c.status)return a.createElement("div",{className:x.s.flex.itemsCenter.colorIcon.$},a.createElement(es.B,{svg:ph.A}));let u=(0,V.gV)(c.data,l),_=e.dropdownKey&&o&&o.type===e.dropdownKey&&o.data&&o.data.targetRect,p=r.current&&o?.data?.targetRef===r.current&&o?.type===n5.jU,f=r.current,g=[];return e.folder.canRead&&g.push(a.createElement(lw.c$,{key:"share",children:(0,k.tx)("file_browser.folder.share"),onClick:e.onShareClick})),e.setFavorite&&(s?g.push(a.createElement(lw.c$,{key:"add-to-favorites-section",children:a.createElement("div",{className:x.s.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),a.createElement(es.B,{svg:pv.A})),onClick:a=>{a.stopPropagation(),r.current&&t(ex.j7({type:n5.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.folder.id}}))}})):g.push(a.createElement(lw.c$,{key:"shaadd-to-favorites-section",children:e.folder.isSubscribed?(0,k.tx)("sidebar.remove_from_favorites"):(0,k.tx)("sidebar.add_to_favorites"),onClick:r=>{r.stopPropagation(),t(t6.ZJ({folderId:e.folder.id,teamId:e.folder.teamId,isSubscribed:!e.folder.isSubscribed}))}}))),a.createElement("span",null,a.createElement(st.E,{className:U()(x.s.flex.itemsCenter.colorIcon.$,pb.HM),ref:r,onClick:r=>{e.dropdownKey&&f&&t(ex.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},a.createElement(tq.J,null)),_&&a.createElement(pE.Cf,{targetRect:o.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&a.createElement(rA.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite&&e.setFavorite(r,d?.resource.id,a),r&&a&&(i.delete(a),t(eA.U6({collapsedCustomSections:i})),r9.Fp({type:"topLevel",id:"custom",orgId:l,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:eP.bk.FOLDER,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(0,er.oA)(c.data?.currentUser?.userSidebarSections)??[],customSectionOrdering:c.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var pw=r(187513),pT=r(943772),pI=r(292217),pC=r(296580),pS=r(667998),px=r(764745),pk=r(871117),pN=r(765982);function pR(e,t,r){return e===t0._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===eP.El.RESTRICTED||r&&r.whiteboardPaidStatus===pN.Zf.RESTRICTED:e===t0._YF.DESIGN&&(t&&t.designPaidStatus===eP.El.RESTRICTED||r&&r.designPaidStatus===pN.Zf.RESTRICTED)}function pA(e,t){if(e===eP._Y.WHITEBOARD&&t.team?.org?.isFigJamDisabled)return!1;let r=t.team?.org?.currentBaseOrgUser,a=t.team?.currentTeamUser;return((0,o.k)().tou_plan_user_paid_status_on_file?!!(0,pk._R)(e,t.currentPlanUser??null):!!pR(e,r,a))&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&(!!r||!!a)}function pO(e){let t=(0,n.wA)(),r=e.canEdit;return(0,a.useCallback)(()=>{e.name&&r&&(t(t6.WC()),t(tS.to({type:(0,mR.y)(),data:{folder:e}})))},[t,e,r])}function pL(e,t){let r=t.team?.org?.currentBaseOrgUser,a=t.team?.currentTeamUser,n=t.currentPlanUser??null;if((0,o.k)().tou_plan_user_paid_status_on_file?(0,pk._R)(e,n):pR(e,r,a)){if(r){if(e===t0._YF.DESIGN&&r.designAccountTypeRequest?.status==="pending"||e===t0._YF.WHITEBOARD&&r.whiteboardAccountTypeRequest?.status==="pending")return!0}else if(a&&(e===t0._YF.DESIGN&&a.designAccountTypeRequest?.status==="pending"||e===t0._YF.WHITEBOARD&&a.whiteboardAccountTypeRequest?.status==="pending"))return!0}return!1}var pF=r(574900),pP=r(91950),pD=r(42776),pM=r(448329),pB=r(330328),pU=r(669966);function p$({newFileFrom:e,dataTestId:t,key:r,tooltipEditorString:n,listOptionType:o}){return{displayText:(0,k.t)("file_browser.tool_bar.request_sent"),preventDismissOnSelected:!0,render:()=>a.createElement(pP.R,{newFileFrom:e,disabled:!0,text:(0,k.t)("file_browser.tool_bar.request_sent"),listOptionType:o,dataTestId:t,key:r,dataTooltip:(0,k.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:n})})}}var pj=r(48878),pW=r(490917),pG=r(421566),pV=r(310681),pH=r(297691),pz=r(473186);function pY({folder:e,lgFolder:t,team:r}){let l=(0,n.wA)(),i=(0,n.d4)(e=>"folder"===e.selectedView.view&&e.selectedView.shouldShowRenameModal||!1),s=function(e){let t=(0,W.Yz)(),r=(0,W.Xs)(),a=(0,ee.vt)(),n=(0,Q.jn)(),o=(0,Q.R)(e);return t(a)||r(n&&o)}(t.teamId),c=pi(),d=a.useCallback(()=>c(t.id),[c,t.id]),u=(0,rx.R)(),_=(0,eV.H)({useCurrentPlan:!0}),f=pO(t);(0,m.h)(()=>{i&&f()});let g=(0,W.fn)()===W.ih.CONTROL,E=(0,eF.FC)(),b=(0,n.d4)(e=>e.currentUserOrgId),h=(0,n.d4)(e=>e.teamRoleRequests),{getUpgradeEligibility:v,hasPendingRequest:y,getUpgradePathway:w}=(0,rD.wH)({folderId:t.id}),T=t.team?.org?.id,I=t.team?.id,C=t.team?.canAdmin,S=()=>{l(tS.to({type:rf.W,data:{folderId:t.id}}))},N=!C&&null!==b&&!t.canEdit&&t.plan?.isMember,R=t.canCreateFigjamFile&&t.canEdit,A=t.canCreateDesignFile&&t.canEdit,O=!!(0,o.k)().piper&&t.canCreateSlidesFile&&t.canEdit,L=t.canRead,F=a.useMemo(()=>{if(N&&h&&r&&h[r.id]&&h[r.id].status===pS.c.PENDING)return h[r.id].id},[N,h,r]);a.useEffect(()=>{N&&b&&l((0,pC.Rw)())},[N,l,b]);let D=(0,rt.jm)(T,I),B=(0,tw.S)(),U=s?(0,k.t)("locked_team.label.tooltip"):void 0,$=s?ac.Ib.TEXT:void 0,j=(t,r,a)=>{let n={folder:e,entrypoint:"folder_page_view",sectionId:a,favoriteId:r};t?l(eA.Mv(n)):l(eA.jv(n))},V=(e,t)=>u&&!t&&v(e)===pt.q.CAN_UPGRADE&&w(e)!==pt.J.AUTO_PATHWAY&&!y(e),H=!!(0,rW.c8)(t.id,t.teamId??null,E).data,z=function({newFileFrom:e,lgFolder:t,reduxTeam:r}){let l=(0,q.Pc)(),i=(0,n.d4)(e=>e.currentUserOrgId),s=(0,rx.R)(),c=function(e,t){let r=(0,n.wA)(),{properties:o}=(0,a6.j6)(),l=(0,rx.R)(),{handleUpgrade:i,getUpgradeEligibility:s}=(0,rD.wH)({folderId:e.id}),c=e.team?.org?.id,d=e.team?.id,m=e.team?.org?.currentBaseOrgUser,u=e.team?.currentTeamUser,_=c?e.team?.org:e.team,p=_?.name;return(0,a.useCallback)((t,a,n)=>{let _=(0,pk.wR)(a),f=(e,t)=>r=>((0,G.Cu)({...o,trackingDescriptor:e_.c.CREATE_FILE,isBillingRemodelEnabled:l,licenseType:_,billableProductKey:_6.s1[_],needsUpgrade:t??!1}),e(r));if(l){let e=s(_,n);return e===pt.q.CAN_UPGRADE?f(i({afterUpgradeCallback:t,licenseType:_,upgradeReason:pr.i.CREATE_FILE,entryPoint:_3.tc.CREATE_FILE_PROJECT_VIEW}),!0):e===pt.q.CANNOT_UPGRADE?f(()=>r(tZ.F.enqueue({message:"Can't upgrade",error:!0})),!0):f(t)}if(function(e,t){let r=t.team?.org?.currentBaseOrgUser,a=t.team?.currentTeamUser;return!(t.team&&t.team?.org?.k12GoogleOrg)&&(e===t0._YF.WHITEBOARD?!!r&&r.whiteboardPaidStatus===eP.El.STARTER||!!a&&a.whiteboardPaidStatus===pN.Zf.STARTER:e===t0._YF.DESIGN&&(!!r&&r.designPaidStatus===eP.El.STARTER||!!a&&a.designPaidStatus===pN.Zf.STARTER))&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam}(a,e))return f(()=>{r(tS.to({type:pG.y,data:{planType:c?iU.O.ORG:iU.O.TEAM,planName:p,seatTypesToBeUpgraded:{design:a===eP._Y.DESIGN,whiteboard:a===eP._Y.WHITEBOARD},planId:c??d,upgradeReason:pV.X.CREATE_FILE,onConfirm:t}}))},!0);if(pA(a,e)){if(m&&e.team)return f(()=>{r(tS.to({type:pj.YG,data:{orgId:c??"",orgUser:{id:m.id,user_id:m.userId,org_id:c??"",permission:m.permission,license_group_member:{license_group_id:e.team?.licenseGroupId??null}},entryPoint:_3.PE.CreateFileProjectView,licenseType:(0,pk.vc)(a),planName:p,folderId:e.id}}))},!0);if(u)return f(()=>{r(tS.to({type:pW.PK,data:{team:null,entryPoint:_3.Wc.CREATE_FILE_PROJECT_VIEW,editorType:a,folderId:e.id}}))},!0)}return f(t)},[l,e,c,d,null,m,u,p,i,s,o,r])}(t,0),{getUpgradeEligibility:d,hasPendingRequest:m,getUpgradePathway:u}=(0,rD.wH)({folderId:t.id}),_=t.canEdit,p=t.isEditingLockedForUser,f=t.canCreateFigjamFile&&_,g=t.canCreateDesignFile&&_,E=!!(0,o.k)().piper&&t.canCreateSlidesFile&&_,b=(0,pM.qx)()&&t.canCreateCooperFile&&_,h=(0,pB.sy)(),v=t.canCreateSitesFile&&h,y=(0,pU.k)(t.id)&&t.canCreateFigmakeFile&&_,w=(0,o.k)().ps_benchmark&&(0,mG.R$)(l,i),T=(0,_8.$)({editorType:eP._Y.DESIGN,newFileFrom:e,contextClicked:"toolbar_design_created",folderId:t.id,forceFolderId:!!(!r&&_)}),I=(0,_8.$)({editorType:eP._Y.WHITEBOARD,newFileFrom:e,contextClicked:"toolbar_figjam_created",folderId:t.id,forceFolderId:!!(!r&&_)}),C=(0,_8.$)({editorType:eP._Y.SLIDES,newFileFrom:e,contextClicked:"toolbar_slides_created",folderId:t.id,forceFolderId:!!(!r&&_)}),S=(0,_8.$)({editorType:eP._Y.SITES,newFileFrom:e,contextClicked:"toolbar_sites_created",folderId:t.id,forceFolderId:!!(!r&&_)}),x=(0,_8.$)({editorType:eP._Y.COOPER,newFileFrom:e,contextClicked:`toolbar_${d9.sq}_created`,folderId:t.id,forceFolderId:!!(!r&&_)}),N=(0,_8.$)({editorType:eP._Y.FIGMAKE,newFileFrom:e,contextClicked:`toolbar_${d9.GJ}_created`,folderId:t.id,forceFolderId:!!(!r&&_)}),R=c(T,eP._Y.DESIGN,g),A=c(I,eP._Y.WHITEBOARD,f),O=c(C,eP._Y.SLIDES,E),L=c(S,eP._Y.SITES,v),F=(e,t)=>s&&!t&&d(e)===pt.q.CAN_UPGRADE&&u(e)!==pt.J.AUTO_PATHWAY&&!m(e),P=(e,t)=>s&&!t&&d(e)===pt.q.CANNOT_UPGRADE&&m(e),{newDesignActionComponentProps:D,newFigjamActionComponentProps:M,newSlidesActionComponentProps:B,newSitesActionComponentProps:U,newCooperActionComponentProps:$,newImportActionComponentProps:j,newFigmakeActionComponentProps:W}=(0,pF.D)({newDesignActionProps:{newFileFrom:e,showRequestLabel:F(eP.G_.DESIGN,g),showRequestSentLabel:P(eP.G_.DESIGN,g)},newFigjamActionProps:{newFileFrom:e,showRequestLabel:F(eP.G_.WHITEBOARD,f),showRequestSentLabel:P(eP.G_.WHITEBOARD,f)},newSlidesActionProps:{newFileFrom:e,showRequestLabel:F(eP.G_.SLIDES,E),showRequestSentLabel:P(eP.G_.SLIDES,E)},newSitesActionProps:{newFileFrom:e,showRequestLabel:F(eP.G_.SITES,v),showRequestSentLabel:P(eP.G_.SITES,v)},newCooperActionProps:{newFileFrom:e},importActionProps:{newFileFrom:e},newFigmakeActionProps:{newFileFrom:e}}),V=(0,pP.l)(M,A),H=(0,pP.l)(D,R),z=null!==B?(0,pP.l)(B,s?O:C):null,Y=null!==U?(0,pP.l)(U,L):null,K=$?(0,pP.l)($,x):null,J=W?(0,pP.l)(W,N):null,X=pL(eP._Y.DESIGN,t),Q=pL(eP._Y.WHITEBOARD,t),Z=pA(eP._Y.DESIGN,t)&&pA(eP._Y.WHITEBOARD,t)&&X&&Q,ee=p$({newFileFrom:e,dataTestId:"request-sent-design-button",key:la.D.REQUEST_SENT_DESIGN,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design"),listOptionType:pD.R.DESIGN}),et=p$({newFileFrom:e,dataTestId:"request-sent-whiteboard-button",key:la.D.REQUEST_SENT_WHITEBOARD,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figjam"),listOptionType:pD.R.WHITEBOARD}),er=p$({newFileFrom:e,dataTestId:"disabled-import-button",key:la.D.IMPORT,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam"),listOptionType:pD.R.IMPORT}),ea=[];return p||w||(!s&&Z?(ea.push(ee,et),v&&null!==Y&&ea.push(Y),E&&null!==z&&ea.push(z),b&&null!==K&&ea.push(K),ea.push(er)):(g?ea.push(H):s&&_?ea.push(H):pA(eP._Y.DESIGN,t)&&(X?ea.push(ee):ea.push(H)),f?ea.push(V):s&&_?ea.push(V):pA(eP._Y.WHITEBOARD,t)&&(Q?ea.push(et):ea.push(V)),(E||s&&_)&&null!==z&&ea.push(z),(b||(0,pM.qx)()&&s&&_)&&null!==K&&ea.push(K),(v||h&&s&&_)&&null!==Y&&ea.push(Y),y&&null!==J&&ea.push(J),(0,pe.ud)(t)&&!w&&(ea.push({displayText:"",disabled:!0,separator:!0}),ea.push((0,pP.l)(j))))),ea}({newFileFrom:iB.f6.FILE_BROWSER_TOPBAR_FOLDER,lgFolder:t,reduxTeam:r}),Y=function(e){let t=(0,mj.a)(e.id),r=pO(e),n=function(e){let t=(0,eG.Rs)(eH.vhY,{folderId:e}),r=(0,er.oA)(er.oA(t.data)?.project?.pendingAssetTransferRequest);return(0,a.useMemo)(()=>{if(r)return{id:r.id,source_user_email:r.sourceUser?.email,destination_user_email:r.destinationUser?.email,is_transfer_copy:r.isTransferCopy}},[r])}(e.id),o=e.canRead,l=e.team?.org?.id,i=(0,a.useMemo)(()=>t({folder:{...e,orgId:l??null},onRenameClick:r,shouldShowJoinButton:!1,pendingTransfer:n}),[t,e,l,r,n]);return(0,a.useMemo)(()=>{if(o&&0!==i.length)return{kind:la.A.CUSTOM,key:la.D.DROPDOWN,element:a.createElement(l_,{dataOnboardingKey:_O,buttonAriaLabel:(0,k.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:i})}},[o,i,e.id])}(t),K=t?.activeProjectResourceConnections?.[0];return a.createElement(P.tH,{boundaryKey:"FolderPageViewHeader",fallback:P.H4.NONE_I_KNOW_WHAT_IM_DOING,severity:aD.DZ.Critical,sentryTags:{area:M.e.MONETIZATION_EXPANSION}},a.createElement(o3,{title:t.name,badge:_&&K?a.createElement(rY.W,{hostPlanName:K?.hostPlanName,connectedPlanName:K?.connectedPlanName,large:!0,dataOnboardingKey:pf}):void 0,rightSideActions:(()=>{let e=[];if(H&&e.push({kind:la.A.BUTTON,key:la.D.CLAIM,displayText:(0,k.t)("file_browser.folder.join_as_owner"),onClick:d}),z.length>0&&(!u||!N)){let t={requestableLicenseTypes:[V(eP.G_.DESIGN,A)&&eP.G_.DESIGN,V(eP.G_.WHITEBOARD,R)&&eP.G_.WHITEBOARD,V(eP.G_.SLIDES,O)&&eP.G_.SLIDES].filter(Boolean).sort().join(",")};t.hasRequestableLicenses=!!t.requestableLicenseTypes,e.push({kind:la.A.CUSTOM,key:la.D.NEW_RESOURCE,showOnMobile:!0,element:a.createElement(sJ.W4,{trackingProperties:t,dropdownItems:z})})}if(L){let t={kind:la.A.BUTTON,key:la.D.SHARE,displayText:(0,k.t)("file_browser.folder.share"),onClick:s?p.lQ:S,"data-tooltip":U,"data-tooltip-type":$,styleClass:s?pH.EB:void 0};e.push(t)}N&&e.push({kind:la.A.BUTTON,key:la.D.REQUEST_TO_EDIT,displayText:void 0!==F?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{F?l(pI.lT({requestId:F})):r&&l(tS.to({type:px.$,data:{team:r,requesterCurrentLevel:up.e6.VIEWER,source:"FolderPageView"}}))}}),e.push({kind:la.A.ICON_BUTTON,key:la.D.SETTINGS,icon:pz.A,onClick:()=>{l(tS.to({type:pw.l,data:{folderId:t.id}}))},displayText:(0,k.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-tooltip":(0,k.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-onboarding-key":_k,styleClass:x.s.w40.colorIcon.$});let n=B?a.createElement(r$.r,{setFavorite:j,favoriteType:eP.bk.FOLDER,resourceId:t.id,isInHeader:!0,orgId:b,teamId:I??null,containerStyle:pb.HM}):a.createElement(pT.d,{folder:t});g&&(!(0,o.k)().ps_benchmark||D)&&e.push({kind:la.A.CUSTOM,key:la.D.FAVORITE,element:n});let i=a.createElement(py,{dropdownKey:"project-overflow-dropdown",folder:t,onShareClick:S,setFavorite:D?j:null});return e.push({kind:la.A.CUSTOM,key:la.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:i}),e})(),rightSideOfTitleAction:Y}),_&&K?a.createElement(pg,{resourceConnection:K}):a.createElement(a.Fragment,null))}function pK(e){let{folderId:t}=e,r=(0,eG.Rs)(eH.L8O,{projectId:t}),l=(0,eF.FC)(),s=(0,H.LK)(t),c=s.data?.folder,d=r.data?.project||null,m=(0,eV.H)({planParentId:d?.plan?.key.parentId||null,planType:d?.plan?.key.type||null,useCurrentPlan:!1}),u=(0,ez.Xd)().unwrapOr(null),_=(0,n.wA)(),p=(0,eG.Rs)(eH.Udv,{id:t}),g="loaded"===p.status&&!p.data.project?.hasPermission||d?.trashedAt,E=d?.trashedAt,b=d?.isAbandonedDrafts&&u?.permission===eP.Xn.ADMIN;a.useLayoutEffect(()=>{if(g||E){if(d?.team){let e=d.team.id;_(ex.$T({view:"team",teamId:e}))}else _(ex.$T({view:"recentsAndSharing"}))}b&&(d.team&&!(d.team.isStarterTeam||d.team.isStudentTeam)?_(ex.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:d.id,planId:d.team.id,adminPlanType:iU.O.TEAM})):d.team?.org&&_(ex.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:d.id,planId:d.team.org.id,adminPlanType:iU.O.ORG})))},[_,p,d,u,g,E,b]);let h=(0,W.Yz)(),v=(0,W.Xs)(),y=l.teams[d?.teamId||""]||null;a.useEffect(()=>{d&&!d.inviteOnlyAt&&d.teamId&&!y&&_(_I.Jt({teamId:d.teamId}))},[_,d,y]);let w=(d?.canConnect??!1)&&(0,o.k)().fc_initial_onboarding_enabled,T=d?.activeProjectResourceConnections?.[0],I=!!y&&!!d?.teamId,C=u$({resource:y,resourceType:eP.vt.TEAM,teamId:d?.teamId,checks:{isEligibleForLockedRedesign:h,isInLockedProTeamRevampExp:v},shadowReadLabel:r6.A5.FolderPageView.hasBanner}).unwrapOr(!1)&&I,S=(0,ee.vt)(),N=(0,Y.dq)(),R=(0,W.PP)(),A=!c||!d||"loaded"!==s.status||"loaded"!==r.status;if((0,i.kF)("Folder"),(0,i.WX)({markName:"MainBodyContent",markCondition:!A}),A)return a.createElement("div",{className:"folder_page_view--loading--ZkDG0"},a.createElement(eo.kt,null));let O=e=>{_(t6.ub({folderId:t,description:e.trim()}))},L={view:"project",folderId:t,canEdit:d.canEdit,userSpace:N?lu.qo.ORG:lu.qo.PERSONAL},F=d.team?.isStarterTeam??!1;return(0,a6.T8)(a.createElement(o8.r,{content:a.createElement("div",{className:x.s.flex.flexColumn.$},a.createElement(pm,{activeProjectConnection:T?{id:T.id,hostPlanName:T.hostPlanName}:void 0,files:s.data.files,filesByRepoId:s.data.filesByRepoId,folderId:t,hasBanner:C,isConnectEnabledForProjectPlan:m,isEditingLocked:d.isEditingLockedForUser,isEligibleForLockedRedesign:h(S),lgFolder:d,permissionsState:l,repos:s.data.repos,team:y}),a.createElement(dk.cx,null)),metaContent:f.Ay.mobile||!F||R()?void 0:(()=>{let e=d.canEdit&&!d.isEditingLockedForUser,r=d.team?.isStarterTeam??!1;return a.createElement("div",{className:"folder_page_view--metaColumn--FPnOz"},(e||d.description)&&a.createElement(a.Fragment,null,a.createElement("div",{className:pa}),a.createElement("div",{className:"folder_page_view--folderDescription--wO8Rd text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement("h3",{className:x.s.font13.fontMedium.$},(0,k.tx)("file_browser.about")),a.createElement(_f.TI,{value:d.description||"",placeholder:(0,k.t)("file_browser.folder.add_a_description"),formatter:_f.qU,submit:O,readOnly:!e}))),d.teamId&&a.createElement(a.Fragment,null,a.createElement("div",{className:pa})),d.canRead&&!f.Ay.mobile?a.createElement(_Y,{key:t,folderId:t}):null,y&&r&&a.createElement(_v,{folderId:t}),d.teamId&&a.createElement(_T,{teamId:d.teamId}))})(),banner:y&&C?a.createElement(_G,{teamId:y.id}):void 0,header:a.createElement(a.Fragment,null,a.createElement(pY,{folder:c,team:y,lgFolder:d}),d.canCreateDesignFile&&y&&a.createElement(_W,{teamId:y.id,canCreateFigjamBoard:d.canCreateFigjamFile}),m&&a.createElement(_F,{folder:d}),w&&a.createElement(_R,{folder:d}))}),lu.e0.FILE_BROWSER,L)}function pq(){let e;let t=(0,n.d4)(e=>e.currentTeamId),r=(0,ek._6)(),l=(0,eG.Rs)(eH.RRC,{teamId:t??""},{enabled:!!t});if(!(0,o.k)().limited_plan_spaces)return null;if("loaded"!==l.status)e=a.createElement(eo.qc,null);else{let n=("loaded"===l.data.currentUser.status&&l.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project).map(e=>{let t=e.project,r=t.activeProjectResourceConnections?.[0]??null;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser,is_connected_project:!!r,resource_connection:r?{hostPlanName:r.hostPlanName,connectedPlanName:r.connectedPlanName}:null}});e=a.createElement(a.Fragment,null,a.createElement(m5,{viewId:`limitedTeam-${t}`,folderList:n,selectedView:r,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0}))}return(0,a6.T8)(a.createElement(o8.r,{content:a.createElement(a.Fragment,null,e),viewbar:a.createElement("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ"},a.createElement("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27"},(0,k.tx)("file_browser.limited_space_team_projects.heading")))}),lu.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function pJ({orgId:e}){let t=(0,n.wA)(),r=(0,ez.Kd)(),o=(0,eF.FC)();return(0,r6.MF)({oldValue:S.Qw.useMemoizedLoaded((0,t5.canMemberOrg)(e,o)),newValue:r,label:r6.A5.ViewLibrariesAction.canMemberOrg,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_3)}).data?a.createElement(o2.K,{action:{kind:o2.A.BUTTON,key:la.D.VIEW_LIBRARIES,displayText:(0,k.t)("org_view.view_libraries"),onClick:()=>{t(ex.$T({view:"org",orgId:e,orgViewTab:tA.X.LIBRARIES}))}}}):null}function pX({orgId:e}){let t=(0,n.wA)(),r=(0,n.d4)(eD.QT),o=(0,eD.LM)(e),l=(0,r6.MF)({oldValue:S.Qw.useMemoizedLoaded(r.result),newValue:o.transform(e=>e.result),label:r6.A5.NewTeamAction.selectEnterpriseOrgDirectoryEnabledV2,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_3),contextArgs:{...r.contextArgs,...o.unwrapOr(void 0)?.contextArgs}}).data,{canCreateTeam:i}=(0,J.LM)({id:e},null);return l||!i?null:a.createElement(o2.K,{action:{kind:o2.A.CUSTOM,key:la.D.NEW_TEAM,element:a.createElement(o6.$n,{"aria-label":(0,k.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:()=>{t(tS.to({type:oQ.Uc,data:{}}))},iconPrefix:a.createElement(o9.e,null)},(0,k.t)("license_group_view.toolbar.new_team_button"))}})}function pQ({orgId:e}){return e?a.createElement(a.Fragment,null,a.createElement(pX,{orgId:e,key:"org-new-team-action"}),a.createElement(pJ,{orgId:e,key:"org-library"})):null}var pZ=r(162072),p0=r(650894);function p1(){let e=(0,n.wA)(),t=(0,Y.dq)(),r=uB((0,nL.R)(e=>({...(0,t5.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e,r6.A5.OrgDelinquencyBanner.bannerContent).unwrapOr(null);if(!r)return a.createElement("div",null);let o=uj({resourceType:"org",orgId:t},r),l=r.severity===uh.c.WARN?uv:"",i=`${uR} ${l}`;return a.createElement("div",{className:i},a.createElement(uH,{...r,tracking:o}))}var p4=r(503678),p5=r(951401);function p2(){let e=(0,eV.H)({useCurrentPlan:!0}),t=(0,ez.tJ)(),r=t.unwrapOr(null),n=r?.connectionCount??0,o=(0,eG.Rs)(eH.ifD,{planType:r?.key.type??null,planId:r?.key.parentId??""},{enabled:e&&null!==r}),l=a.useMemo(()=>"loaded"!==o.status?[]:((0,er.oA)(o.data?.planConnectedProjectsForUser)||[]).map(e=>{let t=(0,er.oA)(e.project);return null!=t?(0,rs.W2)(t):null}).filter(e=>null!==e),[o]);return e?"loaded"!==t.status||"loaded"!==o.status?a.createElement("div",{className:x.s.flex.wFull.hFull.alignCenter.justifyCenter.$},a.createElement(oH.k,{htmlAttributes:{"data-testid":"loading-spinner"}})):0===n?a.createElement("div",{className:"org_connected_projects_view--emptyContent---1eNq"},a.createElement(p4.K,{entryPoint:_C.wR.CONNECTED_PROJECT_ORG_PAGE})):a.createElement(a.Fragment,null,a.createElement(p5.A,null),a.createElement("div",{className:"org_connected_projects_view--tabContentContainer--qFQ6s"},a.createElement("div",{className:x.s.wFull.$},a.createElement(m$.m,{folderList:l,dataOnboardingKeyIndex:void 0,onChangeSortOptions:p.lQ,viewType:il.XU.GRID,isSharerInfoIncluded:!1,showTeamNameOrAuthor:!1,hideSubtitleInGrid:!0})))):null}var p7=r(360589),p3=r(902213),p8=r(172516);let p6="org_meta_content--container--b5Iq3";function p9({org:e}){return a.createElement("div",{className:x.s.flex.flexColumn.rowGap16.$},a.createElement(tr.Ro,{entity:e,size:36}),a.createElement(N.E,{fontWeight:"medium",fontSize:13},e.name))}function fe({handle:e}){let t=(0,n.wA)();return a.createElement("a",{href:new p3.xn({profileHandle:e}).href,className:p8.Be,onClick:r=>{r.metaKey||(r.preventDefault(),t(ex.$T({view:"communityHub",subView:"handle",handle:e})))}},a.createElement(N.E,{fontSize:11},"@",e))}function ft({orgId:e}){let t=(0,n.d4)(t=>(0,eg.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),r=(0,n.wA)();return a.createElement(lL,{label:(0,k.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{r(ex.$T({view:"user",userId:t.id,userViewTab:lF.o.INTERNAL_PROFILE}))},canLeave:!1})}function fr({org:e,orgStats:t}){let r=t?a.createElement(N.E,{fontSize:11,color:"secondary"},(0,k.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),a.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?(0,k.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,k.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})):a.createElement(p7.Wi,{className:x.s.mb4.$,animationType:p7.JR.SHIMMER});return a.createElement("div",{className:p6},a.createElement(p9,{org:e}),a.createElement("span",{className:x.s.mt4.$},r),e.community_profile_handle?a.createElement("span",{className:x.s.mt2.$},a.createElement(fe,{handle:e.community_profile_handle})):null,a.createElement("span",{className:x.s.mt32.$},a.createElement(ft,{orgId:e.id})))}function fa({org:e}){let t=(0,eG.Rs)(eH.nYs,{orgId:e.id});return a.createElement(fr,{orgStats:t.data?.org??null,org:e})}function fn({org:e}){let t=(0,eG.Rs)(eH.kei,{orgId:e.id});return a.createElement(fr,{orgStats:t.data?.org??null,org:e})}function fo({org:e}){return a.createElement("div",{className:p6},a.createElement(p9,{org:e}),e.community_profile_handle?a.createElement("span",{className:x.s.mt4.$},a.createElement(fe,{handle:e.community_profile_handle})):null,a.createElement("span",{className:x.s.mt4.$},a.createElement(N.E,{fontSize:11,color:"secondary"},(0,k.tx)("payments_modal.guest_permission_disclaimer")," ",a.createElement("a",{className:p8.Be,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},(0,k.tx)("org_home_view_meta.learn_more")))))}var fl=r(974465);let fi=[tA.X.HOME,tA.X.YOUR_TEAMS,tA.X.CONNECTED_PROJECTS,tA.X.PLUGINS,tA.X.WIDGETS],fs=e=>{switch(e){case tA.X.HOME:return(0,k.t)("org_view.overview");case tA.X.YOUR_TEAMS:return(0,k.t)("org_view.your_teams");case tA.X.PLUGINS:return(0,k.t)("org_view.plugins");case tA.X.WIDGETS:return(0,k.t)("org_view.widgets");case tA.X.CONNECTED_PROJECTS:return(0,k.t)("org_view.connected_projects");default:return null}};function fc(e){let t=(0,n.wA)(),r=(0,eV.H)({useCurrentPlan:!0}),o=(0,ez.b_)({migrationGroup:oy.L.GROUP_5,component:"OrgPageViewBar"}),l={[tA.X.HOME]:!0,[tA.X.WIDGETS]:!0,[tA.X.PLUGINS]:!0,[tA.X.YOUR_TEAMS]:!0,[tA.X.LIBRARIES]:!1,[tA.X.FONTS]:!1,[tA.X.CONNECTED_PROJECTS]:r},i=e=>{t(ex.$T({view:"org",orgId:o??"",orgViewTab:e}))},[s,c,d]=cM.t.useManagedTabs(l,e.selectedTab,e=>{i(e)}),m=fi.map(e=>a.createElement(cM.t.Tab,{...s[e],key:e},fs(e))),u=a.createElement(et.J,null,a.createElement(cM.t.TabStrip,{manager:d},m));return a.createElement(nQ.g2,{leftSide:u,rightSide:[]})}var fd=r(104536);function fm({workspace:e,targetRect:t,isDropdownOpen:r}){let o=ly(),l=(0,Y.sZ)(),i=(0,n.wA)();if(!l||!r||!t)return null;let s=o({workspace:e,org:l});return a.createElement(et.J,null,a.createElement(tx.j,{parentRect:t,items:s,dispatch:i,onSelectItem:e=>{e.callback&&e.callback("",null,i)},showPoint:!1,shouldUsePortal:!0}))}var fu=r(843493),f_=r(672574),fp=r(669976);function ff(e){let{unassignedTeams:t,isSelected:r,isHovered:n}=e,o=(0,k.tx)("org_view.license_group.unassigned_tile.name"),l=a.createElement(tr.md,{teams:t,size:40,isHovered:n}),i=a.createElement("span",null,"\xa0"),s=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return a.createElement(fp.a,{name:o,headerLeft:l,headerRight:i,footerLeft:s,canView:!0,isCardActive:n||r,isSelected:r,isInItemsView:!0})}var fg=r(599422);function fE(e){let t,r;let{workspace:o,teamCount:l,isSelected:i,isHovered:s,onChildFocusChange:c}=e,[d,m]=a.useState(!1),u=(0,n.d4)(e=>e.currentUserOrgId),_=(0,fg.aq)(),p=o.colorConfig?.colors??[],f=e.isMainWorkspace?p[0]:void 0,g=(0,u1.Y)(o.id,eP.bk.WORKSPACE,u),E=a.useMemo(()=>"loaded"===g.status&&void 0!==g.favorite,[g]);f&&(f=function(e,t,r){try{let a=(0,oN.H0)(t),n=(0,oN.kx)(a),o=(0,oR.oN)(t,!n,n);return r&&o!==t&&(0,nY.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:o}),o}catch(e){console.error(e)}return t}(o.id,f,_()));let b=(0,n.wA)(),h=a.useCallback((e,t,r)=>{if(o){let a={workspace:{id:o.id,name:o.name??"",imgUrl:o.imgUrl},entrypoint:"workspace_tile",sectionId:r,favoriteId:t};e?b(eA.ZW(a)):b(eA.if(a))}},[b,o]);f&&((0,oN.kx)(f)?(t="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",r="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V"):(t="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",r="org_page_view--secondaryTextColorOnLightBackground--68byE"));let v=a.createElement(tr.z6,{entity:o,size:40}),y=(0,no.oA)(o.memberCount),w=a.createElement("div",{className:U()(x.s.flex.flexRow.itemsCenter.$,r)},a.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:y?.data??0}),a.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:l}))),T=a.createElement(r$.r,{setFavorite:h,favoriteType:eP.bk.WORKSPACE,resourceId:o.id,orgId:u}),I=o.orgAccess===eP.bU.SECRET?a.createElement("div",{className:x.s.ml4.$,"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},a.createElement(lH.In,{icon:"lock-16"})):null,C=s||i||d||E;return a.createElement(fp.a,{backgroundColor:f,canView:!0,footerLeft:w,handleBlur:()=>{m(!1),c()},handleFocus:()=>{m(!0),c()},headerLeft:v,headerRight:T,isCardActive:C,isInItemsView:!0,isSelected:i,name:a.createElement("span",{className:t},o.name),titleSubtitleRight:I})}function fb(){let e=(0,n.wA)(),t=(0,eF.FC)(),r=(0,Y.dq)(),o=(0,J.Au)(r),{canCreateTeam:l}=(0,J.LM)(r?{id:r}:null,null),s=(0,ed.md)(oz.w),{workspaceTeamCounts:c,unassignedTeams:d}=a.useMemo(()=>{let e=(s.data||[]).filter(e=>(0,oJ.ox)(e,t));return{workspaceTeamCounts:(0,rd.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,s]),m=(0,eG.Rs)(eH.bUn,{orgId:r}),{currentWorkspace:u,otherWorkspaces:_}=a.useMemo(()=>{let e=m.transform(e=>{let t=e.org?.workspaces??[];(0,tE.KQ)(t,"name");let r=t.find(e=>e.id===o.data),a=t.filter(e=>e.id!==r?.id);return d.length>0&&a.push(ob.O),{currentWorkspace:r,otherWorkspaces:a}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[m,o,d]),p="loaded"!==s.status,f=a.useCallback(()=>{e(tS.to({type:oQ.Uc,data:{}}))},[e]),g="loaded"!==m.status||p;if((0,i.kF)("OrgAllWorkspaces"),(0,i.WX)({markName:"MainBodyContent",markCondition:!g}),g)return a.createElement(oK.X,{isLoading:!0});let E=u&&a.createElement(a.Fragment,null,a.createElement("div",{className:"x1tudf5h"},a.createElement(N.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),a.createElement(fh,{items:[u],isMainWorkspace:!0,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!0}));return a.createElement(a.Fragment,null,E,u&&a.createElement("div",{className:"x1tudf5h"},a.createElement(N.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),0===_.length?a.createElement(f_.C,{onCreateTeam:l?f:void 0}):a.createElement(fh,{items:_,isMainWorkspace:!1,workspaceTeamCounts:c,unassignedTeams:d,focusOnLoad:!u}))}function fh({items:e,isMainWorkspace:t,workspaceTeamCounts:r,unassignedTeams:n,focusOnLoad:o}){let{showing:l,show:i,data:s}=(0,dr.BK)("WORKSPACE_CONTEXT_MENU"),c=(0,fu.$)(),d=a.useCallback(e=>e===ob.O?(0,k.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),m=a.useCallback((e,t)=>{c(e===ob.O?null:e.id,t)},[c]),u=a.useCallback((e,t)=>{let r=e[0];r!==ob.O&&i({data:{workspace:r,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[i]),_=a.useMemo(()=>({tileBorderRadius:16,nestedFocus:!1,containerStyle:fv.grid,renderTile:(e,o,{isSelected:l,isHovered:i})=>e===ob.O?a.createElement(ff,{isSelected:l,isHovered:i,unassignedTeams:n}):a.createElement(fE,{workspace:e,teamCount:r[e.id]??0,isSelected:l,isHovered:i,isMainWorkspace:t,onChildFocusChange:o})}),[t,n,r]);return a.createElement(a.Fragment,null,a.createElement(io.A,{viewType:il.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:d,gridViewProps:_,handleOpenItem:m,handleContextMenu:u,doNotFocusOnLoad:!o}),l&&a.createElement(fm,{workspace:s.workspace,isDropdownOpen:l,targetRect:s.targetRect}))}let fv={grid:{paddingTop:"x1p5oq8j",paddingBottom:"x1gan7if",paddingLeft:"x1tudf5h",paddingRight:"x1m2p0i2",paddingInlineStart:null,paddingInlineEnd:null,gridTemplateColumns:"x192fo39",$$css:!0}},fy=(e,t)=>({canMemberOrg:(0,t5.canMemberOrg)(e.currentUserOrgId,(0,t5.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,eD.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId[e.currentUserOrgId][e.user.id]:null});function fw(e){let{canMemberOrg:t,org:r,isEnterpriseOrgDirectoryEnabled:o,currentOrgUser:l}=(0,nL.R)(t=>fy(t,e.orgId)),i=(0,n.wA)(),s=(0,eD.LM)(e.orgId),c=(0,r6.MF)({oldValue:S.Qw.useMemoizedLoaded(o.result),newValue:s.transform(e=>e.result),label:r6.A5.OrgPageView.selectEnterpriseOrgDirectoryEnabledV2,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_3),contextArgs:{...o.contextArgs,...s.unwrapOr(void 0)?.contextArgs}}),d=(0,ez.Kd)(),m=(0,ez.sI)(),u={canMemberOrg:t,isOrgGuest:l&&l.permission===eP._D.GUEST},_=a.useMemo(()=>S.Qw.transformAll([d,m],(e,t)=>({canMemberOrg:e,isOrgGuest:t})),[d,m]),p=(0,r6.MF)({oldValue:S.Qw.useMemoizedLoaded(u),newValue:_,label:r6.A5.OrgPageView.orgPermission,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_1)}).data;a.useEffect(()=>{p?.canMemberOrg&&(i(pZ.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),i(p0.Pg({orgId:e.orgId})))},[p?.canMemberOrg,e.orgId,i]);let f=null;switch(e.selectedTab){case tA.X.WIDGETS:f=a.createElement(fd.x,null);break;case tA.X.PLUGINS:f=a.createElement(fl.C,null);break;case tA.X.YOUR_TEAMS:f=a.createElement(fT,null);break;case tA.X.CONNECTED_PROJECTS:f=a.createElement(p2,null);break;case tA.X.HOME:case tA.X.FONTS:case tA.X.LIBRARIES:f="loading"===c.status?a.createElement(oK.X,{isLoading:!0}):c.data?a.createElement(fb,null):a.createElement(fI,null)}let g=null;p?.isOrgGuest?g=a.createElement(fo,{org:r}):(0,r8.DQ)(r8.Pw.GROUP_3)&&"loading"===c.status?g=a.createElement(fr,{orgStats:null,org:r}):c.data?g=a.createElement(fa,{org:r}):c.data||(g=a.createElement(fn,{org:r}));let E=a.createElement(fc,{selectedTab:e.selectedTab});return a.createElement(o8.r,{banner:a.createElement(p1,null),viewbar:E,content:f,metaContent:g})}function fT(){let e=o4({workspaceId:null,onlyJoinedTeams:!0});return a.createElement(o0,{orgTeamsQuery:e,workspaceId:null})}function fI(){let e=o4({workspaceId:null,onlyJoinedTeams:!1});return a.createElement(o0,{orgTeamsQuery:e,workspaceId:null})}var fC=r(226895);let fS=(0,ed.eU)(!1);function fx(){let e=(0,l.lH)(),t=(0,ed.md)(l.Bb),r=(0,ed.md)(fS),n=(0,ed.Xr)(fS);if(!f.Ay.chromeos||!f.Ay.chrome||e||!t)return null;let o=async()=>{n(!0);let e=await t.prompt();"dismissed"===e.outcome&&n(!1),(0,nY.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return a.createElement(o2.K,{action:{kind:o2.A.CUSTOM,key:la.D.ADD_TO_CHROMEBOOK,element:a.createElement("button",{onClick:o,className:U()(pH.AS,r&&pH.Xn),tabIndex:0},a.createElement(es.B,{className:pH.He,svg:fC.A}),(0,k.tx)("file_browser.tool_bar.add_to_chromebook"))}})}function fk(){let e=(0,n.wA)(),t=(0,q.Pc)();return a.createElement(o2.K,{action:{kind:o2.A.BUTTON,key:la.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(ex.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,k.t)("internal_profile.view_community_profile"),styleClass:x.s.colorText.$}})}var fN=r(321508),fR=r(552602),fA=r(879153),fO=r(52516),fL=r(541179),fF=r(151570),fP=r(552487),fD=r(469402),fM=r(316153);function fB(e,t){return e*t+(e+1)*32+280}function fU(){let e=a.useRef(null),[t,r]=a.useState(!1),[o,l]=a.useState(!0),i=a.useCallback(e=>{e.intersectionRatio<.5?r(!0):r(!1)},[r]);(0,fD.g)(e,i,{threshold:.5,rootMargin:"-50px"});let s=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:c,status:d}=(0,_K.nt)(s),m=(0,fL.h)(c,s),u="loading"===d,_=m.map(({editorType:e,isDisabled:t})=>{switch(e){case eP._Y.DESIGN:return a.createElement(fj,{key:"design",isDisabled:t,isLoading:u});case eP._Y.WHITEBOARD:return a.createElement(fW,{key:"whiteboard",isDisabled:t,isLoading:u});case eP._Y.SLIDES:return a.createElement(fG,{key:"slides",isDisabled:t,isLoading:u});case eP._Y.SITES:return a.createElement(fV,{key:"seascape",isDisabled:t,isLoading:u});case eP._Y.COOPER:return a.createElement(fP.V,{key:"cooper",isDisabled:t,isLoading:u});case eP._Y.FIGMAKE:return a.createElement(fH,{key:"figmake",isDisabled:t,isLoading:u});default:(0,C.xb)(e)}}).filter(Boolean);_.push(a.createElement(fz,{key:"import",isLoading:u}));let p=_.length,[f,g]=a.useState(window.innerWidth);a.useEffect(()=>{let e=()=>g(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[g]);let E=a.useMemo(()=>(0,aZ.mm)()[0],[]),{narrowButtonWidth:b,wideButtonWidth:h}="ja"===E?{narrowButtonWidth:fB(p,190),wideButtonWidth:fB(p,250)}:"es-es"===E?{narrowButtonWidth:fB(p,195),wideButtonWidth:fB(p,260)}:{narrowButtonWidth:fB(p,140),wideButtonWidth:fB(p,215)},v=f<b,y=(0,ed.Xr)(fF.n),w=(0,ts.io)(!0),T=v||o;return(a.useEffect(()=>{if(t||v)y(!0);else{let e=w();l(e),y(e)}},[v,t,w,y]),T)?null:a.createElement(f$,{buttons:_,showWideButtons:f>=h,thumbnailsRef:e})}function f$({buttons:e,showWideButtons:t,thumbnailsRef:r}){return(0,i.WX)({markName:"FileCreateEntrypoint",markCondition:!0}),a.createElement("div",{className:U()({"file_creation_thumbnails_shelf--fileCreationThumbnailsShelf--KMJ6U":!0,"file_creation_thumbnails_shelf--wideButtons--1fGhy":t}),ref:r,"data-testid":"file-creation-thumbnails-shelf"},e)}function fj({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.DESIGN,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_7,{title:(0,k.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:a.createElement(fN.k,null),isDisabled:e,isLoading:t,onClick:r})}function fW({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.WHITEBOARD,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_7,{title:(0,k.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:a.createElement(sp.D,null),isDisabled:e,isLoading:t,onClick:r})}function fG({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.SLIDES,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_7,{title:(0,k.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:a.createElement(sm.l,null),isDisabled:e,isLoading:t,showBetaTag:!1,onClick:r})}function fV({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.SITES,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"}),n=(0,fM.zS)();return a.createElement(_7,{title:(0,k.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${d9.oQ}-file-button`,icon:a.createElement(fR.Y,null),isDisabled:e,isLoading:t,showAlphaTag:"ALPHA"===n,showBetaTag:"BETA"===n,onClick:r})}function fH({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.FIGMAKE,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(_7,{title:(0,k.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:"new-figmake-file-button",icon:a.createElement(fA.V,null),isDisabled:e,isLoading:t,onClick:r,showBetaTag:!0})}function fz({isLoading:e}){let t=(0,n.wA)();return a.createElement(_2,{title:(0,k.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:a.createElement(fO.R,null),isLoading:e,onClick:()=>{t((0,_9.L)())},containerClassName:"file_creation_thumbnails_shelf--importThumbnail--xooVC file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",iconContainerClassName:"file_creation_thumbnails_shelf--importIconContainer--FjJ9d file_creation_thumbnails_shelf--iconContainer--e9sFx"})}var fY=r(53982),fK=r(838975),fq=r(629612),fJ=r(975806),fX=r(748749),fQ=r(975512),fZ=r(459959),f0=r(48437),f1=r(935556);function f4({buttonProps:e,image:t,title:r,author:n}){return a.createElement("div",{className:"home_shelf_resource_tile--homeShelfResourceTile--1rgji"},a.createElement(st.E,{className:"home_shelf_resource_tile--resourceTileButton--meEFU",...e},a.createElement("div",{className:"home_shelf_resource_tile--homeShelfTileImageContainer--3fiyP"},t),a.createElement("div",{className:"home_shelf_resource_tile--title--O4Tfl"},r)),n)}function f5(){return a.createElement(f4,{buttonProps:{disabled:!0},image:a.createElement(p7.Qp,{className:"home_shelf_resource_tile--loadingImage--I9sFG home_shelf_resource_tile--loadingColor--AlSS5",animationType:p7.JR.NO_SHIMMER}),title:a.createElement(p7.Wi,{className:"home_shelf_resource_tile--loadingTitleText--8Q0Xx home_shelf_resource_tile--title--O4Tfl home_shelf_resource_tile--loadingColor--AlSS5",animationType:p7.JR.NO_SHIMMER}),author:a.createElement(p7.Wi,{className:"home_shelf_resource_tile--loadingAuthor--yKCwm home_shelf_resource_tile--author--m5FxW utilities--bodyMedium--7-YGK home_shelf_resource_tile--loadingColor--AlSS5",animationType:p7.JR.NO_SHIMMER})})}function f2({resource:e,isSelected:t,onFocus:r,onChildFocus:o}){let l=(0,n.wA)(),i=(0,cw.Lj)(e),s=e.community_publishers.accepted[0],c=(0,a.useCallback)(()=>{(0,f1.LJ)(l,e),(0,sl.kg)(e.resource_type,e.id)},[l,e]),d=a.useRef(null);a.useEffect(()=>{t&&d.current?.focus()},[t]);let m=(0,a.useMemo)(()=>({onClick:c,"aria-label":e.name,"aria-current":t,htmlAttributes:{onFocus:r},ref:d}),[c,t,e.name,r,d]);return a.createElement(f4,{buttonProps:m,image:a.createElement(a.Fragment,null,a.createElement(fZ.i,{resource:e,isSelected:t}),a.createElement("div",{className:"home_shelf_resource_tile--tileEditorIcon--QE-1U"},a.createElement(f0.dn,{editorType:e.editor_types[0]}))),title:a.createElement(a.Fragment,null,a.createElement("div",{className:"home_shelf_resource_tile--titleText--NFhch utilities--bodyMediumStrong--1R5cZ"},e.name),a.createElement(fX.c,{className:"home_shelf_resource_tile--titleIcon--BW0c1"})),author:a.createElement(fQ.o,{href:(0,p3.bL)(s?.profile_handle||""),trackingEventName:"community_home_shelf_resource_creator_clicked",trackingProperties:{profileId:s?.id,target:"username"},htmlAttributes:{onFocus:o},className:"home_shelf_resource_tile--author--m5FxW utilities--bodyMedium--7-YGK",newTab:!0},(0,k.tx)("community.resource_tiles.by_author",{author:i}))})}let f7=211/244;var f3=r(223926),f8=r.n(f3),f6=r(67074);function f9(){let e=(0,lT.DP)();return a.createElement(f6._,{href:"/community",onClick:()=>{(0,sl.q5)()},className:"xh8yej3 x5yr21d x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 x1v2ro7d x1ypdohk x1899u3q xwfvh3v xw4t3mb","aria-label":(0,k.t)("community.home_shelf.see_more_on_community"),newTab:!0},a.createElement("div",{className:"x1mxnbhz x1n2onr6 xh8yej3"},a.createElement(sA.oW,{className:"x1mxnbhz xh8yej3 xdr6sbx x1lliihq x1klh5xi",src:(0,aZ.ck)("dark"===e?"bc626f95e145828ba6c3c242584a3617798ec32f":"8b0b884f6cf176a70d7e71112058d2bbbc063eb0"),alt:""})),a.createElement("span",{...o_.xk(ge.linkText)},(0,k.t)("community.home_shelf.see_more_on_community")))}let ge={linkText:{...l8.g.textBodyMediumStrong,width:"xh8yej3",textAlign:"xdpxx8g",color:"x1quhyk7",textDecoration:"xtpnkq1",textDecorationColor:null,textDecorationLine:null,textDecorationStyle:null,textDecorationThickness:null,$$css:!0}},gt=[eP._Y.DESIGN,eP._Y.WHITEBOARD,eP._Y.SLIDES];function gr(){var e,t;let r=(0,n.wA)(),[o,l]=a.useState([]),[{data:i,status:s,errors:c}]=(0,_.IT)(aY.a.getHomeShelfContent({seenResourceIds:o})),d=function(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[n,o]=(0,a.useState)(0),[l,i]=(0,a.useState)(0),s=(0,a.useCallback)(e=>{let t=e-48,a=Math.floor((t-24-244*f7)/268);if(a<1){r(0),o(0),i(0);return}let n=Math.floor((t-24-24*(a=Math.min(a,16)))/(a+f7)),l=Math.floor(n*a+24*(a-1)),s=Math.floor(n*f7);r(a),o(l),i(s)},[]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;s(t.clientWidth);let r=new ResizeObserver(e=>{s(e[0]?.target.clientWidth??0)});return r.observe(e.current),()=>r.disconnect()},[e,s]),(0,a.useMemo)(()=>({tileRowWidth:n,navigationSectionWidth:l,numberOfTiles:t,sizeRef:e}),[n,l,t,e])}(),m=(e=i?.data.meta.recommended_resources??[],t=d.numberOfTiles,(0,a.useMemo)(()=>{let r=[aU.vt.DESIGN_TEMPLATE,aU.vt.SLIDE_TEMPLATE,aU.vt.FIGJAM_TEMPLATE],a=f8()(e,e=>e.resource_type),n=[];for(let o=0;o<e.length+r.length&&n.length!==t&&0!==r.length;o++){let e=(a[r[o%r.length]]??[]).shift();e?n.push(e):r.splice(o%r.length,1)}return n},[e,t])),{trackRejectedResources:u}=function({visibleResources:e}){let{trackResourceImpression:t}=(0,iz.G)(),{properties:r}=(0,a6.j6)();return(0,a.useEffect)(()=>{e.forEach(e=>{t(e)})},[t,e]),{trackRejectedResources:(0,a.useCallback)(e=>{(0,nY.sx)("community_home_shelf_resources_rejected",{rejectedResourceIds:e.join(),...r})},[r])}}({visibleResources:m}),p=(0,a.useCallback)(()=>{let e=m.map(e=>e.id);l(e),u(e),r(eO.b({refreshed_community_home_shelf_recommendations:!0}))},[u,m,r]);if("errors"===s)return(0,aD.$D)(M.e.COMMUNITY,c),null;let f=d.numberOfTiles<2;return a.createElement("div",{ref:d.sizeRef,className:"x1p4momh"},!f&&a.createElement("div",{className:"xhv1u6h xuwania x1mxnbhz x1sjmt1f"},a.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 xp41m2r xettwda"},a.createElement("div",{...o_.xk(gl.homeShelfTitle)},(0,k.t)("community.home_shelf.title")),a.createElement("div",{className:"x78zum5 x1n2onr6 xncym2f x167g77z x6s0dn4"},a.createElement(tK.K,{"aria-label":(0,k.t)("community.home_shelf.refresh_label"),onClick:p,disabled:"loading"===s},a.createElement(fK._,null)),a.createElement(tK.K,{"aria-label":(0,k.t)("community.home_shelf.dismiss_label"),onClick:()=>r(eO.b({dismissed_community_home_shelf_recommendations:!0}))},a.createElement(fq.f,null)))),a.createElement(gn,{sizingInfo:d,resources:m,isLoading:"loading"===s})))}function ga(){return a.createElement("div",{className:"x1cqoux5"},a.createElement("div",{className:"x186iv6y xh8yej3 x176lpz5 x19y5rnk xo1570h"}))}function gn({resources:e,isLoading:t,sizingInfo:r}){let n=a.useRef(null),[o,l]=a.useState(null),[i,s]=a.useState(null),c=(0,a.useMemo)(()=>!t&&r.numberOfTiles>e.length?(0,i_.y1)(r.numberOfTiles-e.length).map(e=>a.createElement(ga,{key:e})):[],[r.numberOfTiles,e.length,t]),d=t?(0,i_.y1)(r.numberOfTiles).map(e=>a.createElement("div",{className:"x1cqoux5",key:e},a.createElement(f5,null))):e.map((e,t)=>a.createElement("div",{className:"x1cqoux5",key:e.id},a.createElement(f2,{resource:e,isSelected:i===t,onChildFocus:()=>{l(t),s(null)},onFocus:()=>{l(t),s(t)}})));return a.createElement("div",{className:"x78zum5 x1665zp3"},a.createElement(fJ.S.div,{role:"grid",tabIndex:0,style:{width:r.tileRowWidth},className:"x78zum5 x1665zp3 xh8yej3 x1qughib",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onFocus:e=>{e.target===n.current&&null===i&&(s(0),l(0))},onBlur:e=>{e.relatedTarget&&n.current?.contains(e.relatedTarget)||s(null)},ref:n,onKeyDown:t=>{if("ArrowRight"===t.key){t.preventDefault(),t.stopPropagation();let r=Math.min((o??0)+1,e.length-1);l(r),s(r)}else if("ArrowLeft"===t.key){t.preventDefault(),t.stopPropagation();let e=Math.max((o??0)-1,0);l(e),s(e)}}},d,c),a.createElement("div",{className:"x1lliihq x1i1rx1s x1hyhr7 xgcv3f"}),a.createElement("div",{style:{width:r.navigationSectionWidth}},a.createElement(f9,null)))}function go(){let e=(0,n.wA)();return a.createElement(P.tH,{team:M.e.COMMUNITY,boundaryKey:"HomeShelf",fallback:P.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e(tZ.F.enqueue({message:"Something went wrong.",type:"react-error"}))},hasCustomWASMBuild:z.y4},a.createElement(a6.fu,{name:lu.e0.COMMUNITY_HOME_SHELF},a.createElement(gr,null)))}let gl={homeShelfContainer:{margin:"x1p4momh",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0},homeShelf:{margin:"xhv1u6h",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,padding:"xuwania",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,background:"x1sjmt1f",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},homeShelfHeader:{display:"x78zum5",justifyContent:"x1qughib",alignItems:"x6s0dn4",padding:"xp41m2r",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,height:"xettwda",$$css:!0},homeShelfHeaderActions:{display:"x78zum5",position:"x1n2onr6",left:"xncym2f",insetInlineStart:null,insetInlineEnd:null,gap:"x167g77z",rowGap:null,columnGap:null,alignItems:"x6s0dn4",$$css:!0},homeShelfTitle:{color:"x1akne3o",...l8.g.textHeadingSmall,$$css:!0},homeShelfTabContent:{display:"x78zum5",gap:"x1665zp3",rowGap:null,columnGap:null,$$css:!0},resourcesRow:{display:"x78zum5",gap:"x1665zp3",rowGap:null,columnGap:null,width:"xh8yej3",justifyContent:"x1qughib",$$css:!0},resourceWrapper:{flex:"x1cqoux5",flexGrow:null,flexShrink:null,flexBasis:null,$$css:!0},homeShelfDivider:{display:"x1lliihq",width:"x1i1rx1s",marginBottom:"x1hyhr7",borderLeft:"xgcv3f",borderLeftWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderLeftStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderLeftColor:null,borderInlineStartColor:null,borderInlineEndColor:null,$$css:!0},resourceTilePlaceholder:{aspectRatio:"x186iv6y",width:"xh8yej3",backgroundColor:"x176lpz5",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,border:"xo1570h",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0}};var gi=(e=>(e.SHOW_NOTHING="SHOW_NOTHING",e.SHOW_FILE_CREATION_THUMBNAILS="SHOW_FILE_CREATION_THUMBNAILS",e.SHOW_HOME_SHELF="SHOW_HOME_SHELF",e))(gi||{});function gs(){let e=(0,ed.Xr)(fY.x),t=function(){let e=!!(0,n.d4)(e=>e.userFlags).dismissed_community_home_shelf_recommendations,t=(0,n.d4)(({currentUserOrgId:e})=>e),r=(0,n.d4)(({orgById:e})=>e),a=(0,eD.yK)({orgById:r,currentUserOrgId:t}),o=(0,n.d4)(e=>e.user?.drafts_folder_id)??null,{data:l}=(0,_K.nt)(o),i=!!l&&gt.every(e=>(0,_K.d6)(l,e)),s=(0,ee.vt)(),c=(0,W.Yz)(),d=(0,W.Xs)(),m=(0,Q.R)(),u=(0,Q.jn)(),_=c(s)||d(u&&m);return f.Ay.mobile||!o||_?"SHOW_NOTHING":e||a||!i?"SHOW_FILE_CREATION_THUMBNAILS":"SHOW_HOME_SHELF"}();return((0,a.useEffect)(()=>{e("SHOW_HOME_SHELF"===t)},[e,t]),"SHOW_NOTHING"===t)?null:"SHOW_FILE_CREATION_THUMBNAILS"===t?a.createElement(fU,null):a.createElement(go,null)}var gc=r(846153),gd=r(803721);let gm="seen_config_registration_promo_banner_2025",gu="seen_config_live_promo_banner_2025",g_="seen_config_launched_promo_banner_2025",gp=e=>"ja"===e?!!(0,o.k)().marketing_promo_banner_ja:"es"===e?!!(0,o.k)().marketing_promo_banner_es:!!(0,o.k)().marketing_promo_banner;function gf(){let e;let t=(0,n.wA)(),r=(0,lT.DP)(),l=!!(0,a2.f)(gm),i=!!(0,a2.f)(gu),s=!!(0,a2.f)(g_),c=e=>{t(eO.b({[e]:!0}))},d=aZ.tl(),m=d.user_data?.locale;if((0,o.k)().marketing_promo_banner_config_launched)e={trackingContextName:"Config 2025 Launched",wrapperColor:gE,logoColor:gg,title:(0,k.t)("banner.marketing_promo.config_launched_2025.title"),cta:(0,k.t)("banner.marketing_promo.config_launched_2025.cta"),ctaLink:"config.new",userFlag:g_,shouldShowBanner:!s&&!!(0,o.k)().marketing_promo_banner_config_launched,buttonStyle:gy.lightButton,textColor:gv};else if((0,o.k)().marketing_promo_banner_config_live)e={trackingContextName:"Config 2025 Live",wrapperColor:gb,logoColor:gh,title:(0,k.t)("banner.marketing_promo.config_live_2025.title"),cta:(0,k.t)("banner.marketing_promo.config_live_2025.cta"),ctaLink:"https://config.figma.com/",userFlag:gu,shouldShowBanner:!i&&!!(0,o.k)().marketing_promo_banner_config_live,buttonStyle:gy.lightButton,textColor:gv};else{let t=(0,o.k)().marketing_promo_banner_2_copy?(0,k.t)("banner.marketing_promo.config_registration_2025.title_v2"):(0,k.t)("banner.marketing_promo.config_registration_2025.title");e={trackingContextName:"Register for Config 2025",wrapperColor:"light"===r?gg:gE,logoColor:sR.Tj.text,title:t,cta:(0,k.t)("banner.marketing_promo.primary_cta"),ctaLink:"https://config.figma.com/virtual?utm_source=figma&utm_medium=prod&utm_campaign=virtual",userFlag:gm,shouldShowBanner:!l,buttonStyle:gy.primaryButton,textColor:sR.Tj.text}}return gp(m)&&e.shouldShowBanner?a.createElement(a6.fu,{name:e.trackingContextName,properties:{severity:uh.c.EVENT}},a.createElement("div",{...o_.Ay.props(gy.wrapper(e.wrapperColor,e.textColor))},a.createElement("div",{className:"x78zum5 x1i71x30 x6s0dn4 x1w5s15c x1fiy98q"},a.createElement(es.B,{svg:gd.A,...o_.Ay.props(gy.logo(e.logoColor))}),a.createElement("h2",{...o_.Ay.props(gy.title)},e.title)),a.createElement(ea.e2,{className:"x78zum5 x6s0dn4 x1nfngrj"},a.createElement(ea.vd,{...o_.Ay.props(e.buttonStyle),onClick:()=>(0,iE.FJ)(e.ctaLink,"_blank")},e.cta),a.createElement(tK.K,{"aria-label":(0,k.t)("general.close"),onClick:()=>c(e.userFlag)},a.createElement(gc.A,{...o_.Ay.props(gy.closeIcon(e.textColor))}))))):null}let gg="#33DFDF",gE="#5D4493",gb="#0A5C35",gh="#00B6FF",gv="#FFFFFF",gy={wrapper:(e,t)=>[{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib",padding:"x1hcpp98 x1ek2pqi",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,backgroundColor:null==e?null:"xr5ldyu",color:null==t?null:"xfx01vb",fontFamily:"x122x9cr",gap:"x1i71x30",rowGap:null,columnGap:null,$$css:!0},{"--backgroundColor":null!=e?e:void 0,"--color":null!=t?t:void 0}],title:{...l8.g.textBodyLarge,display:"x78zum5",alignItems:"x6s0dn4",gap:"x1i71x30",rowGap:null,columnGap:null,textWrap:"x1fzhlzt",$$css:!0},logo:e=>[{display:"xi0feg2",fill:null==e?null:"x135i0dr",$$css:!0},{"--fill":null!=e?e:void 0}],primaryButton:{backgroundColor:"x1rzfmdx",color:"x1jru3a6",$$css:!0},lightButton:{backgroundColor:"xyqosz7",color:"x5lstk9",$$css:!0},closeIcon:e=>[{"--color-icon":null==e?null:"xhxir3b",$$css:!0},{"----color-icon":null!=e?e:void 0}]};var gw=r(972813);let gT=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,gw.vh)(),this.PlanFilterOptionsSchemaValidator=(0,gw.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function gI(){return{"":{label:(0,k.t)("shared_with_you.filters.all_organizations")}}}let gC=rc.M4.Query({fetch:async e=>{let t=await gT.getPlanFilterOptions({resource_type:e}),r={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(r[e.plan_id]=t)}),{...gI(),...r}}});function gS(e){let t=e.join("&resource_type[]="),[r]=(0,rc.IT)(gC(t));return r.data||gI()}function gx(){return{"":(0,k.t)("shared_with.you.filters.anyone")}}function gk(e){let[t,r]=(0,a.useState)(gx()),n=e.join("&resource_type[]=");return(0,a.useEffect)(()=>{gT.getSharerFilterOptions({resource_type:n}).then(({data:e})=>{r(e.meta.shared_by_filters.reduce((e,{user_id:t,label:r})=>({...e,[t]:r}),{...gx()}))})},[n]),t}var gN=r(802078),gR=r(64018),gA=r(431118);function gO(e){let t=(0,eG.Rs)(eH.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),r=(0,a.useCallback)(()=>{"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30)},[t]),n="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return{subscription:t,fetchNextPage:r,isFetchingNextPage:n}}function gL(e){let t=(0,ek._6)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),o="recentsAndSharing"===t.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,l=gk(["file","file_repo","prototype"]),s=gS(["file","file_repo","prototype"]),c={tileSortFilterConfig:o,sortKeys:[il.C0.SHARED_AT]},{subscription:d,fetchNextPage:m,isFetchingNextPage:u}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:n}=gO({...e,resourceTypes:["file","file_repo","prototype"]});return{subscription:(0,a.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFile){let r=function(e){if(null==e||null==e.file)return null;let{file:t,...r}=e,a={...t,...r,editUrl:`${window.location.origin}/file/${t.key}/${(0,gA.sy)(t.name||"")}`,signedPreviewThumbnailUrls:null,trackTags:null};return(0,ra.fA)(rl.F.toSinatra(a),{sharedAt:r.sharedAt,sharedByUser:r.sharedByUser})}(t.sharedWithYouFile);r&&e.push(r)}else if(t.sharedWithYouRepo){let r=function(e){let{repo:t,...r}=e;if(null===t)return null;let{branches:a,...n}=t,o=a?.filter(e=>null!=e)?.map(e=>rs.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${gA.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],l=(0,rs.V1)({...n,...r});return(0,rs.V1)({type:ra.nb.REPO,repo:l,branches:o,selectedBranchKey:""},{repoPerms:(0,gR.zh)(t)})}(t.sharedWithYouRepo);r&&e.push(r)}else if(t.sharedWithYouPrototype){let r=function(e){let{prototype:t,...r}=e;if(null==t)return null;let a=(0,rs.V1)({...t,...r});return(0,rs.V1)({type:ra.nb.PROTOTYPE,prototype:a},{prototypePerms:(0,gN.R)(t)})}(t.sharedWithYouPrototype);r&&e.push(r)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:n}}({sharedBy:o.filters.sharedBy??"",planId:o.filters.plan?.planId??"",planType:o.filters.plan?.planType??"",fileType:(e=>{switch(e){case il.t2.DESIGN:return"design";case il.t2.FIGJAM:return"whiteboard";case il.t2.PROTOTYPE:return"prototype";case il.t2.SITES:return"sites";case il.t2.SLIDES:return"slides";case il.t2.COOPER:return"cooper";case il.t2.MAKE:return"figmake";case il.t2.ANY:return null;default:(0,C.xb)(e)}})(o.filters.fileType)??"",sortOrder:o.sort.dir===il.ue.ASC?"asc":"desc",sortKey:(0,il.De)(o.sort.key)??"shared_at"}),_=(0,a.useMemo)(()=>d.unwrapOr([]),[d]),{trackPerformanceEvent:p}=(0,mC.S)("swy_files_pagination_performance","livegraph");(0,a.useEffect)(()=>{p("fetch_end")},[p,_.length]),(0,a.useEffect)(()=>{"errors"===d.status&&p("fetch_error",{errors:JSON.stringify(d.errors??{})})},[p,d.status,d.errors]),(0,a.useEffect)(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]);let f=(0,a.useCallback)(()=>{u||(p("fetch_next"),m())},[u,m,p]),g="loaded"===d.status;return(0,i.kF)("SharedFiles"),(0,i.WX)({markName:"MainBodyContent",markCondition:g}),a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:g,loadingElementClassName:x.s.pr32.$},a.createElement(dW.B,{onShouldFetchNextPage:f},a.createElement(mw,{currentPlanFilter:o.filters.plan,currentSharedByFilter:o.filters.sharedBy,eligibleForLockedStateRedesign:e.eligibleForLockedStateRedesign,emptyStateText:u?"":(0,k.t)("shared_with_you.no_items"),hideSorter:!0,isInLockedProTeamRevampExp:e.isInLockedProTeamRevampExp,newFileTile:!1,sharedWithYouFilters:{sharer:l,plan:s,fileType:!0},sortFilterOptions:c,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},tiles:_})))}function gF(){return{[il.cT.ALL]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.all"),[il.cT.SHARED]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.shared"),[il.cT.ORG_DELETED_DRAFTS]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function gP(e){let t=(0,ek._6)(),r=(0,nM.ol)(),o=(0,eG.Rs)(eH.kQI,{id:r?.id||""},{enabled:!!r}),l=(0,eG.Rs)(eH.TNJ,{id:r?.id||""},{enabled:!!r}),s=(0,n.d4)(e=>e.tileSortFilterStateByView),c="recentsAndSharing"===t.view?s.recentsAndSharing.sharedProjects:s.sharedWithYou,d=gk(["folder"]),m=gS(["folder"]),u=gF(),_={tileSortFilterConfig:c,sortKeys:[il.C0.SHARED_AT]},{subscription:p,fetchNextPage:f,isFetchingNextPage:g}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:n}=gO({...e,resourceTypes:["folder"]});return{subscription:(0,a.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:r,...a}=t.sharedWithYouFolder;if(null==r)return e;let n=r.updatedAt.toString(),o=r.activeProjectResourceConnections?.[0]??null,l=(0,rs.V1)({...r,...a},{created_at:r.createdAt.toString(),updated_at:n,deleted_at:r.deletedAt?.toString()||null,touched_at:n,is_connected_project:!!o,resource_connection:o?{hostPlanName:o.hostPlanName,connectedPlanName:o.connectedPlanName}:null});e.push(l)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:n}}({sharedBy:c.filters.sharedBy??"",planId:c.filters.plan?.planId??"",planType:c.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:c.sort.dir===il.ue.ASC?"asc":"desc",sortKey:(0,il.De)(c.sort.key)??"shared_at"}),E=(0,a.useMemo)(()=>p.unwrapOr([]),[p]),b=(0,a.useMemo)(()=>E.map(e=>e.id),[E]),{trackPerformanceEvent:h}=(0,mC.S)("swy_projects_pagination_performance","livegraph");(0,a.useEffect)(()=>{h("fetch_end")},[h,b.length]),(0,a.useEffect)(()=>{"errors"===p.status&&h("fetch_error",{errors:JSON.stringify(p.errors??{})})},[h,p.status,p.errors]),(0,a.useEffect)(()=>(h("fetch_start"),()=>{h("fetch_cancel")}),[h]);let v=(0,a.useCallback)(()=>{g||(h("fetch_next"),f())},[g,f,h]),y="loaded"===o.status&&!!o.data.team&&o.data.team.hasPermission,w=!!l.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,T="loaded"===p.status;return(0,i.kF)("SharedProjects"),(0,i.WX)({markName:"MainBodyContent",markCondition:T}),a.createElement(en.A,{loadingElementId:"loading-content-pane",delay:250,loaded:T,loadingElementClassName:x.s.pr32.$},a.createElement(dW.B,{onShouldFetchNextPage:v},a.createElement(m5,{canAdminTeam:w,canEditTeamContents:y,chunkSize:E.length,currentPlanFilter:c.filters.plan,eligibleForLockedStateRedesign:!!r&&e.eligibleForLockedStateRedesign,emptyStateText:g?"":(0,k.t)("shared_with_you.no_items"),folderList:E,isInLockedProTeamRevampExp:!!r&&e.isInLockedProTeamRevampExp,isSharerInfoIncluded:!0,selectedView:t,sharedWithYouFilters:{sharer:d,plan:m,orgDeletedDrafts:u},showTeamNameOrAuthor:!1,sortFilterOptions:_,team:r,teamId:r?r.id:void 0,useLGPerms:!0,viewId:"shared-with-you-projects"})))}function gD(){let e=(0,ee.vt)(),t=(0,W.Yz)(),r=(0,W.Xs)(),o=(0,Q.R)(),l=(0,Q.jn)(),i=(0,n.d4)(e=>e.user?.drafts_folder_id??null),s=t(e)||r(l&&o),{shouldShowTemplatesBar:c,hideTemplatesBar:d}=_1({folderId:i,hideTemplatesUserFlag:"hide_recommended_templates_in_recents",isShowingLockedRedesign:s});return i?c?a.createElement(_0.Lt,{onClose:d,folderId:i,newFileFrom:iB.f6.FILE_BROWSER_TOPBAR_RECENTS}):f.Ay.mobile||s?null:a.createElement(fU,null):null}var gM=r(477995),gB=r(772138),gU=r(27964),g$=r(429409),gj=r(899544),gW=r(426189),gG=r(362959);let gV=e=>a.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),gH=(0,tT.Ju)(function(e){let t=(0,n.wA)(),r=(0,q.iZ)();return r?a.createElement(gW.u,{tintedModalBackground:!0,headerText:(0,k.t)("interstitial.unsubscribe_success_header")},a.createElement("div",{className:gG.Yg},(0,k.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:gV((()=>{switch(e.policyType){case"FileCommentActivity":return(0,k.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,k.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,k.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,k.t)("interstitial.workspace_activity");default:(0,C.xb)(e.policyType)}})()),emailAddress:gV(r.email)})),a.createElement(ea.nD,{onClick:()=>{t(tS.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},(0,k.tx)("interstitial.done")),a.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,tS.to)({type:gj.s,data:{tab:gj.c.NOTIFICATIONS}})),t(tS.aZ())}},(0,k.tx)("interstitial.open_notifications_settings"))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var gz=r(666428);let gY={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0};function gK({eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}){let r=(0,n.d4)(e=>e.currentUserOrgId),o=(0,gz.ql)(r||null),l=(0,gz.O8)(r||null),s=a.useMemo(()=>o.transform(e=>e.map(e=>(0,ra.fA)(e))),[o]),c=a.useMemo(()=>l.transform(e=>e.map(ra.Nu)),[l]),d=function(){let e=(0,n.d4)(e=>e.recentRepos),t=(0,n.d4)(e=>e.selectedBranchKeyByRepoId);return a.useMemo(()=>e.map(e=>(0,ra.uy)(e,t)),[e,t])}(),m=function(){let e=(0,uc.Rp)();return a.useMemo(()=>Object.values(e).map(ra.gB),[e])}(),u=a.useMemo(()=>t4.Qw.merge([s,c],d,m),[m,s,c,d]),_=(0,n.d4)(e=>e.tileSortFilterStateByView),p=a.useMemo(()=>({tileSortFilterConfig:_.recentsAndSharing.recents,sortKeys:[il.C0.NAME,il.C0.CREATED_AT,il.C0.ACCESSED_AT]}),[_]),g="loaded"===u.status;return(0,i.kF)("RecentFiles"),(0,i.WX)({markName:"MainBodyContent",markCondition:g}),a.createElement(en.A,{loadingElementId:"loading-content-pane",loaded:g,loadingElementClassName:x.s.pr32.$},a.createElement(mw,{tiles:u.data,tileActions:gY,sortFilterOptions:p,newFileTile:!0,emptyStateText:f.Ay.mobile||f.Ay.tablet?(0,k.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",hideSorter:!0,eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}),a.createElement(dk.cx,null))}var gq=r(828935),gJ=r(345908);let gX="seen_shared_files_onboarding",gQ=(0,ef.r1)("seen_account_profile_switcher_onboarding"),gZ=(0,ef.r1)(gX);function g0(){let e=(0,ed.md)(gQ),t=(0,ed.md)(gZ),r=(0,ep.e)({overlay:ev.fz8,priority:eE.N.SECONDARY_MODAL},[t,e]);return(0,m.h)(()=>{r.show({canShow:(e,t)=>t&&!e})}),a.createElement(eb.rq,{targetKey:gJ.Bh,isShowing:r.isShowing,title:(0,k.tx)("rcs.shared_with_you.shared_files_title"),description:(0,k.tx)("rcs.shared_with_you.shared_files_description",{recents:a.createElement("span",{className:x.s.fontBold.$},(0,k.tx)("rcs.shared_with_you.recents"))}),primaryCta:{type:"button",label:(0,k.tx)("rcs.got_it"),onClick:r.complete,ctaTrackingDescriptor:e_.c.DONE},width:350,onClose:r.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:gX})}let g1=[i$.G.RECENTLY_VIEWED,i$.G.SHARED_FILES,i$.G.SHARED_PROJECTS],g4=e=>{switch(e){case i$.G.RECENTLY_VIEWED:return(0,k.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case i$.G.SHARED_PROJECTS:return(0,k.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case i$.G.SHARED_FILES:return(0,k.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,C.xb)(e)}};function g5(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,r=e.options.tileSortFilterConfig.filters.plan;return a.createElement("div",{className:x.s.flex.flexWrap.gap18.$},a.createElement(a.Fragment,null,e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&a.createElement(a.Fragment,null,t&&a.createElement(nQ.qD,{userId:t}),a.createElement(nQ.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&a.createElement(a.Fragment,null,r?.planId&&a.createElement(nQ.lV,{planOption:e.filters.plan[r.planId]}),a.createElement(nQ.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),e.filters?.fileType&&a.createElement(a.Fragment,null,a.createElement(nQ.ye,{config:e.options.tileSortFilterConfig,tab:e.tab}))))}function g2(e){let t=e.selectedTab,r=(0,n.wA)(),l=(0,ek._6)(),i=(0,n.d4)(e=>e.tileSortFilterStateByView),s=t===i$.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],c=gk(s),d=function(){let e=(0,q.TA)(),t=(0,n.d4)(e=>e.authedUsers),r=(0,n.d4)(e=>e.plans),a=(0,n.d4)(e=>e.orgById),l=(0,n.d4)(nU.P),i=(0,o.k)().limited_plan_spaces,s=e?t.byId[e]:null;return(i?r.map(e=>{let t="";if(e.plan_type===iU.O.ORG){let r=a[e.plan_id];t=r?.name??t}else{let r=l[e.plan_id];t=r?.name??t}return{label:t,plan_id:e.plan_id,plan_type:e.plan_type===iU.O.ORG?iU.O.ORG:iU.O.TEAM}}):(s?.plans??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}))).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...gI()})}(),m=gS(s),u=gF(),_={sharer:t!==i$.G.RECENTLY_VIEWED?c:void 0,plan:t===i$.G.RECENTLY_VIEWED?d:m,fileType:t!==i$.G.SHARED_PROJECTS,orgDeletedDrafts:t===i$.G.SHARED_PROJECTS?u:void 0},p=a.useMemo(()=>{let e;switch(t){case i$.G.RECENTLY_VIEWED:e=i.recentsAndSharing.recents;break;case i$.G.SHARED_FILES:e=i.recentsAndSharing.sharedFiles;break;case i$.G.SHARED_PROJECTS:e=i.recentsAndSharing.sharedProjects;break;default:(0,C.xb)(t)}return{tileSortFilterConfig:e,sortKeys:i$.o[t]}},[t,i]),f=e=>{e===i$.G.SHARED_FILES?(0,nY.sx)("file_browser_shared_files"):e===i$.G.SHARED_PROJECTS&&(0,nY.sx)("file_browser_shared_projects"),r(ex.$T({view:"recentsAndSharing",tab:e}))},g=e=>{(0,nY.sx)("file view toggle",{viewType:e===il.XU.GRID?"grid":"list"}),Object.keys(i$.G).map(t=>{r(ex.JF({selectedView:l,config:{...p.tileSortFilterConfig,viewMode:e},tab:i$.G[t]}))},r(ex.uV({viewId:"shared-with-you-projects",viewMode:e})))},E=a.createElement("div",{className:x.s.flex.alignCenter.$},a.createElement(nQ.$c,{initialViewMode:p.tileSortFilterConfig.viewMode,onViewModeChange:g})),b=a.createElement(nQ.mc,{options:p,selectedView:l,dispatch:r,tab:t}),h=a.createElement("div",{className:x.s.flex.gap18.$,key:"sortWithViewOptions"},b,E),v=a.createElement(g5,{options:p,filters:_,tab:t,key:"recentsAndSharingTileFilters"}),y=a.createElement(nQ.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:p,filters:_,onViewModeChange:g,tab:t}),[w,T,I]=cM.t.useManagedTabs({[i$.G.RECENTLY_VIEWED]:!0,[i$.G.SHARED_FILES]:!0,[i$.G.SHARED_PROJECTS]:!0},e.selectedTab,e=>{f(e)}),S=g1.map((e,t)=>{let r=e===i$.G.SHARED_FILES?gJ.Bh:"";return a.createElement(cM.t.Tab,{key:t,...w[e],htmlAttributes:{"data-onboarding-key":r}},g4(e))});return a.createElement(a.Fragment,null,a.createElement(gq.p,null,a.createElement(g0,null)),a.createElement(nQ.g2,{leftSide:a.createElement(et.J,null,a.createElement(cM.t.TabStrip,{manager:I},S)),rightSide:[v,h],rightSideMobile:y}))}function g7(e){switch(e){case oi.bb.ACCOUNT:return gj.c.ACCOUNT;case oi.bb.COMMUNITY:return gj.c.COMMUNITY;case oi.bb.NOTIFICATIONS:return gj.c.NOTIFICATIONS}}function g3(e){let t=(0,n.wA)(),r=(0,W.Yz)(),o=(0,Q.R)(),l=(0,W.Xs)(),i=(0,ee.vt)(),s=(0,ts.mX)(),c=u$({checks:{isEligibleForLockedRedesign:r,isInLockedProTeamRevampExp:l},shadowReadLabel:r6.A5.RecentsAndSharingPageView.hasBanner}).unwrapOr(!1),{selectedTab:d,accountModalTab:m,emailPolicyToUnsubscribeFrom:_}=e,p=a.createElement(g2,{selectedTab:d}),f=(0,u.ZC)(m),g=(0,u.ZC)(_);!function(){let e=(0,n.wA)(),t=(0,I.RR)(),r=(0,ez.yN)({phase:"passthrough",component:"useUpgradeRequestModalOnPageLoad",attribute:"currentPlan",legacy:(e,t)=>t?{planType:eP.OL.ORG,id:t.id}:e?{planType:eP.OL.TEAM,id:e.id}:null,migrated:e=>e?.key.parentId?{id:e.key.parentId,planType:e.tier}:null}),o=(0,gU.QL)("one_click_upgrade_request_type"),l=(0,gU.QL)("upgrade_modal_type")||"",i=(0,gU.QL)("entry_point")||"",s=(0,pk.px)(o??l),c=(0,eG.Rs)(eH.LmV,{orgId:r?.planType===eP.OL.ORG?r.id:null,teamId:r?.planType===eP.OL.TEAM?r.id:null},{enabled:!!r?.id&&!!s});(0,a.useEffect)(()=>{if(("disabled"===c.status||"loaded"===c.status)&&((0,gU.EM)("one_click_upgrade_request_type"),(0,gU.EM)("upgrade_modal_type"),(0,gU.EM)("entry_point")),!r||"loaded"!==c.status||!s||t)return;let a=c.data.currentUser.baseOrgUser;if(a&&(0,pk.qX)(s,c.data.currentUser.baseOrgUser)){let t=a.licenseGroupMember&&a.licenseGroupMember.licenseGroupId?{license_group_id:a.licenseGroupMember.licenseGroupId}:void 0;e((0,tS.to)({type:pj.YG,data:{orgId:r.id,orgUser:{id:a.id,permission:a.permission,license_group_member:t,user_id:a.user.id,org_id:r.id},licenseType:s,entryPoint:(0,gB.K)(_3.PE,i)??(0,gB.K)(_3.tc,i)??(0,gB.K)(_3.i$,i)??(s===pk.Te.DEV_MODE?_3.i$.DowngradeEmail:_3.PE.DEPRECATED_Recents),isOneClickUpgradeRequest:!!o,trackForDowngradeNotificationExperiment:!0}}));return}let n=c.data.currentUser.teamUser;if(n&&o&&function(e,t){switch(e){case pk.Te.WHITEBOARD:return t?.whiteboardPaidStatus===eP.Zf.RESTRICTED;case pk.Te.DESIGN:return t?.designPaidStatus===eP.Zf.RESTRICTED;default:return!1}}(s,n)){e((0,tS.to)({type:pW.PK,data:{team:{id:r.id},isOneClickUpgradeRequest:!!o,editorType:(0,pk.gN)(s),entryPoint:(0,gB.K)(_3.tc,i)??(0,gB.K)(_3.Wc,i)??i}}));return}},[e,s,t,o,i,c,r])}(),(0,gM.V)();let E=(0,ts.aH)();(0,a.useEffect)(()=>{m&&m!==f?(t((0,tS.to)({type:gj.s,data:{tab:g7(m)}})),t(ex.$T({view:"recentsAndSharing"}))):_&&_!==g&&(g$.z.updateUserCommunicationPreference({channelType:"email",policyType:_,policySetting:"none"}).then(()=>{t((0,tS.to)({type:gH,data:{policyType:_}}))}).catch(e=>{t((0,tS.to)({type:gj.s,data:{tab:g7(oi.bb.NOTIFICATIONS)}})),t(tZ.F.dequeue({}))}),t(ex.$T({view:"recentsAndSharing"})))},[m,f,_,g,t]);let b=s()?void 0:E()?a.createElement(gs,null):a.createElement(gD,null);return a.createElement(o8.r,{banner:c?a.createElement(uz,{folderId:null}):a.createElement(gf,null),viewbar:p,viewBarSticky:!0,toolbar:b,content:function(e,t){switch(e){case i$.G.SHARED_FILES:return a.createElement(gL,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case i$.G.SHARED_PROJECTS:return a.createElement(gP,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case i$.G.RECENTLY_VIEWED:return a.createElement(gK,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});default:(0,C.xb)(e)}}(d,{eligibleForLockedStateRedesign:r(i),isInLockedProTeamRevampExp:l(o)})})}var g8=r(705751);function g6(e){let t=e.isDisabled||e.isLoading;return a.createElement(sN.v,{mode:e.brand},a.createElement(st.E,{...o_.xk(g9.button,!!e.brand&&g9.buttonBrand,"bake-filebrowser"===e.brand&&g9.buttonFigmake,t&&g9.buttonDisabled),onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.isDisabled&&!e.isLoading?(0,k.t)("file_browser.creation_buttons.disabled_by_organization"):"","data-tooltip-type":ac.Ib.TEXT},a.createElement(en.x,{loaded:!e.isLoading,loadingSkeletonElement:a.createElement("div",{className:"x1yjdb4r"},a.createElement(p7.Qp,{animationType:p7.JR.LIGHT_SHIMMER,className:"x10w6t97"})),showElementBeforeLoaded:!0},a.createElement("div",{className:"x1y1aw1k xwib8y2 xyfqnmn xnm25rq x78zum5 x6s0dn4 x167g77z"},a.createElement("div",{...o_.xk(!t&&g9.iconContainer)},e.icon),a.createElement("span",{...o_.xk(g9.text)},e.title)))))}sR.Tj.border;let g9={button:{"--color-icon":"xn0whsw",flexShrink:"x2lah0s",borderRadius:"x1d36bvo",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,backgroundColor:"x1v8gsql xv2f06h x1ptam9a x1f11sc0",boxShadow:"x6bkol7 xrhlwir x3x7dpb xvpcept",overflow:"xb3r6kr",overflowX:null,overflowY:null,$$css:!0},buttonFigmake:{"--color-icon":"xwa2v1s",$$css:!0},buttonBrand:{backgroundColor:"x1v8gsql x17c7w1w xvpnr9m xgtdbbj",$$css:!0},buttonDisabled:{"--color-icon":"xz8z4lq",backgroundColor:"x1yjdb4r xtlwphu",boxShadow:"x6bkol7 x1osov5t",$$css:!0},text:{...l8.g.textBodyMedium,$$css:!0},iconContainer:{backgroundColor:"xu5wzci",borderRadius:"x192jxwq",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0}};function Ee({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.COOPER,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:"new-cooper-file-button",icon:a.createElement(g8.u,null),isDisabled:e,isLoading:t,onClick:r})}var Et=r(24208);function Er({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.DESIGN,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:a.createElement(Et.z,null),isDisabled:e,isLoading:t,onClick:r})}var Ea=r(79508);function En({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.WHITEBOARD,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:a.createElement(Ea.D,null),isDisabled:e,isLoading:t,onClick:r})}var Eo=r(508320);function El({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.FIGMAKE,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:"new-figmake-file-button",icon:a.createElement(Eo.Z,null),isDisabled:e,isLoading:t,onClick:r})}function Ei(e){return a.createElement(st.E,{className:"x2lah0s x1d36bvo xb3r6kr xbzrb6o x1v8gsql x13bsb82 x1y5vzvp xnqn90k x6bkol7 x622810 x3x7dpb xvpcept",onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":ac.Ib.TEXT},a.createElement(en.x,{loaded:!e.isLoading,loadingSkeletonElement:a.createElement("div",{className:"x1yjdb4r"},a.createElement(p7.Qp,{animationType:p7.JR.LIGHT_SHIMMER,className:"x10w6t97"})),showElementBeforeLoaded:!0},a.createElement("div",{className:"xfawy5m"},e.icon)))}function Es({isLoading:e}){let t=(0,n.wA)();return a.createElement(Ei,{dataTestId:"file-import-button",icon:a.createElement(fO.R,null),isLoading:e,onClick:()=>{t((0,_9.L)())},tooltipText:(0,k.t)("file_browser.creation_buttons.import")})}sR.Tj.border;var Ec=r(897864);function Ed({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.SITES,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${d9.oQ}-file-button`,icon:a.createElement(Ec.$,null),isDisabled:e,isLoading:t,onClick:r})}var Em=r(893168);function Eu({isDisabled:e,isLoading:t}){let r=(0,_8.$)({editorType:eP._Y.SLIDES,newFileFrom:iB.f6.FILE_BROWSER_THUMBNAILS_RECENTS,contextClicked:"recents_file_creation_thumbnails_created"});return a.createElement(g6,{title:(0,k.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:a.createElement(Em.T,null),isDisabled:e,isLoading:t,onClick:r})}function E_(){let e=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:t,status:r}=(0,_K.nt)(e),o=(0,fL.h)(t,e),l="loading"===r,i=o.map(({editorType:e,isDisabled:t})=>{switch(e){case eP._Y.DESIGN:return a.createElement(Er,{key:"design",isDisabled:t,isLoading:l});case eP._Y.WHITEBOARD:return a.createElement(En,{key:"whiteboard",isDisabled:t,isLoading:l});case eP._Y.SLIDES:return a.createElement(Eu,{key:"slides",isDisabled:t,isLoading:l});case eP._Y.SITES:return a.createElement(Ed,{key:"seascape",isDisabled:t,isLoading:l});case eP._Y.COOPER:return a.createElement(Ee,{key:"cooper",isDisabled:t,isLoading:l});case eP._Y.FIGMAKE:return a.createElement(El,{key:"figmake",isDisabled:t,isLoading:l});default:(0,C.xb)(e)}}).filter(Boolean);return i.push(a.createElement(Es,{key:"import",isLoading:l})),a.createElement(a.Fragment,null,i)}function Ep(){let e=a.useRef(null),t=a.useRef(null),[r,n]=a.useState(!1);return a.useLayoutEffect(()=>{let r=t.current,a=e.current;if(!r||!a)return;let o=()=>{n(a.offsetWidth<r.offsetWidth)};o();let l=new ResizeObserver(o);return l.observe(e.current),()=>l.disconnect()},[]),a.createElement("div",{className:"xh8yej3 x9f619 x78zum5 x7v6yn8 xz9dl7a xsag5q8",ref:e},a.createElement("div",{ref:t,...o_.xk(Ef.contentContainer,r&&Ef.hideButtonsOnNarrowScreens)},a.createElement(E_,null)),r&&a.createElement(sJ.iO,{newFileFrom:iB.f6.FILE_BROWSER_TOPBAR_RECENTS}))}let Ef={contentContainer:{display:"x3nfvp2",gap:"x167g77z",rowGap:null,columnGap:null,flexShrink:"x2lah0s",$$css:!0},hideButtonsOnNarrowScreens:{visibility:"xlshs6z",$$css:!0}};var Eg=r(518429),EE=r(722295);let Eb=(0,lP.rw)();function Eh(e){let t=(0,n.wA)(),r=[a.createElement(Eb,{tab:Eg.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(ex.$T({view:"sharedWithYou",tab:Eg.G.FILES}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.files")},(0,k.tx)("shared_with_you.toolbar.files")),a.createElement(Eb,{tab:Eg.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(ex.$T({view:"sharedWithYou",tab:Eg.G.PROJECTS}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.projects")},(0,k.tx)("shared_with_you.toolbar.projects"))];return a.createElement(EE.W,{resetTileSelectionOnMouseDown:!0,tabs:r})}function Ev(e){return a.createElement(o8.r,{toolbar:a.createElement(Eh,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return a.createElement(gL,null);case"projects":return a.createElement(gP,null)}}(e.tab)})}var Ey=r(360791),Ew=r(867553),ET=r(287972),EI=r(426451),EC=r(663128);function ES(){return a.createElement("div",{className:x.s.flex.p12.colorBgSelected.bRadius6.$},a.createElement("div",{className:x.s.mr12.colorIcon.itemSelfCenter.$},a.createElement(es.B,{svg:EC.A})),a.createElement("div",null,(0,k.tx)("sidebar.meta.this_team_is_for_education_users_only")," ",a.createElement(ea.Us,{target:"_blank",trusted:!0,href:"/education/"},(0,k.tx)("org_home_view_meta.learn_more"))))}function Ex({team:e}){let t=(0,n.wA)(),r=(0,eG.Rs)(eH.kQI,{id:e.id}),o=!!r.data?.team?.hasPermission,[{data:l}]=(0,_.IT)((0,H.Xg)({teamId:e.id})),i=(l||[]).filter(e=>""!==e.name).length,s=(0,g.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&o&&i>=aR.Wf)||s.getConfig().getValue("show_upsell",!1))return null;let c=a.createElement(ea.Us,{onClick:()=>{t((0,tS.to)({type:a4.V,data:{teamId:e.id,upsellSource:a7.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:e_.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},(0,k.tx)("file_browser.starter_team.upgrade_link"));return a.createElement(a6.fu,{name:"Starter Team Upsell Footer"},a.createElement("div",{className:U()(x.s.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter"},a.createElement("div",{className:U()(x.s.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB")},a.createElement("strong",null,i===aR.Wf?(0,k.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:aR.Wf}):(0,k.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")),a.createElement("p",{className:x.s.alignCenter.$},(0,k.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:c})))))}var Ek=r(335547),EN=r(896753);let ER="professional_badge_onboarding_key",EA="seen_professional_badge_overlay";function EO({teamId:e}){let t=(0,n.d4)(e=>e.userTeamFlags),r=t[e]?.[EA],o=t[e]?.[_U.UA],l=(0,W.kO)(),i=(0,ep.e)({overlay:ev.zMZ,priority:eE.N.DEFAULT_MODAL,experiment:{check:l,predicate:e=>e,postCheck:()=>!0}}),s=(0,n.wA)();return((0,a.useEffect)(()=>{o&&!r&&i.show()},[i,o,r]),i.isShowing)?a.createElement(eb.rq,{clickOutsideToHide:!0,description:(0,k.tx)("pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"),emphasized:!0,isShowing:i.isShowing,onClose:()=>{s(ni.bE({all_team_flags:[{team_id:e,flags:{[EA]:!0}}]})),i.complete()},shouldCenterArrow:p_.EL.FALLBACK,targetKey:ER,title:(0,k.tx)("pro_onboarding.see_whats_included"),trackingContextName:lu.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:_D.S.getTrackingProperties(e)}):null}let EL="seen_pro_onboarding_unlimited_projects_overlay",EF=(0,ef.r1)(EL);function EP({teamId:e}){let t=(0,ed.md)(EF),r=(0,ed.md)(_P.e),o=(0,n.d4)(e=>e.userTeamFlags),l=o[e]?.[_U.UA],i=o[e]?.[EA],s=(0,W.kO)(),{show:c,isShowing:d,complete:u}=(0,ep.e)({overlay:ev._9u,priority:eE.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[t,r]);return((0,m.h)(()=>{l&&i&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),d)?a.createElement(_M.M,{isShowing:d,userFlagOnShow:EL},a.createElement(a6.fu,{name:_D.S.getTooltipTrackingContext("Unlimited Projects"),properties:_D.S.getTrackingProperties(e)},a.createElement(_B.jA,{dismissModal:u}))):null}function ED(e){let t=(0,n.wA)(),r=a.useRef(null),o=(0,n.d4)(({dropdownShown:e})=>e),l=e.team.org_id??null,i=(0,Z.Q)({currentOrgId:l,currentTeamId:null}),s=(0,n.d4)(e=>e.favorites.collapsedCustomSections),c=(0,tw.S)(),d=a.useMemo(()=>{if("loaded"===i.status)return(0,V.T0)(i.data,e.team.id)},[i,e.team.id]),m=void 0!==d;if("loaded"!==i.status)return a.createElement("div",{className:x.s.flex.itemsCenter.colorIcon.$},a.createElement(es.B,{svg:ph.A}));let u=(0,V.gV)(i.data,l),_=e.dropdownKey&&o&&o.type===e.dropdownKey&&o.data&&o.data.targetRect,p=r.current&&o?.data?.targetRef===r.current&&o?.type===n5.jU,f=r.current,g=[];return e.showInvite&&g.push(a.createElement(lw.c$,{key:"import",children:(0,k.tx)("file_browser.team.invite"),onClick:e.onInviteClick})),g.push(a.createElement(lw.c$,{key:"share",children:(0,k.tx)("file_browser.team.view_members"),onClick:t=>e.onMembersClick(t)})),c&&g.push(a.createElement(lw.c$,{key:"add-to-favorites-section",children:a.createElement("div",{className:x.s.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),a.createElement(es.B,{svg:pv.A})),onClick:a=>{a.stopPropagation(),r.current&&t(ex.j7({type:n5.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.team.id}}))}})),a.createElement("span",null,a.createElement(st.E,{className:U()(x.s.flex.itemsCenter.colorIcon.$,pb.HM),ref:r,onClick:r=>{e.dropdownKey&&f&&t(ex.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},a.createElement(tq.J,null)),_&&a.createElement(pE.Cf,{targetRect:o.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&a.createElement(rA.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite(r,d?.resource.id,a),r&&a&&(s.delete(a),t(eA.U6({collapsedCustomSections:s})),r9.Fp({type:"topLevel",id:"custom",orgId:l,sectionId:a},!0)))},resourceId:e.team.id,resourceType:eP.bk.TEAM,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(i.data?.currentUser?.userSidebarSections?(0,er.oA)(i.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:i.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var EM=r(619706),EB=r(533384),EU=r(539578),E$=r(637307),Ej=r(398599),EW=r(185214),EG=r(928001),EV=r(572754),EH=r(134428),Ez=r(366115),EY=r(814618);function EK(e){let{team:t,orgTeamActionType:r}=e;switch(r){case oJ.gO.CLICK_JOIN:case oJ.gO.BYPASS_REQUEST:return a.createElement(a.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),a.createElement("br",null),(0,k.tx)("file_browser.team.please_join_team"));case oJ.gO.CLICK_REQUEST:return a.createElement(a.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),a.createElement("br",null),(0,k.tx)("file_browser.team.please_request_to_join_team"));case oJ.gO.CLICK_WITHDRAW:return(0,k.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function Eq({team:e}){let t=(0,n.d4)(t=>(0,oJ.YP)(e,t.teamRoleRequests[e.id],(0,t5.getPermissionsState)(t),t.currentUserOrgId)),r=(0,n.d4)(t=>t.teamRoleRequests[e.id]),o=(0,n.wA)(),l=a.createElement("div",{className:"team_page_view--nonMemberViewContainer--uleTt"},a.createElement("div",{className:"team_page_view--header--sTxh6"},a.createElement(rN.nl,{team:e,size:rN.Pf.LARGE}),a.createElement("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.name)),a.createElement("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},a.createElement(EK,{team:e,orgTeamActionType:t})),a.createElement("div",{className:"team_page_view--joinButton--waTM-"},a.createElement(EU.m,{team:e,onJoin:(0,pZ.GR)(o,e.id),onLeave:()=>{o(tS.to({type:oZ.p,data:{teamId:e.id}}))},onJoinRequestOverride:()=>{o(tS.to({type:px.$,data:{team:e}}))},onBypassRequestOverride:(0,pZ.GR)(o,e.id,up.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{let e=r?.id;e&&o(pI.lT({requestId:e}))},isCardActive:!1})));return a.createElement(o8.r,{content:l})}function EJ({teamId:e,selectedTab:t,upgradeModalType:r,showProOnboardingModal:o,showResourceConnectionInviteModal:l}){let i=(0,nL.R)(t=>{let r=t.teams[e];return r&&{...r,canAdmin:(0,t5.canAdminTeam)(e,t),canEdit:(0,t5.canEditTeam)(e,t),canRead:(0,t5.canViewTeam)(e,t),isCurrentUserInTeam:(0,t5.hasViewerRoleAccessOnTeam)(e,t),canEditTeamContents:(0,t5.hasEditorRoleAccessOnTeam)(e,t)}}),s=(0,n.d4)(e=>e.currentUserOrgId),c=(0,n.d4)(e=>i&&i.org_id&&e.orgById[i.org_id]||null),d=(0,n.d4)(e=>e.loadingState),u=(0,n.wA)(),_=(0,ek._6)(),[p,f]=a.useState(!1);(0,Ey.w)(e);let g=(0,EW.Z)(l),E=(0,Ej.t)(g,l);a.useEffect(()=>{l&&E()},[l,E]);let b=(0,aR.w5)(i)&&!i?.org_id;(0,eG.Rs)(eH.yQw,{teamId:e},{enabled:(0,r8._X)(r8.Pw.GROUP_2)});let h=(0,eG.Rs)(eH.GyZ,{teamId:e}),v="loaded"===h.status,y=a.useMemo(()=>(0,EV.X)(h),[h]),w={canAdminTeam:!!(y&&y.canAdmin),canEditTeam:!!(y&&y.canEdit),canReadTeam:!!(y&&y.canRead),canDeleteTeam:!!(y&&y.canDelete),isInTeam:!!(y&&y.isInTeam)};(0,m.h)(()=>{let e=(0,gU.QL)("team_role_redemption");if(e&&parseInt(e)in up.e6){let e=(0,EH.VE)();e&&u(tZ.F.enqueue({message:e})),(0,gU.EM)("team_role_redemption")}}),a.useEffect(()=>{let e=E$.um.loadingKeyForPayload();(0,EG.VP)(d,e)||(0,EG.D2)(d,e)||u(E$.um())},[u,d]),a.useEffect(()=>{s&&u((0,pC.Rw)())},[u,s]),a.useEffect(()=>{if(i)f(!1);else{let t=pZ.HD.loadingKeyForPayload({teamId:e}),r=`TEAM_GET_ACTION_${e}`;s&&!d[t]?u(pZ.HD({teamId:e,disableFlashError:!0})):(0,EG.VP)(d,t)||(0,EG.VP)(d,r)||f(!0)}},[u,d,i,e,s]),a.useEffect(()=>{if(!i||i.org_id)return;let e=_I.m$.loadingKeyForPayload({teamId:i.id});if((0,EG.VP)(d,e)||(0,EG.D2)(d,e)||u(_I.m$({teamId:i.id})),t===eK.A$.BILLING){let e=uW.Be.loadingKeyForPayload({teamId:i.id}),t=uW.NP.loadingKeyForPayload({teamId:i.id}),r=!(0,EG.D2)(d,e)&&!(0,EG.VP)(d,e),a=!(0,EG.D2)(d,t)&&!(0,EG.VP)(d,t);(r||a)&&u(uW.Q({teamId:i.id}))}else if(t===eK.A$.MEMBERS){let e=_I.m$.loadingKeyForPayload({teamId:i.id});(0,EG.VP)(d,e)||(0,EG.D2)(d,e)||u(_I.m$({teamId:i.id}))}else if(t===eK.A$.SETTINGS){let e=uW.Be.loadingKeyForPayload({teamId:i.id});w.canAdminTeam&&b&&!(0,EG.VP)(d,e)&&!(0,EG.D2)(d,e)&&u(uW.Q({teamId:i.id}))}},[u,t,d,i,c,b,w.canAdminTeam]);let T=(0,q.Pc)(),I=(0,eG.Rs)(eH.Cit,{teamId:e}),C=I.data?.team?.currentTeamUser,S=(0,rx.R)();a.useEffect(()=>{let e;if(!(i&&T&&C&&r)||!b)return;let a=r===eP.G_.DEV_MODE,n=r===eP.G_.WHITEBOARD?eP._Y.WHITEBOARD:eP._Y.DESIGN;if(n===eP._Y.DESIGN?e=C.designAccountTypeRequest?.status==="pending":n===eP._Y.WHITEBOARD&&(e=C.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&u(nl.s.flash((0,k.t)("team_view.request_upgrade.request_already_sent"))),!S&&!1===e&&(0,eD.dk)(!!(0,mG.XG)(C,n)||a&&!(0,mG.HA)(C,n),e,i,T)){let e=(0,gU.QL)("entry_point")||(a?_3.i$.DowngradeEmail:_3.tc.DOWNGRADE_EMAIL);u(tS.to({type:pW.PK,data:{editorType:n,team:i,entryPoint:e}}))}u(ex.$T({view:"team",teamId:i.id,teamViewTab:t}))},[u,i,T,C,r,b,t,S]),(0,m.h)(()=>{o&&u(tS.to({type:EY.C,data:{teamId:e}}))});let x=a.useRef(!1);a.useEffect(()=>{!x.current&&"team"===_.view&&_.assetTransferRequestId&&u(tS.to({type:(0,Ew.S)(),data:{selectedAssetTransferRequest:_.assetTransferRequestId}})),x.current=!0});let N=p||!w.canReadTeam&&!s;return v?N?a.createElement(li.S,{resourceType:oi.Ft.TEAM}):i?w.canReadTeam?a.createElement(EX,{team:i,lgTeamPermissions:w,org:c,user:T,selectedTab:t}):a.createElement(Eq,{team:i}):null:a.createElement(eo.qc,null)}function EX({team:e,lgTeamPermissions:t,org:r,user:l,selectedTab:s}){let c;let{canAdminTeam:d,canEditTeam:m,canReadTeam:u,isInTeam:f,canDeleteTeam:g}=t,[{status:E,data:b}]=(0,_.IT)((0,H.Xg)({teamId:e?.id}),{revalidateOnMount:!0}),h="loaded"===E,v=e.id,y=(0,W.Yz)(),w=(0,ee.vt)(v),T=(0,Q.R)(v),I=(0,Q.jn)(),C=(0,W.Xs)(),S=(0,n.d4)(e=>e.teamBilling),N=(0,n.wA)(),R=(0,ek._6)(),A=a.useCallback(t=>{let r={view:"team",teamId:e?e.id:"",teamViewTab:t};N(ex.$T(r))},[N,e]),O=(0,n.d4)(e=>e.avatarEditorState),L=(0,n.d4)(e=>e.teamRoleRequests),F=!!(0,n.d4)(t=>e&&(0,t5.canManageOrgTeam)(e.id,t,t.user?.id)),P=a.useMemo(()=>{if(e&&u)switch(e.org_access){case eP.bU.PRIVATE:return(0,k.t)("file_browser.team_header.closed_team_header");case eP.bU.SECRET:return(0,k.t)("file_browser.team_header.secret_team_header")}},[e,u]),D=a.useMemo(()=>{if(e&&u){if(e.org_access===eP.bU.PRIVATE)return(0,k.t)("file_browser.team_header.closed_team_subtitle");if(e.org_access===eP.bU.SECRET)return(0,k.t)("file_browser.team_header.secret_team_subtitle")}},[e,u]),M=a.useCallback((t,r,a)=>{if(e){let n={team:e,entrypoint:"team_page_view",sectionId:a,favoriteId:r};t?N(eA.DN(n)):N(eA.ox(n))}},[N,e]),B=()=>{N((0,H.SX)({where:rm.Ah.FolderListView,team:{...e,canEdit:V}}))},U=()=>{N(ex.oB()),Y(),A(eK.A$.SETTINGS)},$=e?{team:e,billing:S}:void 0,j={view:"team",teamId:v,teamViewTab:eK.A$.HOME},G=(0,r6.u8)({oldValue:!!e?.canAdmin,newValue:!!t.canAdminTeam,label:r6.A5.TeamPageView.canAdminTeam,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_2),maxReports:5}),V=(0,r6.u8)({oldValue:!!e?.canEdit,newValue:!!t.canEditTeam,label:r6.A5.TeamPageView.canEditTeam,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_4),maxReports:5}),z=(0,ET.n)(EM.am.MEMBERS,$,G,!!t.canEditTeam,!!t.canReadTeam,j),Y=(0,ET.n)(EM.am.SETTINGS,$,G,!!t.canEditTeam,!!t.canReadTeam,j);if(a.useEffect(()=>{s===eK.A$.MEMBERS?z():s===eK.A$.SETTINGS&&Y()},[]),(0,i.kF)("Team"),(0,i.WX)({markName:"MainBodyContent",markCondition:h}),e.org_id)c=h?a.createElement(a.Fragment,null,a.createElement(m5,{canAdminTeam:d,canEditTeamContents:m,eligibleForLockedStateRedesign:y(w),folderList:b||[],isInLockedProTeamRevampExp:C(T),onCreateNewFolder:B,selectedView:R,showTeamNameOrAuthor:!1,team:e,teamId:v,viewId:`team-${v}`}),a.createElement(dk.cx,null)):a.createElement(eo.qc,null);else{let t=(0,r6.HZ)({oldValue:!!e.isCurrentUserInTeam,newValue:!0,label:r6.A5.TeamPageView.isInNonOrgTeam,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_4),maxReports:5});c=a.createElement(a.Fragment,null,h?a.createElement(a.Fragment,null,a.createElement(m5,{canAdminTeam:d,canEditTeamContents:m,eligibleForLockedStateRedesign:y(w),folderList:b||[],isInLockedProTeamRevampExp:C(T),onCreateNewFolder:t?B:void 0,selectedView:R,showTeamNameOrAuthor:!1,team:e,teamId:v,viewId:`team-${v}`}),a.createElement(dk.cx,null)):a.createElement(eo.qc,null))}let K=G?a.createElement(lf.FL,{entity:e,entityType:lp.ck.TEAM,avatarEditorState:O,size:40,dispatch:N,avatarSvg:rO.A,svgSizeRatio:.6}):a.createElement(rN.nl,{team:e,size:40,avatarSvg:rO.A,svgSizeRatio:.6}),q=!u&&!F,J=(0,EB.N)(),X=(()=>{if(q)return;let t=J({team:e,onChangeTeamIconClick:()=>{N((0,lg.o)({team:e}))},onRenameClick:()=>{N(tS.to({type:(0,EI.h)(),data:{team:e}}))},teamRoleRequests:L,selectedTeamPermissions:{canView:u,canAdmin:d,canDelete:g,isInTeam:f}}),a=[];return $&&(m&&(r||a.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:z}),a.push({displayText:(0,k.t)("team_view.settings.view_settings"),callback:U})),r&&a.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:z})),a.length>0&&a.push({displayText:"",separator:!0}),a.push(...t),a})(),Z=X?{kind:la.A.CUSTOM,key:la.D.DROPDOWN,element:a.createElement(l_,{buttonAriaLabel:(0,k.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${e.id}`,dropdownOptions:X})}:void 0,et=e.pro_team&&(0,o.k)().pro_onboarding_launch,er=e.student_team?a.createElement(ES,null):(0,aR.w5)(e)?void 0:a.createElement(Ex,{team:e});return a.createElement(o8.r,{content:a.createElement(a.Fragment,null,c,er),banner:a.createElement(_G,{teamId:v,selectedTab:s}),header:a.createElement(o3,{avatar:K,title:e.name,rightSideActions:function(e,t,r,n,o,l,i,s){let c=[],d=!!Object.keys(l).includes(e.id)&&l[e.id]?.status===pS.c.PENDING,m=(0,r6.HZ)({oldValue:e.canAdmin&&!e.isCurrentUserInTeam,newValue:o.canAdminTeam&&!o.isInTeam,label:EN.A.TeamPageRightSideActions.showJoinAsAdminButton,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_4)}),u=(0,r6.HZ)({oldValue:e.canAdmin,newValue:o.canAdminTeam,label:EN.A.TeamPageRightSideActions.canAdminTeam,enableFullRead:(0,r8.DQ)(r8.Pw.GROUP_4)}),_={kind:o2.A.CUSTOM,key:la.D.FAVORITE,element:a.createElement(r$.r,{setFavorite:n,favoriteType:eP.bk.TEAM,resourceId:e.id,orgId:e.org_id,containerStyle:pb.HM,isInHeader:!0})};m&&c.push({kind:o2.A.BUTTON,key:la.D.JOIN_TEAM,displayText:(0,k.t)("file_browser.team.join_team"),onClick:(0,pZ.GR)(t,e.id,up.e6.ADMIN)});let f=s?ac.Ib.TEXT:void 0,g=s?(0,k.t)("locked_team.label.tooltip"):void 0;o.canEditTeam&&!(0,mG.R$)(r,e.org_id)?c.push({kind:o2.A.CUSTOM,key:la.D.NEW_PROJECT,element:a.createElement("div",{"data-tooltip":g,"data-tooltip-type":f},a.createElement(o6.$n,{"data-onboarding-key":"team-view-new-project-cta","data-testid":"team-view-new-project-cta",variant:"primary",disabled:s,"aria-label":(0,k.t)("project_creation.create_project"),iconPrefix:a.createElement(tJ.x,null),onClick:()=>{t((0,H.SX)({team:{...e,canEdit:o.canEditTeam},where:rm.Ah.FolderListView}))}},(0,k.tx)("file_browser.team.add_project")),a.createElement(EP,{teamId:e.id})),showOnMobile:!0}):!e.org_id||e.org_access===eP.bU.SECRET||m||u||c.push({kind:o2.A.BUTTON,key:la.D.REQUEST_TO_EDIT,displayText:d?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{d?t(pI.lT({requestId:l[e.id]?.id})):t(tS.to({type:px.$,data:{team:e,requesterCurrentLevel:up.e6.VIEWER}}))}});let E=s?p.lQ:()=>{t(tS.to({type:(0,Ek.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))};c.push({kind:o2.A.BUTTON,key:la.D.INVITE,displayText:(0,k.t)("file_browser.team.share"),onClick:E,styleClass:s?pH.EB:void 0,"data-tooltip":g,"data-tooltip-type":f}),e.org_id&&c.push(_);let b=a.createElement(ED,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:!0,onInviteClick:()=>{t(tS.to({type:(0,Ek.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:i,setFavorite:n});return c.push({kind:o2.A.CUSTOM,key:la.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:b}),c}(e,N,l,M,t,L,e=>{e.stopPropagation(),N(ex.oB()),z(),A(eK.A$.MEMBERS)},y(w)||C(I&&T)),rightSideOfTitleAction:Z,pageHeaderIcon:void 0,badge:a.createElement(ny.Y,{direction:"horizontal"},P?a.createElement("div",{className:x.s.ml4.mr4.$,"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":P,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":D},a.createElement(ls.$,null)):void 0,et?a.createElement(a.Fragment,null,a.createElement(a6.fu,{name:ai._Y.PROFESSIONAL,properties:_D.S.getTrackingProperties(v)},a.createElement(a6.$z,{type:"button",onClick:()=>{N(tS.to({type:Ez.q,data:{teamId:e.id}}))},"data-onboarding-key":ER,className:"team_page_view--pointerOnHover--at7fp"},a.createElement(ai.Ex,{color:ai.zE.INFORMATIONAL,text:(0,k.t)("pro_onboarding.professional"),size:ai.vj.EXTRA_LARGE}))),a.createElement(EO,{teamId:v})):void 0)})})}var EQ=r(989446),EZ=r(925025),E0=r(628055),E1=r(142751),E4=r(967064),E5=r(855340);let E2={ctrlKey:"metaKey"};function E7(e,t={}){let r=(0,n.wA)(),o=(0,n.Pj)(),l=a.useMemo(()=>({metaKey:e=>{let t=(0,d8.xS)(o.getState(),e);r(te.V3({url:t}))},...t}),[t,r,o]);return a.useCallback((t,a)=>{let n=e(a),o=Object.keys(l).find(e=>t[e]);if(o){let e=l[f.Ay.mac?o:E2[o]||o];if(e){t.preventDefault(),e(n);return}}r(ex.$T(n))},[l,r,e])}var E3=r(957925),E8=r(792508),E6=r(928890);let E9="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function be(e){let t=(0,n.wA)(),r=(0,q.iZ)(),o=(0,E8.w)(e.user),l=(0,n.d4)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,tS.to)({type:E6.u}))};return a.createElement("div",{className:x.s.flex.flexColumn.ml16.hFull.$},a.createElement(_V.x,{isLoading:e.isLoading},()=>a.createElement(a.Fragment,null,a.createElement("div",{className:"org_user_meta_content--userData--NrFpt"},a.createElement(rN.H8,{user:e.user,size:rN.Pf.LARGE}),a.createElement("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),e.user.profile?.job_title&&a.createElement("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ai.Ex,{color:ai.zE.INVERT,text:(0,E5.lb)(e.user.profile?.job_title)}),e.userId===r?.id&&a.createElement("span",{className:"org_user_meta_content--blueLink--u44PB blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:i},(0,k.tx)("internal_profile.change_job_title"))),e.user.email&&a.createElement("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),a.createElement(_f.TI,{value:e.description??"",placeholder:(0,k.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:_f.qU,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})),o&&e.user?.id===r?.id&&a.createElement(bo,{user:e.user}),l&&a.createElement(el.P,{className:x.s.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:x.s.p16.borderBox.flex.flexColumn.$},a.createElement("div",{className:E9},(0,k.tx)("internal_profile.teams")),a.createElement(bl,{userId:e.userId,orgId:e.orgId}),a.createElement("div",{className:E9},(0,k.tx)("internal_profile.recent_projects")),a.createElement(ba,{files:e.recents,isYourProfile:!e.isReadOnly})))))}function bt(e){let t=(0,q.iZ)(),r=(0,n.wA)();return a.createElement(be,{submitDescription:t=>{r(E3.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function br(e){let t=(0,n.wA)(),r=(0,q.iZ)();return a.createElement(be,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!r||r.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,k.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:r=>{e.orgId&&e.orgUser&&t(p0.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:r},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function ba(e){let t=(0,eF.FC)(),r=E7(e=>({view:"folder",folderId:e})),n=a.useMemo(()=>{if(e.files.status!==EZ.r.SUCCESS)return[];let r=[],a=[];if(!e.files)return r;let n=new Set;for(let o of e.files.value){if(n.has(o.folder_id)||(n.add(o.folder_id),""===o.folder_name||null==o.folder_name))continue;let e={id:o.folder_id,name:o.folder_name,teamName:o.team_name,hasAccess:(0,t5.canViewFolder_DEPRECATED)(o.folder_id,t)};if(e.hasAccess?r.push(e):a.push(e),r.length+a.length>=5)break}return r.concat(a)},[e.files,t]);return a.createElement(_V.x,{state:e.files},()=>a.createElement("div",null,0===n.length&&a.createElement("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,k.t)("internal_profile.your_recent_projects_will_appear_here"):(0,k.t)("internal_profile.their_recent_projects_will_appear_here")),n.map(e=>a.createElement("div",{key:e.id,onClick:e.hasAccess?t=>r(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},a.createElement("span",{"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,k.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function bn(e){return a.createElement("div",{className:"org_user_meta_content--userProfileNotification--qHv4P"},a.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),a.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),a.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj"},e.action))}function bo(e){let{profile:t}=e.user,r=(0,n.wA)();return a.createElement(a.Fragment,null,t?.images?null:a.createElement(bn,{title:(0,k.t)("internal_profile.profile_image_nudge.title"),text:(0,k.t)("internal_profile.profile_image_nudge.text"),action:a.createElement(ea.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--sVVav",onClick:()=>{r((0,lg.X)({entity:e.user,entityType:lp.ck.CURRENT_USER,shape:"CIRCLE"})),(0,G.Cu)({trackingContext:lu.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},(0,k.tx)("internal_profile.profile_image_nudge.action"))}))}let bl=(0,n.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,r]=a.useState(null);a.useEffect(()=>{u3.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{r(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let n=E7(e=>({view:"team",teamId:e.id})),o=(t||[]).sort((t,r)=>{let a=(0,t5.canViewTeam)(t.id,e.permissionState),n=(0,t5.canViewTeam)(r.id,e.permissionState);return a&&!n?-1:!a&&n?1:0});return a.createElement(_V.x,{isLoading:!t},()=>a.createElement("div",{className:x.s.flex.flexColumn.gap8.$},o.map(t=>{let r=(0,t5.canViewTeam)(t.id,e.permissionState);return a.createElement(tr.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:r?n:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${r?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":ac.Ib.TEXT,"data-tooltip":r?void 0:(0,k.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&(0,k.tx)("internal_profile.no_teams_in_common")))});var bi=r(402840),bs=r(30807);function bc(e){let t=(0,bi.i8)(e.publishedPlugins),r=(0,bi.LH)((0,bi.ky)(t,e.userId),e.org),n=Object.keys(r).map(e=>r[e]),o=(0,tE.LN)(n);return 0===o.length?null:a.createElement(a.Fragment,null,a.createElement("div",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})),a.createElement("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},o.map(e=>a.createElement(bs.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"UserOrgResources"})),a.createElement(bs.hT,{numResources:o.length})))}function bd(e){let{org:t}=e,r=(0,n.d4)(r=>(t&&t.id&&r.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?a.createElement(br,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:r}):a.createElement(bt,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let bm={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!1,moveFile:!0,pinToWorkspace:!1},bu=e=>{let t=e.user.id,r=(0,n.wA)(),l=(0,n.d4)(e=>e.selectedView),i=e.orgUser&&e.orgUser.org_id,s=(0,n.d4)(e=>e.currentUserOrgId),c=void 0===i?s:i,d=(0,n.d4)(e=>c&&e.orgById[c]||null),m=(0,o.k)().xr_debounce_threshold&&d,u="user"===l.view?l.userViewTab:void 0;a.useEffect(()=>{r((0,tS.ES)({type:E4.E}))},[r,u]);let _=(0,n.d4)(e=>e.userFlags);a.useEffect(()=>{_.seen_profile||r(eO.b({seen_profile:!0}))},[r,_.seen_profile]);let f=(0,n.d4)(e=>e.tileSortFilterStateByView.user),g=a.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:il.rJ.ANY,fileType:il.t2.ANY},sort:{key:il.C0.ACCESSED_AT,dir:il.ue.DESC}},tileSortFilterConfig:f,sortKeys:[il.C0.NAME,il.C0.CREATED_AT,il.C0.ACCESSED_AT]}),[f]),E=a.useMemo(()=>{let e=new URLSearchParams;return c&&e.append("org_id",c),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,c]),[b,h]=a.useState([]),[v,y]=a.useState(!0),[w,T]=a.useState(null),[I,S]=a.useState(0),x=a.useCallback(e=>{T(e),r(tZ.F.enqueue({message:(0,k.t)("internal_profile.an_error_occurred"),error:!0}))},[r]),{fetchNext:N,hasMore:R}=(0,E0.WQ)(E,x,55),A=a.useCallback(async()=>{if(!R)return;let e=async()=>{try{let e=await N();if(!Array.isArray(e))return;h(t=>[...t,...e])}catch(e){x(e)}};await e()},[N,x,R]);a.useEffect(()=>{(async()=>{b.length<55&&I<3&&(await A(),S(e=>e+1),y(!1))})()},[I]);let O=a.useMemo(()=>b.filter(e=>{switch(f.filters.fileType){case il.t2.ANY:return!0;case il.t2.DESIGN:return"design"===e.editor_type;case il.t2.FIGJAM:return"whiteboard"===e.editor_type;case il.t2.PROTOTYPE:return!1;case il.t2.SITES:return"sites"===e.editor_type;case il.t2.SLIDES:return"slides"===e.editor_type;case il.t2.COOPER:return"cooper"===e.editor_type;case il.t2.MAKE:return"figmake"===e.editor_type;default:(0,C.xb)(f.filters.fileType)}}),[b,f]),L=a.useMemo(()=>w?{status:EZ.r.FAILURE,error:w}:v?{status:EZ.r.LOADING}:{status:EZ.r.SUCCESS,value:O},[v,w,O]),F=(0,EQ.J)(()=>d&&d.community_profile_id?r(E1.pZ({profileId:d.community_profile_id})):Promise.resolve([]),[r,d]),P="user"===l.view&&l.userViewTab===lF.o.INTERNAL_PROFILE_POSTS?lF.o.INTERNAL_PROFILE_POSTS:lF.o.INTERNAL_PROFILE,D=u===lF.o.INTERNAL_PROFILE?[a.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-"},a.createElement(nQ.$4,{options:g,hideSortMenu:!0,selectedView:l,dispatch:r}))]:[],[M,B,U]=cM.t.useManagedTabs({[lF.o.INTERNAL_PROFILE]:!0,[lF.o.INTERNAL_PROFILE_POSTS]:!0},P,e=>{r(ex.$T({view:"user",userId:t,userViewTab:e}))}),$=a.createElement(nQ.g2,{leftSide:m?a.createElement(et.J,null,a.createElement(cM.t.TabStrip,{manager:U},a.createElement(cM.t.Tab,{key:lF.o.INTERNAL_PROFILE,...M[lF.o.INTERNAL_PROFILE]},(0,k.t)("internal_profile.file_contributions")),a.createElement(cM.t.Tab,{key:lF.o.INTERNAL_PROFILE_POSTS,...M[lF.o.INTERNAL_PROFILE_POSTS]},(0,k.t)("internal_profile.posts")))):D,rightSide:m?D:[]}),j=a.useCallback((e,t,a)=>{mu({tile:e,index:a,dispatch:r,selectedView:l,isListView:!1})},[l,r]),{showing:W,show:G,data:V}=(0,ir.L)(),H=a.useCallback((e,t,r)=>{G({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[G]),z=a.useMemo(()=>L.status===EZ.r.SUCCESS?L.value.map(e=>(function(e){let t={...e,name:e.source_file_name?e.source_file_name+": "+e.name:e.name,description:null,created_at:"",url:"",creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,has_proto_link_password:!1,license:null,proto_link_access:null,touched_at:new Date(1e3*e.timestamp).toString(),prototype_url:"",updated_at:"",file_repo_id:null,source_file_key:null,is_try_file:!1};return(0,ra.fA)(t)})(e)):[],[L]);return(0,a6.T8)(a.createElement(o8.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:!e.userNotInPlan&&a.createElement("div",{className:"internal_user_profile_page_view--content--X0lTp"},a.createElement("div",{className:"internal_user_profile_page_view--viewbar--eprew"},$),u===lF.o.INTERNAL_PROFILE&&(F.status===EZ.r.SUCCESS&&L.status===EZ.r.SUCCESS?a.createElement(a.Fragment,null,d&&a.createElement(bc,{userId:t,org:d,publishedPlugins:F.value}),!m&&a.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("internal_profile.file_contributions")),a.createElement(el.P,null,a.createElement(d0.d,{items:z??[],handleOpenTile:j,handleOpenDropdown:H,sortConfig:f.sort,viewType:il.XU.GRID,gridContainerStyle:bp.grid,sortBy:p.lQ}),(()=>{let e=V?.tile??null;return a.createElement(a6.fu,{name:lu.e0.TILES_VIEW_DROP_DOWN,enabled:W,properties:{tileType:e?.type,tileFileId:e?.type===ra.nb.FILE?e?.file.key:void 0}},a.createElement(ia.i,{tileActions:bm,selectedTiles:e?[e]:[],tile:e,openTile:()=>{e?.type===ra.nb.FILE&&(0,rt.Tq)(r,e.file)},dropdownVisible:W}))})())):a.createElement(eo.qc,null)),u===lF.o.INTERNAL_PROFILE_POSTS&&d&&a.createElement(dw,{currentOrgId:d.id,selectedUser:e.user})),metaContent:a.createElement(bd,{user:e.user,recents:L,org:d,orgUser:e.orgUser})}),lu.e0.USER_DETAILS,{view:"org_user",userId:t})};function b_(e){return a.createElement(bu,{key:e.user.id,user:e.user,orgUser:e.orgUser,userNotInPlan:e.userNotInPlan})}let bp={grid:{paddingRight:"x1m2p0i2",paddingLeft:"x163pfp",paddingInlineStart:null,paddingInlineEnd:null,paddingBottom:"x1gan7if",$$css:!0}},bf=(e,t,r)=>r?Promise.resolve([]):u3.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),bg=(e,t,r)=>e&&e.id===r?Promise.resolve(e):u3.k.getUser({userId:r}).then(e=>e.data.meta).catch(e=>{throw t(nl.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),bE=(e,t,r)=>r?e(p0.I1({orgId:r,userId:t,allowNoOrgUser:!0})):Promise.resolve(null),bb={[lF.o.INTERNAL_PROFILE]:{Component:b_},[lF.o.INTERNAL_PROFILE_POSTS]:{Component:b_},[lF.o.PLUGINS]:{Component:a.Fragment}};function bh(e){return a.createElement(e.component,{...e.context})}function bv(e){let t=(0,n.wA)(),r=(0,q.iZ)(),o=e.orgId,l=(0,n.d4)(e=>e.currentUserOrgId),i=void 0===o?l:o,s=(0,ez.tJ)().unwrapOr(null),c=(0,EQ.J)(()=>{let a=bg(r,t,e.userId),n=bE(t,e.userId,i);return Promise.all([a,bf(t,e.userId,i),n]).then(([r,a,n])=>(i&&!n&&t(tZ.F.enqueue({type:"org_user_not_found",message:s?.name?(0,k.t)("org_user_actions.org_user_not_found",{userHandle:r.handle,planName:s.name}):(0,k.t)("org_user_actions.org_user_not_found_without_plan_name",{userHandle:r.handle}),error:!0,onDismiss:p.lQ})),(0,rt.hL)(r.handle),{userNotInPlan:!!(i&&!n),userId:e.userId,user:r,teams:a,orgUser:n,profileHandle:r.community_profile_handle||null,on404Redirect:a.length>0||n?()=>{t(ex.$T({view:"user",userId:e.userId,orgId:i,userViewTab:lF.o.INTERNAL_PROFILE}))}:()=>{d.Ay.redirect("/404")}}))},[t,r,i,e.userId,s]),{tab:m}=e;if(!m)return null;let{Component:u}=bb[m];return a.createElement(_V.x,{className:"user_page_view--loadingContainer--vr9Zb",state:c,failure:void 0},t=>a.createElement(bh,{component:u,tab:m,userId:e.userId,context:t}))}function by({workspaceId:e}){let t=(0,Y.sZ)(),r=(0,J.P)(t.id,e);return"loaded"!==r.status?null:"Unassigned"===r.data?a.createElement(oE.A5,null,a.createElement(bT,{org:t,workspaceId:e})):a.createElement(oE.A5,null,a.createElement(bw,{org:t,workspaceId:e,workspace:r.data}))}function bw({org:e,workspaceId:t,workspace:r}){let n=oP(r);return a.createElement(bT,{org:e,workspaceId:t,parentBackgroundColor:n})}function bT({org:e,workspaceId:t,parentBackgroundColor:r}){let o=(0,n.wA)();return a.createElement(oE.jT,{text:e.name,parentBackgroundColor:r,onClick:r=>{o(ex.$T({view:"org",orgId:e.id,orgViewTab:tA.X.HOME})),(0,G.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})}})}function bI({showingFileBrowserLoader:e}){let t=(0,ek._6)();a.useEffect(()=>{(0,G.o5)(t)},[t]);let r=(0,Y.dq)(),l=(0,n.d4)(e=>(0,t5.getPermissionsStateMemoized)(e));(0,r6.MF)({oldValue:S.Qw.useMemoizedLoaded((0,t5.canAdminOrg)(r,l)),newValue:(0,ez.j_)(),label:r6.A5.FileBrowserRouter.canAdminOrg,contextArgs:{selectedView:t.view}});let i=function(){let e=(0,n.wA)(),t=(0,q.Pc)(),r=(0,Y.dq)(),l=(0,ek._6)(),i=(0,eF.FC)(),s=(0,nM.cD)(),c=(0,Y.sZ)(),d=(0,n.d4)(e=>e.teams),m=(0,n.d4)(e=>e.search),u=(0,eV.H)({useCurrentPlan:!0}),_=function(){let e=(0,ts.mX)(),t=(0,ut.T)();return a.useCallback(({from:r})=>t?[r===iB.f6.FILE_BROWSER_TOPBAR_RECENTS?e()?a.createElement(Ep,{key:"recentFilesCreationHeader"}):a.createElement(sJ.h4,{key:"resourceCreationAction",newFileFrom:r,leftContent:a.createElement(fx,null)}):a.createElement(sJ.R2,{key:"resourceCreationAction",newFileFrom:r})]:[],[e,t])}();switch(l.view){case"resourceHub":if(!(0,eR.yl)())return null;return{pageHeaderContent:a.createElement(cQ,null),pageContent:a.createElement(cX,null)};case"deletedFiles":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,a6.T8)(a.createElement(m8,{key:"trashed",selectedTab:m3.FILES}),lu.e0.FILE_BROWSER,{view:"trashed"})};case"litmus":if(!(0,c0.OF)())return null;switch(l.subView){case"projects":return{pageHeaderContent:"Litmus",pageContent:a.createElement(cZ.AJ,null)};case"feed":return{pageHeaderContent:"Litmus",pageContent:a.createElement(cZ.YA,null)}}case"trashedFolders":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,a6.T8)(a.createElement(m8,{key:"trashed",selectedTab:m3.FOLDERS}),lu.e0.FILE_BROWSER,{view:"trashed"})};case"draftsToMove":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts_to_move"),pageContent:a.createElement(_p,{key:"draftsToMove"})};case"folder":if(l.folderId===t?.drafts_folder_id)return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts"),pageHeaderActions:_({from:iB.f6.FILE_BROWSER_TOPBAR_DRAFTS}),pageContent:(0,a6.T8)(a.createElement(uQ,{folderId:l.folderId,key:"drafts",userId:t.id}),lu.e0.FILE_BROWSER_DRAFTS,{orgId:r,teamId:s})};return{pageContent:(0,a6.T8)(a.createElement(pK,{folderId:l.folderId,key:`folder-${l.folderId}`}),lu.e0.FOLDER_PAGE,{orgId:r,teamId:s,folderId:l.folderId})};case"workspace":switch(l.subView){case e8.V0.ADMIN:return{pageHeaderContent:a.createElement(by,{workspaceId:l.workspaceId}),pageHeaderDividerHidden:!0,pageContent:(0,a6.T8)(a.createElement(O.y$,{workspaceId:l.workspaceId,selectedTab:l.selectedTab}),lu.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:l.workspaceId,workspaceViewTab:l.selectedTab})};case e8.V0.DIRECTORY:return{pageHeaderContent:a.createElement(by,{workspaceId:l.workspaceId??null}),pageHeaderDividerHidden:!0,pageContent:(0,a6.T8)(l.workspaceId?a.createElement(iP,{key:l.workspaceId,workspaceId:l.workspaceId}):a.createElement(ll,null),lu.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:l.workspaceId,workspaceGroupViewTab:l.selectedTab})};default:(0,C.xb)(l)}case"licenseGroup":if(l.subView===e3.GN.ADMIN)return{pageContent:(0,a6.T8)(a.createElement(O.VY,{licenseGroupId:l.licenseGroupId,selectedTab:l.selectedTab}),lu.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:l.licenseGroupId,licenseGroupViewTab:l.selectedTab})};(0,C.xb)(l);case"org":return{pageHeaderContent:c?a.createElement(aT,null):void 0,pageHeaderActions:[a.createElement(pQ,{orgId:l.orgId,key:"org-page-header-actions"})],pageContent:(0,a6.T8)(a.createElement(fw,{orgId:l.orgId,selectedTab:l.orgViewTab}),lu.e0.ORG_PAGE,{orgId:l.orgId,orgViewTab:(l.orgViewTab===tA.X.HOME?"HOME":l.orgViewTab)||""})};case"orgAdminSettings":let p=(0,R.a)(l.orgAdminSettingsViewTab,l.orgAdminSettingsViewSecondaryTab,{showResourceConnectionInviteModal:!!(u&&l.showResourceConnectionInviteModal),showResourceConnectionFlyout:!!(u&&l.showResourceConnectionFlyout)});return{pageContent:(0,a6.T8)(a.createElement(O.vW,{selectedTab:l.orgAdminSettingsViewTab,selectedSecondaryTab:p,selectedExtensionId:l.selectedExtensionId,selectedWorkspaceId:l.selectedWorkspaceId,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,showResourceConnectionFlyout:l.showResourceConnectionFlyout}),lu.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:r,orgViewTab:l.orgAdminSettingsViewTab,source:l.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:p})};case"abandonedDraftFiles":return{pageContent:(0,a6.T8)(a.createElement(O.dZ,{abandonedDraftFolderId:l.abandonedDraftFolderId,planType:l.adminPlanType,planId:l.planId}),lu.e0.ABANDONED_DRAFTS_PAGE,l.adminPlanType===iU.O.ORG?{orgId:l.planId}:{teamId:l.planId})};case"orgDomainManagement":let g=a.createElement(oE.A5,null,a.createElement(oE.J5,{text:(0,k.t)("general.admin"),onClick:()=>{e(ex.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eY.J7.DASHBOARD}))},hasTrailingDivider:!0}),a.createElement(oE.J5,{text:(0,k.t)("org_dashboard.settings"),onClick:()=>{e(ex.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eY.J7.SETTINGS}))},hasTrailingDivider:!1}));return{pageContent:(0,a6.T8)(a.createElement(O.Oe,null),lu.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:r}),pageHeaderContent:g};case"billingGroupDashboard":return{pageContent:(0,a6.T8)(a.createElement(O.wu,{selectedTab:l.selectedTab}),lu.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:r,orgViewTab:l.selectedTab})};case"recentsAndSharing":let E=l.tab??i$.G.RECENTLY_VIEWED,b=_({from:iB.f6.FILE_BROWSER_TOPBAR_RECENTS});return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.recents"),pageHeaderActions:b,pageContent:(0,a6.T8)(a.createElement(g3,{selectedTab:E,userId:t.id,accountModalTab:l.accountModalTab,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),lu.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:r?lu.qo.ORG:lu.qo.PERSONAL})};case"componentBrowser":if(!(0,o.k)().dt_component_browser_file_browser)return null;return{pageHeaderContent:"Your libraries",pageContent:(0,a6.T8)(a.createElement(o8.r,{content:a.createElement(ua,{currentOrgId:r})}),lu.e0.FILE_BROWSER,{view:"componentBrowser"})};case"componentBrowserLibrary":if(!(0,o.k)().dt_component_browser_file_browser)return null;return{pageHeaderContent:a.createElement(ul.a,{libraryKey:l.libraryKey,libraryName:l.libraryName}),pageContent:(0,a6.T8)(a.createElement(ul.ComponentBrowserLibraryView,{libraryKey:l.libraryKey,componentKey:l.componentKey,location:"fileBrowser"}),lu.e0.FILE_BROWSER,{view:"componentBrowserLibrary"})};case"resourceUnavailable":return{pageContent:a.createElement(li.S,{resourceType:l.resourceType})};case"search":{let{searchScope:e,query:t}=m.parameters,r=!f.Ay.mobile;return{pageHeaderContent:a.createElement(bC,{query:t}),pageContent:(0,a6.T8)(a.createElement(nQ.bS,null),lu.e0.UNIFIED_SEARCH,{showInternalModal:r&&e!==ij.Rx.COMMUNITY,showCommunityModal:r&&e===ij.Rx.COMMUNITY})}}case"seatRequests":return{pageContent:(0,a6.T8)(a.createElement(L.m,null),lu.e0.SEAT_REQUESTS_PAGE,{orgId:r,teamId:s,planType:l.adminPlanType})};case"sharedWithYou":return{pageContent:a.createElement(Ev,{tab:l.tab})};case"limitedTeamSharedProjects":return{pageContent:a.createElement(pq,null)};case"team":{let e=d[l.teamId],t=l.teamViewTab??(0,nM.ZP)(e,i);return{pageContent:(0,a6.T8)(a.createElement(EJ,{teamId:l.teamId,selectedTab:t,upgradeModalType:l.upgradeModalType,showProOnboardingModal:l.isProUpgrade,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,key:`team-${l.teamId}`}),lu.e0.TEAM_PAGE,{teamId:l.teamId,canUpgradeToPro:(0,aR.hp)(e,i),userSpace:r?lu.qo.ORG:lu.qo.PERSONAL,orgId:r})}}case"teamAdminConsole":{let e=l.teamAdminConsoleViewTab??(l.isProTeam?eK.Iv.DASHBOARD:eK.Iv.MEMBERS),t=(0,A.X$)(e,l.teamAdminConsoleViewSecondaryTab,{showResourceConnectionInviteModal:!!(u&&l.showResourceConnectionInviteModal),showResourceConnectionFlyout:!!(u&&l.showResourceConnectionFlyout)});return{pageContent:(0,a6.T8)(a.createElement(O.JC,{teamId:l.teamId,selectedTab:e,selectedSecondaryTab:t,showResourceConnectionInviteModal:l.showResourceConnectionInviteModal,showResourceConnectionFlyout:l.showResourceConnectionFlyout}),lu.e0.TEAM_ADMIN_PAGE,{teamId:l.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":return{pageHeaderContent:a.createElement(oE.A5,null,a.createElement(oE.J5,{text:(0,k.t)("fig_feed.feed"),onClick:()=>{e(ex.$T({view:"teamFeed"}))},hasTrailingDivider:!1})),pageHeaderActions:[a.createElement(dS,{key:"create-feed-post-button"})],pageContent:a.createElement(bS,{postUuid:l.postUuid,creatorId:l.creatorId})};case"user":return{pageHeaderContent:(0,k.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===l.userId?[a.createElement(fk,{key:"viewCommunityProfileAction"})]:void 0,pageContent:a.createElement(bv,{userId:l.userId,tab:l.userViewTab,orgId:l.orgId})};default:return null}}();if(!i)return null;let{CustomPageLayout:s,pageContent:c}=i;return s?a.createElement(ue,null,a.createElement(s,null,!e&&c)):a.createElement(ue,null,a.createElement(oV,{showingFileBrowserLoader:e,pageHeaderContent:i.pageHeaderContent,pageHeaderActions:i.pageHeaderActions,pageHeaderDividerHidden:i.pageHeaderDividerHidden},c))}function bC(e){return e.query?a.createElement("div",{className:x.s.flex.columnGap8.$},a.createElement("span",{className:x.s.flexShrink0.$},a.createElement(N.E,{color:"secondary"},(0,k.tx)("search.search_results_for"))),a.createElement("div",{className:x.s.flex.fontMedium.minW0.$},"\u201C",a.createElement(N.E,{truncate:!0},e.query),"\u201D")):a.createElement("div",{className:x.s.flex.columnGap8.$},a.createElement("span",{className:x.s.flexShrink0.$},a.createElement(N.E,{color:"secondary"},(0,k.tx)("search.search_results"))))}function bS(e){return(0,iM.w)()?a.createElement(dL,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var bx=r(615399),bk=r(693965),bN=r(693506),bR=r(20701),bA=r(215874),bO=r(660785),bL=r(578427);let bF="add_collaborators--emailListItem--dnvC-";function bP({selectedView:e}){let[t,r]=a.useState(["","",""]),o=(0,n.d4)(t=>t.teams[e.teamId]),l=(0,n.d4)(e=>e.teamCreation),i=(0,n.d4)(e=>e.payment),s=(0,n.wA)(),c=a.useCallback(()=>{o&&s(ex.$T({view:"team",teamId:o.id}))},[s,o]),d=a.useCallback((e,a)=>{if(a>=t.length)return;let n=[...t];n[a]=e,r(n)},[t]),m=a.useCallback(()=>{r([...t,""])},[t]),u=a.useCallback(()=>{let e=!!l.isEduTeam;i.promo?s(bO.g_({teamId:o.id,teamName:o.name,previousView:{view:"team",teamId:o.id}})):e?s(s4.Vm({teamId:o.id,showBreadcrumbs:!0})):s(ex.$T({view:"teamUpgrade",teamFlowType:oi.SC.UPGRADE_EXISTING_TEAM,teamId:o.id,paymentStep:s5.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:o.id},planType:oi.Sc.TEAM}))},[s,o,i.promo,l.isEduTeam]),_=a.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=a.useCallback(()=>{s((0,bL.rq)({emails:_(),resourceType:eP.vt.TEAM,resourceIdOrKey:o.id,level:up.e6.EDITOR,onSuccess:()=>{s(_I.r1({loading:!1})),u()}}))},[_,o,u,s]);return a.createElement(a6.fu,{name:"Add Collaborators",properties:{teamId:o?.id}},a.createElement("div",null,a.createElement(bN.O,{menu:a.createElement(bk.X,{onClick:c},a.createElement(es.B,{svg:n8.default,className:"add_collaborators--modalCloseX--sJGp5"}))},a.createElement(bA.J,{index:2}),a.createElement(bR.JR,null,(0,k.tx)("team_creation.add_your_collaborators")),a.createElement(bR.Kh,null,(0,k.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")),a.createElement("div",{className:"add_collaborators--formContainer--zTKXv"},a.createElement("div",{className:"add_collaborators--emailInputsContainer--19ZBc"},t.map((e,t)=>a.createElement(ea.il,{key:`collaborator-email-input-${t}`,className:bF,value:e,onChange:e=>d(e.target.value,t),maxLength:255,placeholder:(0,k.t)("team_creation.email")}))),a.createElement(ea.nR,{className:bF,onClick:m},(0,k.tx)("team_creation.add_another")),a.createElement("div",{className:"add_collaborators--spacing--2VA7s"}),a.createElement("div",{className:"add_collaborators--ctaContainer--VGMvb"},a.createElement(ea.nD,{disabled:0===_().length,onClick:p,trackingProperties:{numCollaborators:_().length}},(0,k.tx)("team_creation.continue")),a.createElement(ea.Ph,{onClick:u,trusted:!0},(0,k.tx)("team_creation.skip_for_now")))))))}var bD=r(474020),bM=r(602836),bB=r(136426),bU=r(124948),b$=r(143702),bj=r(868417),bW=r(458609);let bG=["folder","team","search","recentsAndSharing"];function bV(){let e=(0,n.d4)(e=>e.autosave),t=(0,ek._6)(),r=(0,bM.y)(),{unsyncedFiles:o,localUnsyncedFiles:l}=(0,uc.Gg)();return!r||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(o.length>0||l.length>0)&&bG.includes(t.view)?a.createElement(bz,{unsyncedFiles:o,localUnsyncedFiles:l}):null}let bH=!1;function bz(e){let t=(0,n.wA)();a.useEffect(()=>{let e=()=>{t(bU.Jw())};return bj.hp.register(bj.a,e),function(){bj.hp.unregister(bj.a,e),t(tS.ES({type:bB.EO.type}))}},[t]);let r=(0,ek._6)(),[o,l]=a.useState(!1);a.useEffect(()=>{bH||(bH=!0,(0,bD.Mw)()),o||(l(!0),(0,nY.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:r.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,o,r]);let i=(0,q.iZ)(),s=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===s.length||!i)return a.createElement(a.Fragment,null);let c=s.length>1,m=s[0],u=(0,b$.y8)(m)?m.file.name:m.name,_=u.length>40?u.substring(0,40)+"\u2026":u,p=c?(0,k.t)("autosave.notification.message.more_than_one_file"):(0,k.t)("autosave.notification.message.one_file",{fileName:_}),f=c?(0,k.tx)("autosave.notification.action_review"):(0,k.tx)("autosave.notification.action_open_to_sync");return a.createElement("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L"},a.createElement(es.B,{className:"autosave_notification--icon--uvtXB",svg:bW.A,width:"24",height:"24"}),a.createElement("div",{className:"autosave_notification--message--yAhFz"},p),a.createElement("div",{className:"autosave_notification--actions--dk-yq"},a.createElement("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{c?t(tS.to({type:bB.EO})):(0,b$.y8)(m)?d.Ay.redirect((0,ro.r1)(rl.F.toLiveGraph(m.file),!0),"_blank"):t(d1.NA({file:m,openNewFileIn:iB.ai.NEW_TAB,source:d6.U.AUTOSAVE_NOTIFICATION}))}},f),a.createElement("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,nY.sx)("Autosave Notification Snooze",{files:s.length,firstFile:m.fileKey}),t(bU.zE(Date.now()))}},(0,k.tx)("autosave.notification.action_later"))))}var bY=r(180608);let bK="team-org-access-dropdown";function bq(e){let t=(0,n.wA)(),r=e.dropdownShown&&e.dropdownShown.type===bK;return a.createElement("div",{className:"team_org_access_dropdown--orgAccess--JAIwP"},a.createElement("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),r?t(ex.oB()):t(ex.j7({type:bK}))}},(0,mG.ZP)()[e.orgAccess],a.createElement(es.B,{svg:ae.A,className:"team_org_access_dropdown--downCaret--INuva"})),r&&a.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn"},a.createElement(lw.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm"},a.createElement(lw.MM,{checked:e.orgAccess===eP.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(eP.bU.PUBLIC)}},(0,mG.ZP)()[eP.bU.PUBLIC]),a.createElement(lw.MM,{checked:e.orgAccess===eP.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(eP.bU.PRIVATE)}},(0,mG.ZP)()[eP.bU.PRIVATE]),a.createElement(lw.MM,{checked:e.orgAccess===eP.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(eP.bU.SECRET)}},(0,mG.ZP)()[eP.bU.SECRET]))))}let bJ="team_creation--createTeamText--VjY8f";function bX({currentTeamId:e,currentUserOrgId:t,user:r,selectedView:l,dropdownShown:i,teamCreation:s,orgById:c}){var m;let u=(0,n.wA)(),[_,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(eP.bU.PUBLIC),E=l.ignoreCurrentPlan,b=t&&!E?c[t]:null,h=!e&&!t,v=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(v.current)for(let e=0;e<v.current.elements.length;e++){let t=v.current.elements[e];if(!t.value){t.focus();break}}t&&!E&&(0,nY.sx)("team_creation_started",{user_id:r?.id??"",org_id:t})},[t,r,E]);let y=e=>{e.preventDefault(),e.stopPropagation(),_?(u((0,pC.KQ)({teamName:_,orgAccess:f,dontRedirect:!!l.onSubmitReturnToPrevView,ignoreCurrentPlan:E})),l.onSubmitReturnToPrevView&&u(ex.$T((0,d.Gl)()||{view:"recentsAndSharing"}))):u(nl.s.error((0,k.t)("team_creation.your_team_name_cannot_be_empty")))},w=!(t&&!E)&&!l.onSubmitReturnToPrevView,T=(0,o.k)().ps_benchmark&&h?null:a.createElement(bk.X,{onClick:()=>{u(ex.$T((0,d.Gl)()||{view:"recentsAndSharing"}))}},a.createElement(es.B,{svg:n8.default,className:"team_creation--modalCloseX--TTg32"}));return a.createElement(a6.fu,{name:"Team Creation"},a.createElement("div",null,a.createElement(bN.O,{menu:T},w&&a.createElement(bA.J,{index:1}),a.createElement("form",{ref:v,onSubmit:y},a.createElement(bR.JR,null,(0,k.tx)("team_creation.create_a_team_title")),a.createElement("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU"},a.createElement("div",{className:"team_creation--teamNameContainer--B6Pc3"},a.createElement("div",{className:"team_creation--teamNameLabel--ohZWy"},(0,k.tx)("team_creation.team_name_label")),a.createElement(ea.il,{value:_||"",onChange:e=>{p(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,k.t)("team_creation.team_name_input_placeholder")})),b?a.createElement("div",{className:"team_creation--orgTeamSettings--bDW2R"},a.createElement("div",{className:x.s.flex.$},a.createElement("div",{className:x.s.fontSemiBold.$},(0,k.tx)("team_creation.access_within_the_organization")),a.createElement(bq,{orgAccess:f,dropdownShown:i,onChangeOrgAccess:e=>{g(e)}})),a.createElement("div",{className:bJ},(m=b.name,{[eP.bU.PUBLIC]:(0,k.tx)("org_access_strings.public.description_with_org_name",{orgName:m}),[eP.bU.PRIVATE]:(0,k.tx)("org_access_strings.closed.description_with_org_name",{orgName:m}),[eP.bU.SECRET]:(0,k.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:a.createElement("span",{className:x.s.fontSemiBold.$},(0,k.tx)("org_access_strings.secret.description.disclaimer_label")),orgName:m})})[f])):a.createElement("div",{className:bJ},(0,k.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")),a.createElement(ea.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:s.loading,onClick:y},(0,k.tx)("team_creation.create_team_button")))))))}function bQ({selectedView:e}){let t=(0,n.wA)(),r=(0,Y.dq)(),l=(0,n.d4)(e=>e.orgById),i=(0,q.iZ)(),s=(0,n.d4)(e=>e.currentTeamId),c=(0,dr.Um)(),m=(0,n.d4)(e=>e.teamCreation),u=r?l[r]:null,_=(0,ez.wy)({component:"TeamCreationPage",attribute:"mainWorkspaceId",migrationGroup:oy.L.GROUP_2,legacy:(e,t)=>t?.workspace_users?.find(e=>e.is_main_workspace)?.workspace_id,migrated:e=>e?.fromOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId}),{cannotCreateTeamReason:p}=(0,J.LM)(u,_??null);return(0,mG.R$)(i,r)||p===J.z4.TEAM_CREATION_CONTROL&&!(0,o.k)().ps_benchmark?(d.Ay.redirect("/"),t(nl.s.error((0,k.t)("team_creation.missing_team_creation_controls"))),null):a.createElement(bX,{currentTeamId:s,currentUserOrgId:r,user:i,dropdownShown:c,teamCreation:m,orgById:l,selectedView:e})}let bZ="team_restore--page--cMEe2",b0="team_restore--section--AmfWe",b1="team_restore--button--C-gOz";function b4({selectedView:e}){let t,r;let o=(0,n.wA)(),[l,i]=a.useState(!1),s=e.teamId,c=(0,n.d4)(e=>e.teams[s]);a.useEffect(()=>{i(!0),ns.$.getDeleted({teamId:s}).then(({data:e})=>{o(_I.bE({team:e.meta})),i(!1)}).catch(e=>{400!==e.status&&(o(ex.$T({view:"recentsAndSharing"})),o(nl.s.error(`${e.data.message}`))),i(!1)})},[o,s]);let d=()=>{o(ex.$T({view:"recentsAndSharing"}))},m=a.createElement(ea.vd,{className:b1,onClick:d},(0,k.tx)("team_restore.back"));if(c){if(c.deleted_at){let e=(0,em.A)(c.deleted_at).add(28,"days").toDate();t=(0,k.t)("team_restore.confirm_restore_header",{teamName:c.name}),r=a.createElement("div",null,(0,k.tx)("team_restore.confirm_restore"),a.createElement("br",null),a.createElement("br",null),(0,k.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})),m=a.createElement(ea.vd,{className:b1,onClick:()=>{o(_I.I9({teamId:s}))}},(0,k.tx)("team_restore.restore"))}else t=(0,k.t)("team_restore.ineligible"),r=(0,k.t)("team_restore.questions_contact_support",{supportEmail:(0,aZ.W4)()})}else{if(l)return a.createElement("div",{className:bZ},a.createElement("div",{className:b0},a.createElement(eo.kt,null)));t=(0,k.t)("team_restore.expired_header"),r=a.createElement("div",null,(0,k.tx)("team_restore.expired"),a.createElement("br",null),a.createElement("br",null),(0,k.tx)("team_restore.questions_contact_support",{supportEmail:(0,aZ.W4)()}))}return a.createElement(a6.fu,{name:"Team Restore",properties:{teamId:s}},a.createElement(bN.O,{menu:a.createElement(es.B,{svg:n8.default,onClick:d,className:"team_restore--modalCloseX--XNErW"})},a.createElement("div",{className:bZ},a.createElement("div",{className:b0},a.createElement("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),a.createElement("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd"},r),m))))}var b5=r(988520),b2=r(95646),b7=r(595919),b3=r(996511),b8=r(511231),b6=r(993421),b9=r(8509);let he="legacy_upgrade--closeButton--zJ0JO";var ht=r(605247);function hr({selectedView:e}){let t=(0,n.wA)(),r=(0,n.d4)(t=>t.teams[e.teamId]);if((0,b5.uy)(r))throw Error("Team is nullish");let{taxes:o,numDesignEditors:l,numWhiteboardEditors:i,submitPending:s}=(0,n.d4)(e=>e.payment),c=(0,n.d4)(e=>e.teamUserByTeamId[r.id]||{}),d=(0,n.d4)(e=>e.teamBilling.summary.currency),m=(0,n.d4)(e=>e.loadingState),u=uW.Be.loadingKeyForPayload({teamId:r.id}),_=(0,EG.VP)(m,u)&&!(0,EG.D2)(m,u),p={planParentId:r.id,planType:eP.OL.TEAM},f=(0,b2.vK)(p),g=f.data,E=b7.Oq.exclude([_6.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:b6.Ju.PRO,renewalTerm:b6.IX.MONTH,unit:b6.IX.MONTH})),b=b7.Oq.exclude([_6.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:b6.Ju.PRO,renewalTerm:b6.IX.YEAR,unit:b6.IX.MONTH})),h=t4.Qw.all([(0,b2.ic)(E,p,b2.Fq.ADMIN_SETTINGS,{enabled:!!g}),(0,b2.ic)(b,p,b2.Fq.ADMIN_SETTINGS,{enabled:!!g})]),v=_||"loading"===f.status||"loading"===h.status;if((0,a.useEffect)(()=>{(0,EG.VP)(m,u)||(0,EG.D2)(m,u)||t(uW.Be({teamId:r.id}))},[m,t,u,r.id]),v)return a.createElement(eo.Z_,null);if(null===h.data)throw Error("Price data is null");let y=a.createElement(es.B,{svg:n8.default,onClick:()=>{(0,nY.sx)("Add Annual Plan Canceled",{teamId:e.teamId}),window.history.length<=1?t(ex.$T({view:"team",teamId:e.teamId})):history.go(-1)},className:he}),w=r?.editors??0,T=Object.keys(c).filter(e=>c[e]?.whiteboard_paid_status===pN.Zf.FULL).length,I=new b8.vr(d),[C,S]=h.data,x=C[_6.ud.DESIGN].amount,N=C[_6.ud.FIGJAM].amount,R=S[_6.ud.DESIGN].amount,A=S[_6.ud.FIGJAM].amount;return a.createElement("div",{className:"legacy_upgrade--addAnnualPlan--ZH1cn"},a.createElement(bN.O,{menu:y},a.createElement(a6.fu,{name:"Step Pay"},a.createElement("div",{className:ht.yU},a.createElement(bR.JR,null,(0,k.tx)("payments.add_annual_plan.title")),a.createElement(bR.Kh,null,a.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--MmsnZ"},(0,k.tx)("payments.add_annual_plan.intro.seat_rename",{monthlyDesignEditorCost:I.formatMoney(x,{showCents:!1}),monthlyFigjamEditorCost:I.formatMoney(N,{showCents:!1})}))),a.createElement("div",{className:ht.fI},a.createElement(b9.tG,{annualMonthlyDesignAmount:R,annualMonthlyFigjamAmount:A,currency:d,dispatch:t,isTeamPro:!0,monthlyDesignAmount:x,monthlyFigjamAmount:N,numAnnualDesignEditors:l||0,numAnnualWhiteboardEditors:i||0,onNumAnnualDesignEditorsChange:e=>{t(s4.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(s4.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(ex.$T({view:"team",teamId:e.teamId,teamViewTab:eK.A$.SETTINGS}))},submitPending:s,taxes:o,teamId:e.teamId,totalDesignEditors:w,totalWhiteboardEditors:T}),a.createElement("form",{onSubmit:r=>{r.preventDefault(),t(eO.b({completed_pro_cart_flow:!0})),t(s4.I2({submitPending:!0})),t(s4.XF({teamId:e.teamId}))}},a.createElement("div",{className:ht.ay},(0,k.tx)("payments.add_annual_plan.auto_renew.seat_rename",{cancellingIsEasyLink:a.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},(0,k.tx)("payments.add_annual_plan.cancelling_is_easy_link_text"))}),a.createElement("br",null),a.createElement("br",null),(0,k.tx)("payments.add_annual_plan.tos",{tosLink:a.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},(0,k.tx)("payments.add_annual_plan.tos_link_text"))})),a.createElement("div",{className:`${ht.Ou} ${ht.nM}`},a.createElement(ea.vd,{type:"submit",disabled:s,className:`${ht.XX}`},(0,k.tx)("payments.add_annual_plan.cta_text")))))))))}function ha(e){return a.createElement(P.tH,{boundaryKey:"AddAnnualPlan",team:M.e.BILLING,fallback:a.createElement(b3.K,null)},a.createElement(hr,{...e}))}var hn=r(545754),ho=r(256972);function hl(e){let t=(0,q.iZ)(),[r,l]=a.useState(()=>(0,b8.LN)()),i=a7.b.UPGRADE_NEW_TEAM,s=(0,n.wA)(),c=(0,I.sx)(),d=(t,a)=>{let n=e.selectedView;s(s4.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:r,billingPeriod:a}))},m=null===e.selectedView.teamId?void 0:()=>{let r=(0,o.k)().ps_benchmark,a=t?.id;if(r&&a){let t={userId:a,orgId:null,teamId:e.selectedView.teamId};s(te._l({workspace:t,view:{view:"allProjects"}}))}else s(ex.$T({view:"team",teamId:e.selectedView.teamId}))},u=()=>{s(s4.Bq({currency:r,upsellSource:i}))},_=e=>{l(e),s(ex.oB())},p=e.selectedView.teamId,f=a.useRef(null);return a.createElement(a6.fu,{name:"Upgrade Team",properties:{teamId:p,step:s5.tn.UPGRADE_NEW_TEAM}},a.createElement("div",{className:"legacy_upgrade--teamUpgrade--auGJz"},a.createElement(bN.O,{menu:a.createElement(bk.X,{onClick:()=>{let r=(0,o.k)().ps_benchmark,a=t?.id,n=e.selectedView.teamId;if(r){let t={view:"recentsAndSharing"};a&&n?s(te._l({workspace:{userId:a,teamId:n,orgId:null},view:e.selectedView.previousView||t})):s(ex.$T(e.selectedView.previousView||t))}else s(ex.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentsAndSharing"})))}},a.createElement(es.B,{svg:n8.default,className:he})),pageRef:f},a.createElement(bA.J,{index:3}),a.createElement(a6.fu,{name:"Upgrade New Team",properties:{teamId:p,trackingDescriptor:e_.c.UPGRADE_YOUR_TEAM}},a.createElement("div",{className:U()(e.className,{"step_upgrade_new_team--container--BixhQ":!0})},a.createElement(bR.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8"},a.createElement("span",null,(0,k.tx)("plan_details.choose_your_team_plan"))),c?a.createElement("div",{className:x.s.mxAuto.$,style:ec.sx.add({width:"1049px"}).$},a.createElement(hn.P,{upsellSource:i,currency:r,updateCurrency:_,chooseStarterPlan:m,chooseProPlan:e=>d(null,e),chooseOrgPlan:u,planComparisonModalHeaderOverride:null})):a.createElement(ho.O,{currency:r,chooseStarterPlan:m,chooseProPlan:e=>d(null,e),chooseOrgPlan:u,updateCurrency:_,upsellSource:i,parentRef:f}))))))}var hi=r(419745),hs=r(507152),hc=r(796503),hd=r(115321),hm=r(833480),hu=r(959334),h_=r(87740),hp=r(58767);class hf extends a.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.timer=null,this.controller=new AbortController,this.payload=null,this.fetchScheduledDowntimeInfo=async()=>{let e=this.controller?.signal,t=(0,aZ.ck)("011a24693cd9b63ea5492d50d7713dfb7ed18ea6"),r=await fetch(t,{signal:e,cache:"no-cache"}),a=await r.json(),n={finished:a.finished,warningDurationMs:Number(a.warning_ms),notifDurationMs:Number(a.notif_ms),pollIntervalMinutes:Number(a.poll_interval_minutes),downtimeStartDate:new Date(a.timestamp+" UTC"),minLengthMinutes:Number(a.estimated_length_min),maxLengthMinutes:Number(a.estimated_length_max),helpcenterUrl:a.helpcenter_url};return(0,o.k)().display_downtime_banner_force&&(n.warningDurationMs*=1e3,n.notifDurationMs*=1e3),"hostname"in a&&(n={...n,renderOnHostname:a.hostname}),n},this.onTick=()=>{null!=this.payload&&this.props.dispatch(h_.Z.onTick({payload:this.payload,hostname:window.location.hostname,currentTimeMs:Date.now()}))},this.poll=async()=>{for(;this._isMounted;)try{let e=await this.fetchScheduledDowntimeInfo();this._isMounted&&(this.payload=e,this.timer||(this.onTick(),this.timer=setInterval(this.onTick,3e4)))}catch(e){"AbortError"!==e.name&&console.warn(e)}finally{let e=this.payload&&60*this.payload.pollIntervalMinutes||900;await (0,hd.fm)(1e3*e)}}}componentDidMount(){this._isMounted=!0,this.poll()}componentWillUnmount(){this._isMounted=!1,this.controller?.abort(),this.timer&&clearInterval(this.timer)}render(){return null}}function hg(e){let{dispatch:t,downtime:r}=e,n=a.useCallback(e=>()=>{t(e)},[t]),l=a.useCallback((e,t)=>()=>{d.Ay.unsafeRedirect(e,"_blank"),n(t)},[n]),i=a.useCallback(e=>(0,k.t)("downtime_banner.ongoing.figma_will_be_entering_a_maintenance_period",{minutes:e}),[]),s=a.useMemo(()=>(0,k.t)("downtime_banner.ongoing.currently_undergoing_maintenance"),[]),c=a.useRef(e.notifications),m=a.useCallback(()=>{c.current.length>0&&t(hu.Q.dequeue({type:hm._.DOWNTIME}))},[t,c]);return a.useEffect(()=>{let{payload:e,status:a,hidingDowntimeNotif:c,notifMinutesRemaining:d}=r;if((0,o.k)().display_downtime_banner){switch(a){case hp.A.Imminent:case hp.A.Warning:if(e&&null!=d&&c!==hp.y.warningHidden){let r=i(d),a=l(e.helpcenterUrl,h_.Z.hideWarningNotif()),o=n(h_.Z.hideWarningNotif());t(hu.Q.dequeue({type:hm._.DOWNTIME})),t(hu.Q.enqueue({notification:{type:hm._.DOWNTIME,message:r,acceptCallback:a,dismissCallback:o}}))}break;case hp.A.Ongoing:if(e&&c!==hp.y.ongoingHidden){let r=l(e.helpcenterUrl,h_.Z.hideOngoingNotif()),a=n(h_.Z.hideOngoingNotif());t(hu.Q.dequeue({type:hm._.DOWNTIME})),t(hu.Q.enqueue({notification:{type:hm._.DOWNTIME,message:s,acceptCallback:r,dismissCallback:a}}))}break;case hp.A.Finished:m()}return()=>{m()}}},[r,t,i,l,n,s,m]),null}hf.displayName="DowntimePoller";var hE=r(365485),hb=r(496900);function hh(){let e=(0,hE.W)();return a.createElement(hb.Y,{prioritizedBanners:e,location:"file_browser"})}var hv=r(900169);function hy(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.fileImport.step),o=(0,pe.B2)().unwrapOr(!1),[l,i]=a.useState(!1),s=a.useCallback(()=>i(!0),[]),c=a.useCallback(()=>i(!1),[]),d=a.useCallback(e=>{i(!1),o&&t((0,pe.b6)(e))},[t,o]);return a.createElement(tb.Y,{className:x.s.flex.flexColumn.$,isDragTarget:pe.al,onTargetDragEnter:s,onTargetDragLeave:c,onTargetDrop:d},e.children,o&&a.createElement(hw,{step:r,dragging:l}))}function hw({step:e,dragging:t}){switch(e){case hv.Y5.CONFIRM_PDF_IMPORT:case hv.Y5.IMPORT_REPO:return null;case hv.Y5.START:case hv.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case hv.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return a.createElement("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,C.xb)(e)}}let hT="file_browser_view--filebrowserHtml--v2BLN",hI="file_browser_view--filebrowserBody--6MX2i",hC="file_browser_view--desktop--5VrC1";function hS(){let e=(0,n.wA)(),t=(0,Y.dq)(),r=(0,dr.Um)(),C=(0,q.iZ)(),S=(0,ek._6)(),x=bx.q.useIsLoading(),N=(0,n.d4)(e=>e.payment),R=(0,n.d4)(e=>e.currentTeamId),A=(0,X.d)(),O=(0,n.d4)(e=>e.downtime),L=(0,n.d4)(e=>e.notifications),F=(0,I.sx)();!function(){let e=(0,n.Pj)(),t=a.useMemo(()=>(0,hs.g)(),[]),r=(0,eG.Rs)(eH.__y,{cacheNonce:t});a.useEffect(()=>{if("loaded"===r.status&&r.data.currentUser.assetTransferReload.status===er.tT.Loaded){let t=(0,er.oA)(r.data.currentUser.assetTransferReload);if(!t)return;let a=aZ.Ay().user_data?.id,n=e.getState(),o="folder"===n.selectedView.view&&n.selectedView.folderId===t.folderId,l="team"===n.selectedView.view&&n.selectedView.teamId===t.teamId,i="folder"===n.selectedView.view&&n.folders[n.selectedView.folderId],s=i&&i.team_id===t.teamId,c=t.folderId?o:l||s,d={view:"folder",folderId:t.folderId||""},m={view:"team",teamId:t.teamId||"",teamViewTab:eK.A$.HOME};if(a&&t.userId===a){let r={userId:t.userId,orgId:t.destOrgId},a=t.folderId?d:m;if(c){let n=t.folderId?(0,k.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,k.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(tZ.F.enqueue({message:n})),setTimeout(()=>{e.dispatch(te._l({workspace:r,view:a}))},2e3)}else e.dispatch(te.Dj({reason:"asset transfer reload",delay:te.RH.DEFAULT}))}}},[e,r])}(),s.Tf.enableEventSending({allowResourceTracking:!0}),(0,m.h)(()=>{C&&e(bU.Jw())}),(0,_.IT)((0,hi.XZ)({currentOrgId:t??void 0,currentTeamId:R??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,o.k)().create_starter_files_from_file_browser&&oi.Gn.includes(S.view)});let[P,D]=a.useState(0),[M,B]=a.useState(0),[U,$]=a.useState(!1);(0,m.h)(()=>(document.body.classList.add(hI),document.documentElement.classList.add(hT),(0,i.$o)(),(0,G.I0)(S,t,R,A),(0,g.hW)("exp_aa_test_file_browser_view").catch(p.lQ),()=>{document.body.classList.remove(hI),document.documentElement.classList.remove(hT),(0,i.$E)(),e(tS.AS())})),a.useEffect(()=>{if(c.eD||(0,l.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(hC),()=>{document.body.classList.remove(hC),document.body.removeChild(e)}}},[]);let j=(0,u.ZC)(S);a.useEffect(()=>{j&&j!==S&&((0,hc.SW)(j,S)&&window.scrollTo(0,0),U?$(!1):(D(M+1),B(M+1)))},[j,S,U,M]),a.useEffect(()=>{"teamCreation"===S.view&&S.fromNewTab&&e(te.Dw({previousView:S.previousView,onSubmitReturnToPrevView:S.onSubmitReturnToPrevView,isEduTeam:S.isEduTeam,ignoreCurrentPlan:!!(0,o.k)().fc_general||void 0}))},[S,e]);let W=f.g3&&!(0,o.k)().file_browser_enable_mweb,V=f.uG&&(0,o.k)().file_browser_enable_mweb||f.mZ;if("teamUpgrade"===S.view)return S.paymentStep===s5.tn.UPGRADE_NEW_TEAM?a.createElement(hl,{selectedView:S}):F?a.createElement(b.q,{selectedView:S}):a.createElement(h.h,{selectedView:S});if("addAnnualPlan"===S.view)return a.createElement(ha,{selectedView:S});if("teamCreation"===S.view)return S.fromNewTab?null:a.createElement(bQ,{selectedView:S});if("addCollaborators"===S.view)return a.createElement(bP,{selectedView:S});if("orgSelfServe"===S.view){let e=F?v.G:y.N;return a.createElement(e,{step:S.step||uu.X1.Initial,initialDesignSeats:S.initialDesignEditors||0,orgMigrated:!!S.orgMigrated,dropdownShown:r,newTeamProps:S.newTeamProps,upsellSource:S.upsellSource,entryPoint:S.entryPoint})}if("teamRestore"===S.view)return a.createElement(b4,{selectedView:S});if("promoReview"===S.view)return a.createElement(w.z,{promo:N?.promo,selectedView:S});else if("eduReview"===S.view)return a.createElement(T.w,{selectedView:S});if(!C)return console.error(`Signed out page: unrecognized route ${d.Ay.location.pathname}, redirecting to /`),d.Ay.redirect("/"),null;if((0,o.k)().ps_benchmark&&!t&&!R)return console.error("No current organization or team plan set for user. Redirecting to /files"),d.Ay.redirect("/files"),null;let H=W&&a.createElement(E.R,{userIdForTracking:C?.id,renderBlockingPrompt:!0});return a.createElement(bY.C.Provider,{value:{goBack:()=>{M>0&&(history.back(),B(M-1),$(!0))},goForward:()=>{M<P&&(history.forward(),B(M+1),$(!0))},canGoBack:M>0,canGoForward:M<P}},W?H:a.createElement(a.Fragment,null,V&&a.createElement(E.R,{userIdForTracking:C?.id}),a.createElement(hy,null,a.createElement(hh,null),a.createElement(hg,{downtime:O,notifications:L,dispatch:e}),a.createElement(bV,null),a.createElement(bI,{showingFileBrowserLoader:x}))))}},478953:(e,t,r)=>{r.r(t),r.d(t,{FileImportModal:()=>eo,FileRow:()=>em,ImportModal:()=>el,fileImportStats:()=>ed,getFooterButtons:()=>ei,getStatusComponents:()=>es,useCloseTabWarningWhenImportInProgress:()=>ep,useCurrentFolderTeam:()=>ec});var a=r(848318),n=r(716544),o=r(445777),l=r(258904),i=r(665488),s=r(846153),c=r(79508),d=r(24208),m=r(384409),u=r(579020),_=r(141039),p=r(921494),f=r(493554),g=r(991371),E=r(145015),b=r(26039),h=r(473889),v=r(575492),y=r(566699),w=r(17755),T=r(882439),I=r(442313),C=r(500276),S=r(496431),x=r(425966),k=r(449737),N=r(180423),R=r(155651),A=r(976308),O=r(92537),L=r(668599),F=r(273121),P=r(376780),D=r(635547),M=r(834111),B=r(988540),U=r(900169),$=r(183905),j=r(314272),W=r(515071),G=r(992277),V=r(776402),H=r(777611),z=r(731755),Y=r(502255),K=r(712477),q=r(997894);let J="file_import_modal--scrollContainer--rcZDu";var X=r(40021);function Q(e){let{fileImport:t,onDone:r,onCancel:l}=e,s=V.hS(e),c=(0,n.wA)(),d=ed(t),m=0===d.remainingFiles,u=ec(),_=(0,n.d4)(e=>"folder"===e.selectedView.view?e.selectedView.folderId:null),p=q.M4.Folder.useValue(_).data,[f,g]=(0,a.useState)(K.uf.IMPORTING_FILES);ep(f===K.uf.IMPORTING_FILES||f===K.uf.ATTACHING_BRANCH);let b=p?.name||(0,I.t)("file_browser.tool_bar.drafts"),T=f===K.uf.SUCCESS?(0,I.t)("file_browser.file_import_view.imported_to_folder",{folderName:b}):(0,I.t)("file_browser.file_import_view.import_to_folder",{folderName:b}),{statusIcon:C,statusMessage:S,statusMessageSecondary:x}=function(e,t,r){let n=null,l=null,s=null,c=es(e===K.uf.SUCCESS,t,r);switch(e){case K.uf.IMPORTING_FILES:n=c.statusIcon,l=c.statusMessage,s=c.statusMessageSecondary;break;case K.uf.ATTACHING_BRANCH:n=a.createElement(h.kt,{imageBacked:!0,testId:"loadingSpinner"}),l=(0,I.tx)("file_browser.file_import_view.repo.attaching_branch"),s=a.createElement("span",{className:w.s.textBodyMedium.$},(0,I.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,I.tx)("file_browser.file_import_view.open_a_new_tab_link"))}));break;case K.uf.SUCCESS:n=c.statusIcon,l=c.statusMessage,t.importedFiles===t.totalFiles&&(l=(0,I.tx)("file_browser.file_import_view.repo.success")),s=c.statusMessageSecondary;break;case K.uf.ERROR:n=a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),l=(0,I.tx)("file_browser.file_import_view.repo.error");break;default:(0,o.xb)(e)}return n&&l?{statusIcon:n,statusMessage:l,statusMessageSecondary:s}:((0,Y.$D)(G.e.SCENEGRAPH_AND_SYNC,Error("Missing status in repo import")),{statusIcon:a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),statusMessage:(0,I.tx)("file_browser.file_import_view.repo.error"),statusMessageSecondary:null})}(f,d,b),k=ei({isImportComplete:m,fileImport:t,onDone:r,team:u,dispatch:c,stats:d,shouldShowMoveToProjectButton:!1,onMoveToProject:()=>{},filesToMove:[],onCancel:l});return(0,a.useEffect)(()=>{if(m){g(K.uf.ATTACHING_BRANCH);let e=Object.values(t.files),r=e.find(e=>e.name.includes("branch tip"))?.fileKey,a=e.find(e=>e.name.includes("branch point"))?.fileKey,n=e.find(e=>e.name.includes("main tip"))?.fileKey;r&&a&&n?(0,K.yA)(r,a,n).then(()=>{g(K.uf.SUCCESS)}).catch(()=>{g(K.uf.ERROR)}):(g(K.uf.ERROR),console.error("Missing branch key, branch point key, or main tip key files"))}},[m,t.files]),a.createElement(H.bL,{manager:s,width:480},a.createElement(z.vo,null,a.createElement(z.Y9,null,a.createElement(z.hE,null,T)),a.createElement(z.nB,null,t&&a.createElement(v.P,{innerClassName:w.s.flex.flexColumn.$,className:J},Object.values(t.files).map(e=>a.createElement(em,{key:`file-import-${e.id}`,file:e})))),a.createElement(z.wi,null,a.createElement("div",{className:w.s.flex.flexRow.wFull.justifyBetween.py8.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:w.s.flex.flexRow.itemsCenter.gap8.$},C&&a.createElement("div",{className:w.s.flex.itemsCenter.justifyCenter.h32.w32.$},C),S&&a.createElement("span",{className:w.s.fontSemiBold.$},S),x&&a.createElement("span",{className:w.s.ml8.$},x)),a.createElement("div",null,k)))))}var Z=r(444458),ee=r(491732),et=r(317822),er=r(558893),ea=r(164676),en=r(129448);function eo(){let e=(0,n.wA)(),{fileImport:t}=(0,p.R)(e=>({fileImport:e.fileImport})),r=()=>{e(k.Ce()),e(L.cY())},l=()=>{e(L.yD())},i=()=>{e(L.cY())},s=(()=>{switch(t.step){case U.Y5.CONFIRM_PDF_IMPORT:return a.createElement(Z.PdfConfirmationModal,{fileImportDescription:(0,I.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:ed(t).pdfCount}),onConfirm:t=>{e(L._9(t))},onCancel:()=>{e(L.AU()),l()}});case U.Y5.IMPORT_REPO:return a.createElement(Q,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:i,onClose:()=>e(k.Ce()),open:!0});case U.Y5.START:case U.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case U.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return a.createElement(el,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:i});default:(0,o.xb)(t.step)}})();return a.createElement(R.fu,{name:"import_progress_modal"},s)}function el({fileImport:e,onDone:t,onCancel:r,onMoveToProject:o}){let l=(0,n.wA)(),i=ec(),s=ed(e),c=(0,n.d4)(e=>e.selectedView),d=(0,x.I)(),m=0===s.remainingFiles,u=(0,n.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),_=(0,O.Gi)(u),p=(0,M.K)(c);ep(!m);let E=u?.name||(0,I.t)("file_browser.tool_bar.drafts"),b=m?(0,I.t)("file_browser.file_import_view.imported_to_folder",{folderName:E}):(0,I.t)("file_browser.file_import_view.import_to_folder",{folderName:E}),{statusIcon:h,statusMessage:y,statusMessageSecondary:T}=es(m,s,E),C=d&&(_||p)&&s.importedFiles>=1,S=(0,a.useMemo)(()=>(function(e,t){let r=[];if(!e)return r;for(let e of Object.values(t))e.fileKey&&r.push({fileKey:e.fileKey});return r})(C,e.files),[C,e.files]),k=(0,f.p)(D.NSA,S),R=ei({isImportComplete:m,fileImport:e,onDone:t,team:i,dispatch:l,stats:s,shouldShowMoveToProjectButton:C,onMoveToProject:o,filesToMove:(0,a.useMemo)(()=>(function(e){let t=[];for(let r of e){let e=r.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(k),[k]),onCancel:r});return a.createElement(j.XV,{title:b,maxWidth:480,headerClassName:w.s.pl16.$,disableClickOutsideToHide:!m,isCloseHidden:!0,customButton:a.createElement(g.Jn,{onClick:e.queue.length?r:t,trackingProperties:{trackingDescriptor:N.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},e&&a.createElement(v.P,{innerClassName:w.s.flex.flexColumn.py4.$,className:J},Object.values(e.files).map(e=>a.createElement(em,{key:`file-import-${e.id}`,file:e}))),a.createElement("div",{className:w.s.flex.flexRow.justifyBetween.p8.pr12.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:w.s.flex.flexRow.itemsCenter.gap8.$},h&&a.createElement("div",{className:w.s.flex.itemsCenter.justifyCenter.h32.w32.$},h),y&&a.createElement("span",{className:w.s.fontSemiBold.$},y),T&&a.createElement("span",{className:w.s.ml8.$},T)),a.createElement("div",{className:w.s.flex.gap8.$},R)))}function ei({isImportComplete:e,fileImport:t,onDone:r,team:n,dispatch:o,stats:l,shouldShowMoveToProjectButton:i,onMoveToProject:s,filesToMove:c,onCancel:d}){var m;if(!e)return[a.createElement(T.$z,{variant:"destructive",onClick:d,htmlAttributes:{"data-testid":"cancelButton"},key:"cancelButton"},(0,I.tx)("file_browser.file_import_view.cancel"))];if(t.failedOnFileLimit)return[a.createElement(T.$z,{variant:"primary",onClick:()=>{r(),null!=n&&o((0,k.to)({type:W.DV,data:{team:n,resource:B.vL.FILE,action:$.ZN.IMPORT_FILES,editorType:l.editorType,multipleResources:l.failedFiles>1,currentPlan:A.F.Plan.STARTER,upsellPlan:A.F.Plan.PRO}}))},htmlAttributes:{"data-testid":"nextButton"},key:"nextButton"},(0,I.tx)("file_browser.file_import_view.next"))];let _=[(m=i?"secondary":"primary",a.createElement(T.$z,{variant:m,onClick:r,htmlAttributes:{"data-testid":"doneButton"},key:"doneButton"},(0,I.tx)("file_browser.file_import_view.done")))];return i&&_.push(function({onMoveToProject:e,filesToMove:t,stats:r,dispatch:n}){return a.createElement(T.$z,{variant:"primary",onClick:()=>{e(),(0,u.sx)("file_import.move_to_project.button_clicked",{numFiles:r.importedFiles}),1===t.length&&t[0]?(0,S.h)(t[0],null,n,void 0,{},void 0,!1,void 0,!0):(0,S.O)(t,[],n,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},key:"moveToProjectButton"},(0,I.tx)("file_browser.file_import_view.move_to_project"))}({onMoveToProject:s,filesToMove:c,stats:l,dispatch:o})),_}function es(e,t,r){let n=null,o=null,s=null;return e?t.importedFiles===t.totalFiles?(o=a.createElement("div",{className:w.s.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:t.totalFiles,folder:r})),n=a.createElement(y.U,{svg:et.A,className:w.s.colorIcon.$,dataTestId:"checkIcon"},a.createElement(l.l,null))):(o=a.createElement("div",{className:w.s.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:t.importedFiles,totalFiles:t.totalFiles,folder:r})),n=a.createElement(y.U,{svg:X.A,className:w.s.colorIcon.$,dataTestId:"warningIcon"},a.createElement(i.R,null)),t.canceledFiles>0&&(s=(0,I.tx)("file_browser.file_import_view.file_import_cancel"))):(n=a.createElement(h.kt,{imageBacked:!0,testId:"loadingSpinner"}),o=(0,I.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:t.processedFiles,totalFiles:t.totalFiles}),s=a.createElement("span",{className:w.s.textBodyMedium.$},(0,I.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(E.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,I.tx)("file_browser.file_import_view.open_a_new_tab_link"))}))),{statusIcon:n,statusMessage:o,statusMessageSecondary:s}}function ec(){return(0,n.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null})}function ed(e){let t=Object.keys(e.files).length,r=e.queue.length,a=0,n=0,l=0,i=0,s=0,c=new Set;for(let t in e.files){let r=e.files[t];if(r){switch(r.status){case U.mO.SUCCESS:case U.mO.WARNING:a++;break;case U.mO.CANCELED:n++;break;case U.mO.FAILURE:l++;break;case U.mO.WAITING:case U.mO.BUSY:i++;break;default:(0,o.xb)(r.status)}(0,U.kI)(r.name)&&s++,c.add((0,U.NU)(r))}}return{totalFiles:t,remainingFiles:r,processedFiles:t-r,importedFiles:a,canceledFiles:n,failedFiles:l,pendingFiles:i,editorType:1===c.size&&Array.from(c)[0]||null,pdfCount:s}}function em(e){let{file:t}=e,r=null;return t.status===U.mO.CANCELED?r=(0,I.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(r=Array.isArray(t.message)?t.message.map((e,t)=>a.createElement("div",{key:t},e)):t.message),a.createElement(e_,{status:t.status,fileKey:t.fileKey},a.createElement("div",{className:w.s.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$},a.createElement("div",{className:w.s.flex.gap8.if(r,w.s.itemsStart,w.s.itemsCenter).$},a.createElement("div",{className:w.s.flex.justifyCenter.h32.w32.itemsCenter.$},a.createElement(eu,{file:t})),a.createElement("div",{className:w.s.if(r,w.s.pb6).$},a.createElement("div",{className:w.s.truncate.lh32.$,style:C.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text"},t.name),r&&a.createElement("div",{className:w.s.flex.flexColumn.mt4.colorTextSecondary.$},r,t.cta&&a.createElement(E.Us,{className:w.s.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink"},t.cta.text))))))}function eu({file:e}){switch(e.status){case U.mO.BUSY:case U.mO.WAITING:return a.createElement(h.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});case U.mO.FAILURE:case U.mO.CANCELED:return a.createElement(y.U,{svg:er.A,className:w.s.colorIconDanger.$,dataTestId:"failIcon"},a.createElement(s.A,{className:w.s.colorIconDanger.$}));case U.mO.SUCCESS:case U.mO.WARNING:let t=(0,U.NU)(e);switch(t){case P._Y.WHITEBOARD:return a.createElement(y.U,{svg:en.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figJamFileIcon"},a.createElement(c.D,null));case P._Y.SLIDES:return a.createElement(b.MW,{type:b.y1.SLIDES,size:b.LE.SMALL});case P._Y.SITES:return a.createElement(b.MW,{type:b.y1.SITES,size:b.LE.SMALL,dataTestId:"siteFileIcon"});case P._Y.COOPER:return a.createElement(b.MW,{type:b.y1.COOPER,size:b.LE.SMALL});case P._Y.DESIGN:return a.createElement(y.U,{svg:ea.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figmaDesignFileIcon"},a.createElement(d.z,null));default:(0,o.xb)(t)}default:(0,o.xb)(e.status)}}function e_(e){let{fileKey:t,status:r,children:n}=e;if(r!==U.mO.SUCCESS&&r!==U.mO.WARNING)return n;let o=t?(0,F.jN)({file:{key:t}}):void 0;return o?a.createElement(E.Ph,{href:o,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"}},n,a.createElement(y.U,{svg:ee.A,className:w.s.flex.alignCenter.colorIconSecondary.$},a.createElement(m.S,null))):n}function ep(e){let t=(0,a.useCallback)(e=>{e.preventDefault()},[]);(0,a.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),_.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),_.eD?.setIsImporting(!1)}),[e,t])}},629455:(e,t,r)=>{r.r(t),r.d(t,{FileRestoreFromVersionModal:()=>g});var a=r(848318),n=r(716544),o=r(579020),l=r(145015),i=r(575492),s=r(442313),c=r(884060),d=r(449737),m=r(832876),u=r(142518),_=r(314272);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version;return a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y"},a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF"},t.user&&a.createElement(m.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:t.user.img_url}}),e.connector&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ"},t.label&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa"},t.label||""),t.description&&a.createElement("div",{className:p},t.description),a.createElement("div",{className:p},a.createElement(u.Cr,{time:t.touched_at})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C"},t.user?t.user.handle:"")),a.createElement(l.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0},(0,s.tx)("file_restore_from_version_modal.restore")))}function g(e){let t=(0,n.wA)(),r=r=>{(0,o.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:r}),t(d.Ce()),t(c.PF({fileKey:e.fig.key,versionId:r}))},l=e.versions.filter(e=>!e.disabled);return a.createElement(_.XV,{title:(0,s.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(d.Lo())}},a.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2"},a.createElement(i.P,{width:396},l.map((e,t)=>a.createElement(f,{key:e.id,version:e,callback:()=>r(e.id),connector:t+1!==l.length})))))}},444458:(e,t,r)=>{r.r(t),r.d(t,{PdfConfirmationModal:()=>E});var a=r(848318),n=r(445777),o=r(772138),l=r(776402),i=r(777611),s=r(731755),c=r(677772),d=r(311037),m=r(596616),u=r(741419),_=r(17755),p=r(882439),f=r(442313),g=r(180423);function E({fileImportDescription:e,onConfirm:t,onCancel:r}){let[E,b]=(0,a.useState)(void 0),h=(0,a.useMemo)(()=>{let e=(0,o.U)(u.h62).map(e=>({key:e,value:u.h62[e],label:function(e){switch(e){case u.h62.MIRO:return"Miro";case u.h62.MURAL:return"Mural";case u.h62.LUCID:return"Lucid";case u.h62.JAMBOARD:return"Jamboard";case u.h62.UNKNOWN:return(0,f.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,n.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===u.h62.UNKNOWN?1:t.key===u.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]),v=(0,a.useCallback)(e=>{b(e)},[]),y=(0,a.useCallback)(()=>{E&&t(u.h62[E])},[t,E]),w=l.hS({open:!0,onClose:r,preventUserClose:!0});return a.createElement(i.bL,{manager:w,width:"fit-content"},a.createElement(s.vo,null,a.createElement(s.Y9,null,a.createElement(s.hE,null,(0,f.t)("file_browser.file_import_view.select_pdf_source_header"))),a.createElement(s.nB,null,a.createElement("div",{className:_.s.flex.flexColumn.pt4.gap16.textBodyMedium.$},a.createElement("div",null,e),a.createElement("form",{className:_.s.mb8.$},a.createElement(c.b,{legend:a.createElement(d.q,null,(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_legend")),value:E,onChange:v},h.map(e=>a.createElement(c.c,{key:e.key,value:e.value,label:a.createElement(m.J,{className:_.s.textBodyMedium.$},e.label)},e.key===u.h62.UNKNOWN&&(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer"))))))),a.createElement(s.wi,null,a.createElement(s.jk,null,a.createElement(p.$z,{variant:"secondary",onClick:r,trackingProperties:{trackingDescriptor:g.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}},(0,f.tx)("modal.cancel")),a.createElement(p.$z,{variant:"primary",disabled:!E,onClick:y},(0,f.tx)("modal.confirm"))))))}},508549:(e,t,r)=>{r.r(t),r.d(t,{RevokeProjectTransferModal:()=>f});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(731755),s=r(356505),c=r(17755),d=r(442313),m=r(697714),u=r(449737),_=r(155651),p=r(378699);function f(e){let{pending:t,canTransferProject:r,isTransferTeam:f=!1}=e,g=(0,n.wA)(),E=o.hS(e),b=t.id,h=t.source_user_email,v=t.destination_user_email,y=t.is_transfer_copy,w=()=>{p.S.deleteAssetTransferRequest({id:b}).then(()=>{g(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.transfer_revoked")}))},e=>{g(m.F.enqueue({message:(0,d.t)("revoke_transfer_modal.visual_bell.something_went_wrong"),error:!0}))})};return a.createElement(_.fu,{name:"Asset Transfer Revoke Modal",properties:{pendingInviteId:b}},a.createElement(l.bL,{manager:E,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,(0,d.t)("revoke_transfer_modal.header_title"))),a.createElement(i.nB,{scrolling:"none"},a.createElement("div",{className:c.s.py8.$},f?(0,d.tx)("revoke_transfer_modal.transfer_details_team",{sourceUserEmail:h,destinationUserEmail:v}):y?(0,d.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:h,destinationUserEmail:v}):(0,d.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:h,destinationUserEmail:v})),a.createElement("div",{className:c.s.py8.$},(0,d.tx)("revoke_transfer_modal.function_explanation"))),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,d.t)("revoke_transfer_modal.go_back")),a.createElement(s.$n,{variant:"destructive",onClick:()=>{w(),g(u.Lo())},disabled:!r},(0,d.t)("revoke_transfer_modal.revoke")))))))}},105506:(e,t,r)=>{r.r(t),r.d(t,{FolderUpdateDescriptionModal:()=>s});var a=r(848318),n=r(716544),o=r(442313),l=r(54018),i=r(595324);function s({folder:e}){let t=(0,n.wA)();return a.createElement(i.c,{initialName:e.description??"",title:(0,o.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,o.t)("resource_rename_modal.save"),onRename:r=>t(l.ub({folderId:e.id,description:r.trim()})),allowEmptyString:!0,maxLength:200})}},947492:(e,t,r)=>{r.r(t),r.d(t,{FolderCreationModal:()=>ea});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(731755),s=r(792978),c=r(968189),d=r(157907),m=r(994811),u=r(493554),_=r(145015),p=r(482675),f=r(473889),g=r(17755),E=r(882439),b=r(442313),h=r(790355),v=r(54018),y=r(449737),w=r(405866),T=r(155651),I=r(592845),C=r(517989),S=r(661780),x=r(376780),k=r(635547),N=r(746948),R=r(154209),A=r(24096),O=r(572754),L=r(572699),F=r(668249),P=r(354041),D=r(920963),M=r(995946),B=r(710994),U=r(229424),$=r(266767),j=r(23459),W=r(730169),G=r(326825),V=r(670673),H=r(35315),z=r(680632),Y=r(431060),K=r(61614),q=r(151144);let J=(0,V.r1)("seen_sharing_clarity_project_modal_overlay"),X="sc_project_creation_permission_onboarding_key";function Q(){let e=(0,j.md)(J),{show:t,isShowing:r,complete:n}=(0,G.e)({overlay:q.QpH,priority:H.N.DEFAULT_MODAL},[e]);(0,W.h)(()=>{t({canShow:e=>!e})});let o=a.createElement("a",{href:"https://help.figma.com/hc/articles/360038006494-Create-a-new-project",className:g.s.colorTextOnbrand.underline.$},(0,b.tx)("rcs.sharing_clarity.learn_more"));return a.createElement(z.rq,{arrowPosition:K.F_.LEFT_TITLE,description:a.createElement("p",null,(0,b.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:o})),disableHighlight:!0,emphasized:!0,isShowing:r,onClose:n,targetKey:X,title:(0,b.tx)("rcs.sharing_clarity.project_creation_permissions_title"),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",zIndex:Y.R.MODAL})}var Z=r(413206),ee=r(135609),et=r(521068);let er="folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd";function ea(e){let t=(0,n.wA)(),[r,j]=a.useState(""),[W,G]=a.useState(!1),[V,H]=a.useState(0),z=x.eD.TEAM_ACCESS_EDIT,Y=I.h.useTrackingContext({trigger:D.b.FOLDER_CREATION_MODAL}),K=(0,n.d4)(e=>e.contacts),q=(0,n.d4)(e=>e.dropdownShown),J=(0,n.d4)(e=>e.autocomplete),ea=(0,S.iZ)(),en=(0,u.Rs)(k.mCn,{teamId:e.teamId}),eo=(0,u.Rs)(k.sMZ,{name:"seen_connected_project_in_project_creation_onboarding"}),el=!!eo.data?.currentUser?.userFlagByName,ei=(0,d.k)().sc_workspace_audience,es=a.useMemo(()=>{if("loading"===en.status||!en.data)return null;let t=en.data.team;if(!t)return null;let r="loaded"===t.workspace.status?t.workspace.data:void 0,a={id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},n=t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,N.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting};return{team:a,plan:t?.plan,org:n||null,workspace:r}},[en,e.teamId]),ec=es&&es.team,ed=es&&es.org,em=es&&es.plan,eu=(0,C.H)({planParentId:em?.key?.parentId??null,planType:em?.key?.type??null})&&1===V&&em?.tier!==x.Ag.STARTER&&(0,d.k)().fc_initial_onboarding_enabled&&!el,e_=ed&&ed.org_domains?ed.org_domains:{domains:[],isFetching:!1,fetchedAt:null},ep=a.useCallback(()=>ec&&ec.sharing_audience_control!==x.PQ.ORG_EDIT&&ec.sharing_audience_control!==x.PQ.ORG_VIEW?ec.sharing_audience_control===x.PQ.WORKSPACE_EDIT||ec.sharing_audience_control===x.PQ.WORKSPACE_VIEW?Z._9.WORKSPACE:Z._9.INVITE_ONLY:Z._9.ORG,[ec]),ef=a.useCallback(()=>ec&&(ec.sharing_audience_control===x.PQ.ORG_EDIT||ec.sharing_audience_control===x.PQ.WORKSPACE_EDIT)?Z.J4.EDIT:Z.J4.VIEW,[ec]),[eg,eE]=a.useState(ep()),[eb,eh]=a.useState(ef()),[ev,ey]=a.useState(M.e6.EDITOR);a.useEffect(()=>{eE(ep()),eh(ef())},[ep,ef]);let ew=()=>{1===V?H(0):(t(y.Lo()),t(h.bx()))},eT=(0,L.ST)({migrationGroup:F.L.GROUP_1,component:"FolderCreationModal",attribute:"isPlanGuest",legacy:e=>!(e?.team?.org?.currentBaseOrgUser?.permission!==x._D.GUEST),migrated:e=>!(e?.team?.org?.currentPlanUser?.permission!==x.Xn.GUEST),lgQuery:en}),eI=e=>(0,O.t9)(e,ed,e_),eC=e=>{let t=(0,d.k)().folder_creation_restricted_guests_err_ui&&ed?.invite_whitelist_guest_invite_setting!=null;return(0,O.yI)(e,K.usersByEmail[e]||e,ed,e_,ea.email,t?(0,b.t)("project_creation.restricted_against_adding_external_users"):null)},eS=()=>ed&&ed.domain_capture&&e_.domains.length>0?(0,B.Z)(J).filter(e=>(0,m.xf)(e)&&!(0,R.H_)(e_.domains,e)):[],ex=e=>{if(ed&&ed?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,y.to)({type:et.F,data:{emails:e,onConfirm:()=>{ek()},popStack:!0,orgName:ed.name}}));return}},ek=()=>{let a;eg===Z._9.ORG?a=eb===Z.J4.EDIT?x.PQ.ORG_EDIT:x.PQ.ORG_VIEW:eg===Z._9.WORKSPACE?a=eb===Z.J4.EDIT?x.PQ.WORKSPACE_EDIT:x.PQ.WORKSPACE_VIEW:eg===Z._9.INVITE_ONLY&&(a=x.PQ.INVITE_ONLY),t(v.vt({shouldRedirect:!e.modalShown,name:r.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:ed?a:void 0,teamAccess:z,inviteEmails:(0,B.Z)(J),inviteLevel:ev,orgId:ed?.id,onFolderCreated:e.onFolderCreated}))},eN=o.hS({open:e.open,onClose:ew}),eR=0===V?a.createElement(a.Fragment,null,a.createElement("div",{className:"folder_creation_modal--nameHeader--MgNL8 folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,b.t)("project_creation.name")),a.createElement(_.ks,{"aria-label":(0,b.t)("project_creation.project_name"),autoFocus:!0,className:"folder_creation_modal--folderNameInput--Lcn4c",maxLength:_.wG,minLength:1,onBlur:()=>G(!1),onChange:e=>j(e.target.value),onFocus:()=>G(!0),placeholder:(0,b.t)("project_creation.ex_growth_experiments"),required:!0,value:r}),0===r.trim().length&&!W&&a.createElement("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC"},(0,b.t)("project_creation.project_name_empty")),ed&&ec&&a.createElement(a.Fragment,null,a.createElement("div",{className:er,"data-onboarding-key":X},(0,b.t)("project_creation.who_has_access")),a.createElement(Q,null),a.createElement(Z.YU,{resourceType:x.vt.FOLDER,value:eg,onChange:eE,org:ed,team:ec,audienceAccessLevel:eb,workspace:ei?es.workspace:void 0}),eg!==Z._9.INVITE_ONLY&&a.createElement(a.Fragment,null,a.createElement("div",{className:er},(0,b.t)("folder_permissions_modal.what_they_can_do")),a.createElement(Z.Iz,{selectedPermissionsLevel:eb,setSelectedPermissionsLevel:eh}),a.createElement("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},eb===Z.J4.VIEW?(0,b.t)("project_creation.can_view_and_comment"):(0,b.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=ed?ed.id:null,r=[M.e6.EDITOR,M.e6.VIEWER];return a.createElement("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o"},a.createElement($.e,{SearchResultComponent:ee.o,TokenComponent:ee.g,autocomplete:J,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:q,fixedAutocompleteResults:!0,getSearchResults:t=>(0,P.Wj)(t,K.usersByEmail,ea,[],e,null,null,eT,{inviteLevel:ev,source:"folder-creation-modal"}),getSelectText:A.C1,inviteLevel:ev,joinLinkShown:!1,onInviteLevelChange:ey,options:r,placeholderText:(0,b.t)("team_creation.add_a_name_or_email"),searchResultToken:eI,shouldAutoFocus:!0,useContainerRefForWidth:!0,validateToken:eC,validateTokensAsEmail:!0}))})();return a.createElement(T.fu,{name:U.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:ec?.id,...Y}},a.createElement(l.bL,{manager:eN,width:"lg"},a.createElement("div",{className:"folder_creation_modal--multiContents--U8sJ8"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,0===V?(0,b.t)("project_creation.create_project"):(0,b.t)("project_creation.add_people_to_project_name",{projectName:r}))),a.createElement(i.nB,null,es?eR:a.createElement("div",{className:"folder_creation_modal--loading--9KmQd"},a.createElement(f.qc,null))),es&&a.createElement(i.wi,null,a.createElement("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,b.tx)("project_creation.step_number_of_max_steps",{currentStep:V+1,maxSteps:2})),a.createElement(i.jk,null,a.createElement(E.$z,{onClick:ew,variant:"secondary"},0===V?(0,b.tx)("project_creation.cancel"):(0,b.tx)("project_creation.back")),a.createElement(E.$z,{variant:"primary",onClick:()=>{if(0===V)H(1);else if(ed){let e=eS();e.length>0?ex(e):ek()}else ek()},disabled:0===V&&0===r.trim().length},0===V?(0,b.tx)("general.continue"):(0,b.tx)("project_creation.create_project"))))),eu&&a.createElement(i.Wk,null,a.createElement(p._,{color:p.S.INFORMATION,icon:a.createElement(c.U,null),onDismiss:()=>{t(w.b({seen_connected_project_in_project_creation_onboarding:!0}))},text:a.createElement(a.Fragment,null,a.createElement("p",{className:g.s.textBodyMediumStrong.$},(0,b.t)("project_creation.figma_has_connected_projects")),a.createElement("p",null,(0,b.tx)("project_creation.learn_more_about_the_benefit",{learnMore:a.createElement(s.N,{newTab:!0,href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects"},(0,b.t)("file_browser.team_settings.learn_more"))})))})))))}},8509:(e,t,r)=>{r.d(t,{Mv:()=>I,tG:()=>y});var a=r(848318),n=r(379338),o=r(857188),l=r(145015),i=r(17755),s=r(280198),c=r(442313),d=r(449737),m=r(871117),u=r(376780),_=r(511231),p=r(710665),f=r(143983),g=r(464012),E=r(117592),b=r(605247);function h(e){let t=a.useRef(null),[r,u]=a.useState(!1),[g,E]=a.useState(null),h=new _.vr(e.currency),v=!e.allowZeroSeats,y=e.numAnnualEditors,T=y>0,C=t=>{e.onNumAnnualEditorsChange(t)},S=a.createElement("button",{type:"button",className:b.J,"data-testid":`add-${e.editorType}-seats`,onClick:()=>u(!0)},(0,c.tx)("payments.step_pay.add_more_seats"));return a.createElement("div",{className:b.wD,key:`${e.editorType}-step-pay-row`,"data-testid":`${e.editorType}-step-pay-row`},a.createElement("div",null,a.createElement("div",{className:b.Uu},a.createElement("span",null,(0,c.tx)("payments.step_pay.editors_on_annual_plan.seat_rename",{numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:r?a.createElement(l.ks,{ref:t,className:b.jD,value:null==g?e.numAnnualEditors:g,onChange:e=>{E(e.target.value)},onBlur:()=>{let t=parseInt(g);if(!isNaN(t)){if(t<0)e.dispatch(s.s.error((0,c.t)("flash.no_negative_seats")));else if(0===t)v?e.dispatch(s.s.error((0,c.t)("flash.at_least_one_editor.seat_rename"))):C(0);else if(t>p.m){let t=a.createElement("a",{href:`mailto:${(0,n.W4)()}`},(0,c.tx)("flash.annual_plan.contact_support_link"));e.dispatch(s.s.error((0,c.tx)("flash.annual_plan.contact_support",{contactSupport:t,maxAnnualSubscriptions:p.m})))}else t>100?e.dispatch(d.to({type:I,data:{numAnnualEditors:t,onConfirm:()=>C(t)}})):C(t)}E(null),u(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===o.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===o.Uz.ESCAPE&&u(!1)}}):e.numAnnualEditors,productType:(0,f.E)((0,m.vc)(e.editorType))}))),!r&&a.createElement("div",{className:i.s.flex.flexColumn.gap4.$},e.editorBreakdown,a.createElement("p",{className:b.eK},(0,c.tx)("payments.step_pay.add_more_editors",{addMoreSeats:S})))),a.createElement(w,{amount:e.totalCost,lineItem:T?y>0?(0,c.t)("payments.step_pay.price_per_editor_12_months",{price:h.formatMoney(e.annualMonthlyCost,{showCents:!1}),editorString:(0,c.t)("payments.step_pay.num_editors.seat_rename",{numEditors:y})}):(0,c.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function v(){return a.createElement("div",{className:b.me})}function y(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:r,isTeamPro:n,totalDesignEditors:o,totalWhiteboardEditors:l,monthlyDesignAmount:i,monthlyFigjamAmount:s,annualMonthlyDesignAmount:d,annualMonthlyFigjamAmount:m}=e,_=o-t,p=t*d*12+(!n&&_>0?_*i:0),f=l-r,g=r*m*12+(!n&&f>0?f*s:0);return a.createElement("div",null,a.createElement(h,{dispatch:e.dispatch,editorType:u._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==r,currency:e.currency,totalCost:p,annualMonthlyCost:d}),a.createElement(h,{dispatch:e.dispatch,editorType:u._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:r,allowZeroSeats:0!==t,currency:e.currency,totalCost:g,annualMonthlyCost:m}),a.createElement(v,null),a.createElement("div",{className:b.wD},a.createElement("div",{className:b.YK},(0,c.tx)("payments.step_pay.subscription")),a.createElement(T,{amount:p+g,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function w(e){let t=new _.vr(e.currency);return a.createElement("div",{className:b.R6},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",a.createElement("div",{className:i.s.flex.flexColumn.gap4.$},e.lineItem&&a.createElement("div",{className:b.eK},e.lineItem)))}function T(e){let t=new _.vr(e.currency);return a.createElement("div",{className:b.X5},a.createElement("p",{className:b.IW,"data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&a.createElement("p",{className:b.B8},(0,c.tx)("payments.step_pay.plus_sales_tax")))}let I="confirm-seats-modal";function C(e){let t=e.modalShown.data.numAnnualEditors;return a.createElement(E.Rw,{confirmationTitle:(0,c.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,c.t)("payments.step_pay.confirm_seats"),...e},(0,c.tx)("payments.step_pay.happy_you_want_to_buy_seats",{numAnnualEditors:t}))}(0,g.qK)(I,e=>a.createElement(C,{...e}))},441048:(e,t,r)=>{r.d(t,{l:()=>a});let a="trashed-projects"},142531:(e,t,r)=>{r.r(t),r.d(t,{AddPinModal:()=>v});var a=r(848318),n=r(716544),o=r(445777),l=r(992277),i=r(193324),s=r(493554),c=r(502255),d=r(280198),m=r(442313),u=r(775038),_=r(449737),p=r(481540),f=r(918105),g=r(635547),E=r(773988),b=r(168115),h=r(237461);function v({fileKey:e,source:t,open:r,onClose:o}){let u=(0,n.wA)(),v=(0,b.p)((0,m.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),w=(0,s.Rs)(g.wtK,{fileKey:e}),T=function(e){let[t,r]=a.useState(!1),n="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return n&&!t&&r(!0),n||t}(w);if("loaded"!==w.status)return null;let{file:I}=w.data;if(!I)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),u(_.Lo()),null;let C=I.computedWorkspace?.workspace;if(!C)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal opened for file with no workspace")),u(_.Lo()),null;let S=f.F.toSinatra(I),x=async e=>{try{await E.p.pinFile({resourceType:h.AH,resourceId:C.id,fileKey:I.key,description:e,shouldUpdatePermissions:T}),(0,p.E9)("file_browser_file_pinned_to_resource",I,{resourceType:h.AH,resourceId:C.id,source:t,pinDescription:(0,i._Z)(e)}),v(C.id)}catch(e){throw u(d.s.error((0,m.t)("file_browser.pinning.pin_modal.error"))),e}},k=T?a.createElement(y,{file:I,workspace:C}):null;return a.createElement(b.N,{title:(0,m.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,m.t)("file_browser.pinning.pin_file"),onSubmit:x,file:S,initialDescription:null,warningContent:k,open:r,onClose:o})}function y({file:e,workspace:t}){let r=e.parentOrgId;(0,o.B1)(r);let l=(0,n.d4)(({orgById:e})=>e[r].name);return a.createElement(u.E,null,(0,m.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:a.createElement(u.E,{fontWeight:"bold"},(0,m.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:l}))}))}},860441:(e,t,r)=>{r.r(t),r.d(t,{DeletePinModal:()=>b});var a=r(848318),n=r(716544),o=r(992277),l=r(193324),i=r(493554),s=r(502255),c=r(956715),d=r(280198),m=r(442313),u=r(481540),_=r(661780),p=r(376780),f=r(635547),g=r(773988),E=r(168115);function b({pinnedFileId:e,open:t,onClose:r}){let b=(0,_.TA)(),h=(0,n.wA)(),v=(0,E.p)((0,m.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[y,w]=a.useState(!1),T=(0,i.Rs)(f.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:I}=T.data;if(!I)return(0,s.$D)(o.e.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),r(),null;if(I.resourceType!==p.K.WORKSPACE)return(0,s.$D)(o.e.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:I.resourceType}}),r(),null;let C=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,u.E9)("file_browser_file_unpinned_from_resource",I.file,{resourceId:I.resourceId,resourceType:I.resourceType,isPinCreator:I.creator?.id===b,pinDescription:(0,l._Z)(I.description)}),v(I.resourceId),r()}catch(e){h(d.s.error((0,m.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return a.createElement(c.R,{title:(0,m.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,m.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:C,destructive:!0,isLoading:y,open:t,onClose:r},(0,m.t)("file_browser.pinning.delete_pin_modal.content"))}},896704:(e,t,r)=>{r.r(t),r.d(t,{EditPinModal:()=>g});var a=r(848318),n=r(716544),o=r(992277),l=r(493554),i=r(502255),s=r(280198),c=r(442313),d=r(449737),m=r(918105),u=r(376780),_=r(635547),p=r(773988),f=r(168115);function g({pinnedFileId:e,open:t,onClose:r}){let g=(0,n.wA)(),E=(0,f.p)((0,c.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),b=(0,l.Rs)(_.vgO,{pinnedFileId:e});if("loaded"!==b.status)return null;let{pinnedFile:h}=b.data;if(!h)return(0,i.$D)(o.e.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),g(d.Lo()),null;if(h.resourceType!==u.K.WORKSPACE)return(0,i.$D)(o.e.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:h.resourceType}}),g(d.Lo()),null;let v=h.resourceId,y=async t=>{try{await p.p.updatePin({pinnedFileId:e,description:t}),E(v)}catch(e){throw g(s.s.error((0,c.t)("file_browser.pinning.pin_modal.edit.error"))),e}},w=m.F.toSinatra(h.file);return a.createElement(f.N,{title:(0,c.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,c.t)("file_browser.pinning.pin_modal.save"),onSubmit:y,file:w,initialDescription:h.description,open:t,onClose:r})}},168115:(e,t,r)=>{r.d(t,{N:()=>D,p:()=>M});var a=r(848318),n=r(716544),o=r(776402),l=r(777611),i=r(731755),s=r(356505),c=r(665488),d=r(193324),m=r(473889),u=r(290868),_=r(17755),p=r(442313),f=r(697714),g=r(572112),E=r(918663),b=r(790355),h=r(717752),v=r(834996),y=r(139348),w=r(23459),T=r(536384),I=r.n(T),C=r(898939),S=r(303035),x=r(575492),k=r(645736),N=r(501805),R=r(166436),A=r(542052),O=r(835491);function L({buttonClassName:e,onInsert:t,closeOnInsert:r}){let[n,o]=a.useState(null),l=a.useRef(null),i=a.useCallback(()=>{l.current&&o(l.current.getBoundingClientRect())},[o]),s=a.useCallback(e=>{t(e),r&&o(null)},[t,r,o]);return a.createElement("button",{className:e,ref:l,onClick:i},a.createElement(A.In,{icon:"smiley-32"}),n&&a.createElement(O._,{onInsert:s,onCancel:()=>o(null),targetRect:n}))}let F={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function P({placeholder:e,text:t,onChange:r,maxLength:o,onSubmit:l,textAreaClassName:i}){let s=(0,n.wA)(),c=w.zl.get(N.ph),[m,u]=a.useState(!1),p=a.useRef(null),f=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),g=(0,d.Kq)(t,{includeTrailingWhitespace:!0});return a.createElement("div",{className:"emoji_text_area--textAreaContainer--4FHeL",onClick:f},a.createElement(x.P,{className:I()(_.s.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,_.s.bb1.bSolid.colorBorder).$,i),innerClassName:_.s.hFull.$},a.createElement(R.iX,{ref:p,className:_.s.pt16.px16.borderBox.if(m,_.s.pb4).$,currentOrgUsers:{orgUsers:{}},dispatch:s,editorOnClear:S.lQ,editorOnInsert:S.lQ,mentionables:F,messageMeta:t,mountInputFocused:!0,onCancel:S.lQ,onFocus:S.lQ,onSubmit:l??S.lQ,onUpdateTextArea:S.lQ,placeholderText:e,setIsEditorFocused:S.lQ,submitOnEnter:!1,typeahead:c,updateMessage:([e,t])=>{r(e)}}),a.createElement(k.a,{onInitialLoad:e=>u(!e),onIntersectionChange:e=>u(!e.isIntersecting)})),a.createElement("div",{className:_.s.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},a.createElement(L,{buttonClassName:"emoji_text_area--emojiPickerButton--CGYqF",onInsert:e=>{if(p.current){let t=C.dN.get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),o&&a.createElement("div",{className:_.s.if(g>o,_.s.colorTextDanger,_.s.colorTextSecondary).cursorDefault.$},g,"/",o)))}function D({title:e,confirmText:t,onSubmit:r,file:n,initialDescription:f,warningContent:b,open:v,onClose:y}){let[w,T]=a.useState(f??[]),[I,C]=a.useState(!1),S=(0,h.fA)(n),x=(0,g.l)(n.folder_id),k=(0,d.Kq)(w,{includeTrailingWhitespace:!0}),N=k<=100&&k>0,R=a.useCallback(async()=>{if(N)try{C(!0),await r(w),y()}finally{C(!1)}},[r,N,y,w]),A=o.hS({open:v,onClose:y}),O=a.createElement(a.Fragment,null,a.createElement("div",{className:_.s.p16.gap16.flex.flexColumn.$},a.createElement("div",{className:_.s.flex.flexColumn.gap16.$},a.createElement("div",null,a.createElement(u.e,{tile:S,borderRadius:6})),a.createElement("div",{className:_.s.flex.flexRow.gap8.itemsCenter.$},a.createElement(E.j,{tile:S,usePageIcon:!0}),a.createElement("div",{className:_.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},a.createElement("div",{className:_.s.textBodyLargeStrong.truncate.$},n.name),"loaded"===x.status&&x.data?a.createElement("div",{className:_.s.colorTextSecondary.truncate.$},x.data):null))),a.createElement(P,{placeholder:(0,p.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:w,onChange:T,onSubmit:R,maxLength:100,textAreaClassName:_.s.maxH100.$})),b?a.createElement("div",{className:_.s.colorBgWarningTertiary.px16.py12.flex.columnGap8.$},a.createElement(c.R,{className:_.s.flexShrink0.$}),a.createElement("span",null,b)):null);return a.createElement(l.bL,{manager:A,width:"lg"},a.createElement(i.vo,null,a.createElement(i.Y9,null,a.createElement(i.hE,null,e)),a.createElement(i.nB,{padding:0},O),a.createElement(i.wi,null,a.createElement(i.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:y},(0,p.tx)("modal.cancel")),I?a.createElement(s.$n,{disabled:!0},a.createElement(m.kt,{className:_.s.colorIconOnbrand.$})):a.createElement(s.$n,{disabled:!N,variant:"primary",onClick:R},t)))))}function M(e,t){let r=(0,n.wA)(),o=(0,v._6)();return a.useCallback(a=>{let n;("workspace"!==o.view||o.subView!==y.V0.DIRECTORY)&&(n={text:(0,p.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{r(b.$T({view:"workspace",subView:y.V0.DIRECTORY,workspaceId:a,selectedTab:y.dN.TEAMS}))}}),r(f.F.enqueue({type:t,message:e,button:n}))},[r,e,t,o])}},843493:(e,t,r)=>{r.d(t,{$:()=>u});var a=r(848318),n=r(716544),o=r(44509),l=r(857188),i=r(790355),s=r(110979),c=r(87089),d=r(139348);if(443==r.j)var m=r(980753);function u(){let e=(0,c.dq)(),t=(0,n.wA)();return a.useCallback((r,a)=>{if(t(s.kg({clickedResourceType:"workspace",resourceIdOrKey:r??void 0})),(0,l.Fo)(a)||a.shiftKey){let t=`/files/${e}/workspace/${r??m.O}/directory/teams`;o.Ay.redirect(t,"_blank"),a.preventDefault()}else t(i.$T({view:"workspace",subView:d.V0.DIRECTORY,workspaceId:r,selectedTab:d.dN.TEAMS}))},[e,t])}},894009:(e,t,r)=>{r.d(t,{h:()=>b});var a=r(848318),n=r(425642),o=r(442313),l=r(458128),i=r(716544),s=r(539578),c=r(669976),d=r(790355),m=r(110979),u=r(481540),_=r(841747),p=r(748288),f=r(832876),g=r(697906);function E(e){let[t,r]=a.useState(!1),n=(0,i.wA)(),o=(0,i.d4)(e=>e.selectedView),l=(0,_.FC)(),E=e.team,b=()=>{(0,u._J)("file_browser_team_click",E.id,l,{selectedView:"recentsAndSharing"===o.view?o.tab||p.G.RECENTLY_VIEWED:o.view,viewMode:"grid"}),n(m.kg({clickedResourceType:"team",resourceIdOrKey:E.id})),n(d.$T({view:"team",teamId:E.id}))},h=e.selectedTeamId===e.team.id,v=t||h;return a.createElement(c.a,{canView:!0,description:E.description,headerLeft:a.createElement(f.Ro,{className:g.rP,entity:E,size:40}),headerRight:a.createElement(s.m,{team:E,onLeave:e.onLeave,isCardActive:v}),isCardActive:v,isSelected:h,name:E.name,onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&b()},onMouseOut:()=>{r(!1)},onMouseOver:()=>{r(!0)}})}function b(e){let t=e.teams;(0,n.KQ)(t,"name");let[r,i]=a.useState(void 0);return a.createElement(l.X,{emptyView:(0,o.tx)("team_tile.guest.no_teams.info",{orgName:e.orgName})},t.map(t=>a.createElement(E,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:r,setSelectedTeamId:i})))}},458128:(e,t,r)=>{r.d(t,{X:()=>s});var a=r(848318),n=r(468189),o=r(536384),l=r.n(o),i=(e=>(e.Medium="Medium",e.Large="Large",e))(i||{});function s(e){let t;return e.isLoading?a.createElement("div",{className:"tile_grid--loadingContainer--1gQIv"},a.createElement(n.k,{htmlAttributes:{"data-testid":"loading-spinner"}})):!e.children||Array.isArray(e.children)&&!e.children.length?a.createElement("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",a.createElement("div",{className:l()("tile_grid--gridContainer--cn4vx",e.containerClassName)},a.createElement("div",{className:t},e.children)))}},640533:(e,t,r)=>{r.d(t,{$:()=>k,A:()=>A});var a=r(848318);if(443==r.j)var n=r(496108);var o=r(741419),l=r(179703),i=r(23459),s=r(579020),c=r(379338),d=r(882439),m=r(442313),u=r(802780),_=r(180423),p=r(201494),f=r(326825),g=r(339599),E=r(139736),b=r(662275),h=r(45584),v=r(35315),y=r(61614),w=r(495052),T=r(334366),I=r(151144),C=r(58802),S=r(722541);let x=(0,c.ck)("bfb358109ac5994e69048d8390d3a0c334253aa8"),k="rfd-upsell-page-title";function N({nodeToHighlight:e,complete:t}){let[r,o]=a.useState(null),l=a.useRef(null),i=(0,h._X)({subscribeToUpdates_expensive:!0}),s=a.useCallback(()=>{l.current&&o(l.current.absoluteBounds.height*i.zoomScale)},[i.zoomScale]);return a.useEffect(()=>{if(!e){o(null);return}let t=`dev-page-change-upsell-${e}`,r=(0,b.EE)(t,[e],e=>{l.current=e.position,s()});return l.current=r.currentNodePosition[e]?.position||null,s(),()=>{(0,b.lB)(t)}},[e,s]),a.createElement(w.NJ,{arrowPosition:y.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:S.R3,closeButtonClassName:S.b,dismissModal:t,hideIfArrowPositionDoesNotMatch:!0,hideIfTargetLost:!0,isCanvasNode:!0,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:e,topOffset:r?-r/2-15:0,width:240},a.createElement("div",{className:S.Xq},(0,m.t)("dev_handoff.rfd_signals_upsell.mark_as_ready")),a.createElement("div",{className:S.O6},a.createElement("div",{className:S.zu},(0,m.t)("dev_handoff.rfd_signals_upsell.description"))),a.createElement("div",{className:S.JP},a.createElement(n.v,{mode:"dev-handoff"},a.createElement(d.$z,{trackingProperties:{trackingDescriptor:_.c.MARK_READY_FOR_DEV},variant:"primary",onClick:function(){e&&(t(),g.z4.setNodesReady(!0,[e],"dev-node-change-upsell",null))}},(0,m.t)("dev_handoff.rfd_signals_upsell.mark_ready_for_dev")))))}function R(e){s.az.trackDefinedEvent("activation.rfd_signal_upsell.disqualification_reason",{reason:e,upsellSubject:"page"})}function A(){let[e,t]=a.useState("show_page_tooltip"),[r,s]=a.useState(null),[c,g]=(0,i.fp)(C.hj),b=(0,i.Xr)(C.d1),A=(0,i.md)(C.Sp),O=(0,i.Xr)(C.Sp),L=(0,E.Z)("dev-handoff-rfd-signals-page-upsell"),F=(0,u.cR)(),{show:P,complete:D,uniqueId:M,isShowing:B}=(0,f.e)({overlay:I.ZNl,priority:v.N.HIGH_PRIORITY_MODAL,experiment:{check:F,predicate:e=>e,postCheck:()=>!0}});async function U(){c&&r&&o.Egt&&(await (0,l.UN)().setCurrentPageAsync(r),o.Egt.replaceSelection([c],!0),await L(await (0,h.QZ)({nodeId:c,alwaysPan:!0}),{alwaysNavToSimilarViewport:!0}),t("show_node_tooltip"))}return(a.useEffect(()=>{b({fn:D})},[D,b]),(0,p.E)(M,["page_name_changed_with_rfd_indicator"],e=>{if(!e.properties.pageId){R("no_page_id");return}if(A){R("already_seen_upsell_this_session");return}let t=(0,l.UN)().get(e.properties.pageId);if(!t){R("page_not_found");return}let r=function(e){let t=null,r=0,a=new Set;return function e(n){if(!a.has(n.guid)){if("FRAME"===n.type&&n.childCount>r&&n.canHaveStatus){let e=function e(t){let r=0;if(t.childCount>0)for(let a of t.childrenNodes)r+=1+e(a);return a.add(t.guid),r}(n);e>r&&(r=e,t=n)}n.childCount>0&&n.childrenNodes?.forEach(e)}}(e),t}(t);if(!r){R("no_upsell_frame_for_page");return}s(e.properties.pageId),g(r.guid),P({onShow:()=>O(!0)})}),B)?"show_page_tooltip"===e?a.createElement(w.NJ,{arrowPosition:y.F_.LEFT_TITLE,backgroundColor:"var(--color-bg)",className:S.R3,closeButtonClassName:S.b,dismissModal:D,leftOffset:12,noAnimation:!0,shouldNotWrapInParagraphTag:!0,targetKey:k,width:240},a.createElement("div",{className:S.Rg},(0,m.t)("dev_handoff.rfd_signals_upsell.title")),a.createElement("div",{className:S.O6},a.createElement("div",{className:S.j},a.createElement(T.GV,{src:x,width:240})),a.createElement("div",{className:S.zu},(0,m.t)("dev_handoff.rfd_signals_upsell.page_upsell.description"))),a.createElement("div",{className:S.JP},a.createElement(n.v,{mode:"dev-handoff"},a.createElement(d.$z,{trackingProperties:{trackingDescriptor:_.c.SHOW_ME_HOW},variant:"primary",onClick:U},(0,m.t)("dev_handoff.rfd_signals_upsell.page_upsell.show_me_how"))))):c?a.createElement(N,{nodeToHighlight:c,complete:D}):null:null}},773988:(e,t,r)=>{r.d(t,{p:()=>n});var a=r(757033);let n=new class{async pinFile({resourceType:e,resourceId:t,fileKey:r,description:n,shouldUpdatePermissions:o}){await a.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:r,description:n,should_update_permissions:o})}async updatePin({pinnedFileId:e,description:t}){await a.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await a.Ay.del(`/api/pinned_files/${e}`)}}},783432:(e,t,r)=>{r.d(t,{W:()=>R,l:()=>N});var a=r(848318),n=r(716544),o=r(425642),l=r(157907),i=r(23459),s=r(896966),c=r(442313),d=r(449737),m=r(779073);if(443==r.j)var u=r(604613);var _=r(976308),p=r(326971),f=r(51910),g=r(369600),E=r(376780),b=r(710665),h=r(988540),v=r(183905),y=r(777042),w=r(373072),T=r(252244);if(443==r.j)var I=r(706377);var C=r(616385),S=r(515071),x=r(810175),k=r(345883);let N=(0,i.eU)(!1);function R({clientX:e,clientY:t,pageIds:r,selectedView:R,shouldShowDuplicateOption:A}){let O=(0,n.wA)(),L=(0,n.d4)(e=>e.mirror.appModel),F=(0,g.q5)(),P=(0,f.p8)("pagesList"),D=(0,p.HZ)(),M=_.F.useShouldHideStarterCtaForOpenFile(),B=(0,T.cT)(),U=(0,w.hZ)(),$=1===r.length&&void 0!==r[0]?function({pageId:e,openFile:t,pagesList:r,team:a,shouldShowDuplicateOption:n,shouldPaywallForDraftsPageLimitV1:o,dispatch:i,hideUpsellPlanCta:u,isFileReadOnly:p,isK12OrgStudent:f}){var g;let y=r.length,w=r.filter(e=>!e.isDivider).length,T=r.find(t=>t.nodeId===e),N=!!T&&T.isDivider,R=r=>(0,k.HZ)()&&T&&t&&t.editorType===E._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,k.$t)({pageGuids:[e],dispatch:r,source:x.E.FJ_PAGE_MENU})}]:[];if(p||f)return[{action:"page-copy-link",args:{nodeId:e}},...R(i)];let A=()=>(0,l.k)().move_page_to_new_file&&T&&t?((0,s.ED)("getPageMoveMenuItem","Parameters",{pageId:e,folderId:"1",fileKey:t.key}),{name:"page-move-to-new-file",callback:()=>{!function(e,t,r,a,n={},o=!0){if(!e)return;let l={...n,type:C.A.FILE,fileKey:e.key,file:e,afterFileMove:void 0,isMovePageToNewFile:o,page_id:r};t(d.to({type:(0,I.J)(),data:l}))}({key:t.key,name:t.name,folder_id:t.folderId,team_id:t.teamId,editor_type:t.editorType},i,e)}}):null,O=n?(g=N?(0,c.t)("fullscreen_actions.divider-duplicate"):(0,c.t)("fullscreen_actions.page-duplicate"),t&&((0,b.J9)({openFile:t,pageCount:y})||o({openFile:t,pageCount:y}))?{name:"page-duplicate",callback:()=>{i((0,d.to)({type:S.DV,data:{team:a,resource:h.vL.PAGE,action:v.ZN.DUPLICATE_PAGE,editorType:t.editorType,currentPlan:_.F.Plan.STARTER,upsellPlan:_.F.Plan.PRO,hideUpsellPlanCta:u}}))},displayText:g}:{action:"page-duplicate",args:{nodeId:e},loadingIndicatorString:"Duplicating",displayText:g}):null;return N?[O,A(),{action:"page-delete",args:{nodeIds:[e]},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.divider-delete")}]:[{action:"page-copy-link",args:{nodeId:e}},{separator:!0},{action:"page-rename",args:{nodeId:e},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:1})},O,A(),{separator:!0},{action:"page-delete",callback:()=>i(m.PK({})),args:{nodeIds:[e]},loadingIndicatorString:"Deleting",disabled:1===w,displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:1})},...R(i)]}({pageId:r[0],team:F?F.team:null,shouldShowDuplicateOption:A,openFile:F,pagesList:P,shouldPaywallForDraftsPageLimitV1:D,dispatch:O,hideUpsellPlanCta:M,isFileReadOnly:B,isK12OrgStudent:U}):function({pageIds:e,pagesList:t,dispatch:r,isFileReadOnly:a,isK12OrgStudent:n}){if(a||n)return[];let o=new Set(t.filter(e=>!e.isDivider).map(e=>e.nodeId)),l=e.filter(e=>o.has(e)),s=l.length;return 0===s?[]:[{action:"batch-page-rename",args:{nodeIds:l},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:s})},{separator:!0},{action:"page-delete",callback:()=>r(m.PK({})),args:{nodeIds:l},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:s}),disabled:o.size<=s},...(t=>{if(!(0,k.HZ)())return[];let r=i.zl.get(g.yV);return r&&r.editorType===E._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,k.$t)({pageGuids:Array.from(e),dispatch:t,source:x.E.FJ_PAGE_MENU})}]:[]})(r)]}({pageIds:r,pagesList:P,dispatch:O,isFileReadOnly:B,isK12OrgStudent:U});return(0,a.useEffect)(()=>(i.zl.set(N,!0),()=>{i.zl.set(N,!1)}),[]),a.createElement("div",{className:`${u.Dm}`},a.createElement(y.Q,{appModel:L,menuItems:(0,o.WI)($),dispatch:O,selectedView:R,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,isLimitedDevMode:!1,recordingKey:"pageMenu"}))}},373072:(e,t,r)=>{if(r.d(t,{h5:()=>E,hZ:()=>p,hs:()=>b,mb:()=>g,sv:()=>h}),443==r.j)var a=r(445777);var n=r(157907),o=r(727341),l=r(326971),i=r(369600),s=r(87089),c=r(661780),d=r(252244),m=r(121284);let u=/^Page \d+$/;var _=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(_||{});function p(){let e=(0,s.sZ)(),t=!!e?.k12_google_org,r=c.iZ()?.profile?.job_title;return t&&"student"===r}function f(){let e=(0,i.q5)(),t=(0,d.cT)(),r=(0,s.sZ)(),a=!!r?.k12_google_org,o=p();if(!e)return"fileLoading";if((0,n.k)().figjam_pages_for_education){if(o)return"k12"}else{let t=!!e.team?.studentTeamAt;if(a||t)return"k12"}return t?"readOnly":(0,m.Qy)(e)?"personalDraft":null}var g=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(g||{});function E({nonDividerPageCount:e,isDropdownOpen:t}){let r=f(),n=(0,l.nn)(),i=(0,o.GS)(),s=n&&!u.exec(n);if("fileLoading"===r)return null;if(e>1||s||t&&!i)return"viewPages";switch(r){case null:return"addPage";case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,a.xb)(r)}}function b(){return null===f()}function h(){return null===f()}},227058:(e,t,r)=>{r.d(t,{i:()=>p});var a=r(848318),n=r(536384),o=r.n(n),l=r(818754),i=r(397579),s=r(400471),c=r(21406),d=r(442313),m=r(377549),u=r(786175);let _=(0,l.jz)(u.figmaComponentFlyoutTextMaxCollapsedHeight);function p({description:e,description_rt:t}){let r=a.useRef(null),[n,l]=a.useState(!0),[u,p]=a.useState(!1),f=(0,i.ZC)(e);a.useEffect(()=>{if(e&&r.current&&f!==e){let e=r.current.scrollHeight>_;l(e),p(e)}},[e,f]);let g=a.useCallback(()=>{n&&p(!0),l(!n)},[n]);if(!e&&!t)return null;let E=!!e&&(n||u);return a.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?a.createElement("div",null,a.createElement(c.C,{value:t,valueFormat:(0,s.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:n?m.D6:m.kF,innerRef:r})):a.createElement("div",{ref:r,className:o()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":n},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),E&&a.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:g},n?(0,d.tx)("design_systems.assets_panel.show_more"):(0,d.tx)("design_systems.assets_panel.show_less")))}},260760:(e,t,r)=>{r.d(t,{c0:()=>C,Jc:()=>x});var a=r(848318),n=r(992277);if(443==r.j)var o=r(376025);if(443==r.j)var l=r(164159);var i=r(23459),s=r(430285),c=r(878028),d=r(536384),m=r.n(d),u=r(541525),_=r(493554),p=r(195507),f=r(925025),g=r(502255),E=r(473889),b=r(97607),h=r(390709),v=r(442313),y=r(369600),w=r(635547),T=r(50258),I=r(158845);function C({pageRowRef:e,pagesListRef:t,nodeId:r,nodeName:n,pageThumbnail:s,isLoading:c}){let d=(0,y.q5)(),_=(0,u.hC)(),p=(0,i.Xr)(I.qp);if(!d||!t.current||!e.current)return null;let g=t.current.getBoundingClientRect().left+t.current.getBoundingClientRect().width,w=g-16,C=`calc(${g}px + var(--spacer-2, 0.5rem))`,S=e.current.getBoundingClientRect().top,x=e.current.getBoundingClientRect().height;return a.createElement(a.Fragment,null,a.createElement("div",{style:{position:"fixed",zIndex:10,left:w+"px",top:S+"px",height:x+"px",width:"32px"}}),a.createElement("div",{"data-testid":"PageSummaryPreview",className:"page_summary_preview--previewContainer--kx2Uy",style:{left:C,top:S+x/2}},a.createElement("div",{className:"page_summary_preview--thumbnailContainer--a-jPQ"},a.createElement("div",{"data-testid":"FileThumbnail"},a.createElement(h.V,{thumbnailType:(0,b.lv)(d.editorType,!1),thumbnailUrl:s?.thumbnail_url??null,clientMeta:s?.thumbnail_meta??d.clientMeta,noBorder:!0})),a.createElement(o.E,{"aria-label":(0,v.t)("pages_panel.summary_preview.update_preview"),className:m()("page_summary_preview--refreshButton--XAvPe",{"page_summary_preview--alwaysShowRefreshButton--M3IDC":!s}),onClick:()=>{d&&!c&&(_("figjam_pages_summary.preview_refreshed",{previewPageId:r}),p(f.r.LOADING),T.S.updatePageCheckpointThumbnails({fileKey:d.key}).catch(()=>{_("figjam_summary_preview.page_thumbnails_request_failed_increment_metric",{})}))},htmlAttributes:{"data-tooltip":(0,v.t)("pages_panel.summary_preview.update_preview"),"data-tooltip-type":"text","data-testid":"RefreshPreviewButton"}},c?a.createElement(E.kt,{testId:"LoadingSpinner",size:"small",className:"page_summary_preview--loadingSpinner--FXocO"}):a.createElement(l.o,null))),a.createElement("div",{className:"page_summary_preview--pageTitleContainer--Yk-qK text--fontPos13--xW8hS text--_fontBase--QdLsd"},n)))}let S=c.z.record(c.z.object({thumbnail_url:c.z.string(),thumbnail_meta:c.z.object({}).passthrough().transform(e=>JSON.stringify(e)),created_at:c.z.string().optional()}));function x(e){let t=(0,y.q5)(),r=(0,_.Rs)(w.SPC,{fileKey:t?.key??""},{enabled:!!(t?.key&&e)});return s.Qw.useTransform(r,e=>{if(e?.file?.pagesSignedThumbnailData.status!==p.tT.Loaded)return null;try{if(!e?.file?.pagesSignedThumbnailData.data)return null;let t=JSON.parse(e.file.pagesSignedThumbnailData.data);return S.parse(t)}catch(r){return(0,g.$D)(n.e.FIGJAM,Error(`PageSummaryPreview: Failed to parse page thumbnail data. Error: ${r.message}.`),{tags:{fileKey:t?.key},extra:{parsedPageThumbnails:e?.file?.pagesSignedThumbnailData.data}}),null}})}},808885:(e,t,r)=>{r.d(t,{v:()=>V,G:()=>G});var a=r(848318),n=r(716544);if(443==r.j)var o=r(988520);if(443==r.j)var l=r(321508);if(443==r.j)var i=r(76925);if(443==r.j)var s=r(90741);if(443==r.j)var c=r(899155);if(443==r.j)var d=r(792760);var m=r(741419),u=r(157907),_=r(23459),p=r(536384),f=r.n(p),g=r(379338),E=r(654104),b=r(166365),h=r(442313),v=r(697714),y=r(58802),w=r(640533),T=r(235441),I=r(727341),C=r(326971),S=r(776618),x=r(439984),k=r(207715),N=r(166917),R=r(503024),A=r(783432),O=r(857188),L=r(964e3),F=r(256429);function P({value:e,setValue:t,recordingKey:r,isDisabled:n,stopRenaming:o}){let l=(0,a.useRef)(null);(0,a.useEffect)(()=>{l.current?.select()},[]);let i=E.v_(r,"keydown",e=>{if(e.keyCode===O.Uz.ESCAPE)o(!1),e.stopPropagation();else if(e.keyCode===O.Uz.ENTER)o(!0);else{if(e.keyCode!==O.Uz.TAB)return(0,L.jr)(e,L.W0.NO),E.aH;e.preventDefault(),o(!0)}}),s=E.AF(r,"change",e=>{n||t(e.currentTarget.value)}),c=E.iQ(r,"blur",()=>{o(!0)});return a.createElement(F.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"page_rename_input--input--s2o7Q",innerRef:l,onBlur:c,onChange:s,onKeyDown:i,spellCheck:!1,value:e})}var D=r(214758);if(443==r.j)var M=r(954206);if(443==r.j)var B=r(255111);if(443==r.j)var U=r(344432);if(443==r.j)var $=r(871428);function j({editorType:e}){switch(e){case m._YF.DESIGN:return a.createElement(l.k,null);case m._YF.WHITEBOARD:return a.createElement(b.B,{svg:$.A});case m._YF.SLIDES:return a.createElement(i.l,null);default:return null}}function W(e){let{isActive:t,isDivider:r,pageType:n,hasMultiplePageTypes:o}=e;return r||!o?null:a.createElement("div",{className:f()(D.n6,{[D.vu]:t})},a.createElement(j,{editorType:n}))}function G({pageType:e,hasMultiplePageTypes:t,nodeId:r,nodeName:l,isRenaming:i,startRenaming:s,stopRenaming:c,renamingPagePendingName:d,setRenamingPagePendingName:p,isActive:k,shouldShowGuids:O,onMouseDownCallback:L,onMouseUpCallback:F,onMouseMoveCallback:U,onClickCallback:$,reorderingPageGuids:j,selectedPageGuids:G,onContextMenuCallback:z,showMemoryUsage:Y,showInFileMemoryPercentage:K,isOffline:q,isComparingChanges:J,pageToNumChanges:X,versionHistory:Q,isDivider:Z,pagesList:ee,index:et,activePageShouldUseBrandColor:er}){let ea=(0,n.wA)(),en=(0,I.GS)(),eo="whiteboard"===(0,T.lg)(),[el,ei]=a.useState(!1),es=(0,_.md)(A.l),ec=(0,_.md)(y.Yh),ed=(0,N.Fk)((e,t)=>e.get(t)?.nodeMemoryUsage,r),em=(0,N.Fk)((e,t)=>e.get(t)?.rootMemoryUsage,r),eu=a.useMemo(()=>(0,x.Fy)(ee,r)===m.xal.LOADED,[r,ee]),e_=a.useMemo(()=>ee.slice(0,et).reverse().find(e=>e.isDivider),[et,ee]),ep=m.h3O.getSessionState()===m.kul.JOINED,ef=a.useMemo(()=>q&&!ep&&!eu&&m.h3O.isIncrementalSession(),[q,eu,ep]),eg=E.Pt("pagesPanel","row",et)||"",eE=E.rf(eg,"contextmenu",e=>{e.preventDefault(),!ef&&z&&z({nodeId:r,e})}),eb=E.rf(eg,"dblclick",()=>{ef||i||s(r)}),eh=E.rf(eg,"click",e=>{if(!Z&&!i){if(ef){ea(v.F.enqueue({type:"offline-page-switch",message:(0,h.t)("fullscreen.pages_panel.unavailable_offline")}));return}$(r,e)}}),ev=a.useCallback(e=>{ef||i||L(r,e)},[i,r,L,ef]),ey=a.useCallback(e=>{i||U(r,e)},[i,r,U]),ew=a.useCallback(e=>{i||F(r,e)},[i,r,F]),eT=a.useCallback(()=>(0,o.uy)(ed)||(0,o.uy)(em)?"":(0,S.pr)(ed,em,!0),[ed,em]),eI=J&&X?.get(r)||0,eC=Q?.activeId&&"current_version"===Q.activeId,eS=Y&&K&&!i&&eC,ex=!J&&!i,ek=Z&&!k&&!i,eN=eo&&!i&&k&&G?.length===0,eR=eN&&el&&es,eA=(0,u.k)().ce_page_separators_titles&&!(0,g.O_)()&&!Z&&void 0!==e_&&!e_.name.match(/^(-+|\u2013+|\u2014+|\*+|\s+)$/);return a.createElement("div",{className:f()({[D.mB]:ek,[D.oG]:!ek,[D.sl]:k,[D.sR]:eR,[D.Pl]:er,[D.Dq]:0===j.length&&0===G.length,[D.vy]:eA},0!==j.length||0!==G.length?G.includes(r)?D.wH:j.includes(r)?D.iB:0===j.length?D.Dq:"":""),onContextMenu:eE,onClick:eh,draggable:!1,onMouseDown:ev,onMouseMove:ey,onMouseUp:ew,onDoubleClick:eb,"data-onboarding-key":ec===r?w.$:""},!ek&&!en&&a.createElement(b.B,{className:f()(k?D.Mp:D._J,{[D.Vt]:!1}),svg:M.A}),i&&a.createElement(P,{value:d||"",setValue:p,stopRenaming:c,recordingKey:eg,isDisabled:ef}),ek?(e=>{let t=!!e.match(/^(-+|\u2013+|\u2014+|\*+|\s+)$/),r=(0,C.Bc)(e);return(0,u.k)().ce_page_separators_titles&&!(0,g.O_)()&&!t&&r?a.createElement("span",{className:D.O0},r[1]):a.createElement("span",{className:D.jE,"data-testid":"pageDivider"})})(l):!i&&a.createElement("div",{className:D.Nz},a.createElement("span",{className:ef?D.YW:D.KE},O?`${l} (${r})`:l)),a.createElement("div",{className:D.q8},ex&&a.createElement(V,{pageGuid:r,fallback:a.createElement(W,{isActive:k,isDivider:Z,pageType:e,hasMultiplePageTypes:t}),hideBackground:!0}),ef&&!ek&&a.createElement("div",{className:D.Nr,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,h.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},a.createElement(b.B,{className:D.VQ,svg:B.A,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,h.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"})),eS&&a.createElement("span",{className:ef?D.hi:D.VC,dir:"auto"},eT()),(0,u.k)().version_diffing&&J&&eI>0&&a.createElement("div",{className:D.Sp},eI),(0,u.k)().piper_present_summary&&eN&&!t?a.createElement(H,{onContextMenuCallback:z,nodeId:r,isMoreActionsActive:el,setIsMoreActionsActive:ei,isPageContextMenuOpen:es,isUI3:en}):null))}function V({pageGuid:e,margin:t,fallback:r=null,hideBackground:n=!1}){let o=(0,k.J2)(m.Ez5.currentSceneState().numReadyNodesByPage),l=(0,k.J2)(m.Ez5.currentSceneState().numCompletedNodesByPage),i=(0,I.GS)(),c=o.has(e)?o.get(e)>0:m.glU.nodeStatusesOnPage(e).includes(m.zIx.BUILD),d=l.has(e)?l.get(e)>0:m.glU.nodeStatusesOnPage(e).includes(m.zIx.COMPLETED);return d&&!c&&i?a.createElement(s.g,{className:"pages_panel_row--pageCompleted--gzdWd","data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.status.completed"),"data-testid":"pageCompletedIndicator"}):c||d?a.createElement(b.B,{className:f()("pages_panel_row--pageReady--XaDiG",{"pages_panel_row--hideBackground--22Ike":n}),svg:U.A,style:t?{[t]:"8px"}:void 0,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.tag.ready_to_build"),dataTestId:"pageReadyIndicator"}):r}function H({onContextMenuCallback:e,nodeId:t,isMoreActionsActive:r,isPageContextMenuOpen:n,setIsMoreActionsActive:o,isUI3:l}){let i=a.useRef(null),s=l?-4:-15,m=l?10:9;return a.useEffect(()=>{n||o(!1)},[n,o]),a.createElement("div",{ref:i,onDoubleClick:e=>e.stopPropagation(),onClick:r=>{o(!0);let a=i.current?.getBoundingClientRect();a&&e({nodeId:t,e:r,clientX:a.x+s,clientY:a.y+a.height+m})},role:"button",tabIndex:0,className:f()("pages_panel_row--pageMoreActionsButton--5Rty9",{"pages_panel_row--pageMoreActionsButtonActive--2dmC-":r&&n}),"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,h.t)("fullscreen.pages_panel.more_pages_actions"),"data-tooltip-show-above":!0},l?a.createElement(c.A,{className:"pages_panel_row--pageMoreActionsIcon--kzZVn"}):a.createElement(d.J,null))}},631608:(e,t,r)=>{r.d(t,{Uz:()=>p,_k:()=>f,oP:()=>_});var a=r(848318),n=r(23459),o=r(857188),l=r(992444),i=r(449977),s=r(326971),c=r(252244),d=r(158845),m=(e=>(e.RANGE="range",e.INDIVIDUAL="individual",e))(m||{});function u(e){return(0,o.Fo)(e)?"individual":e.shiftKey?"range":null}function _(e){return!!u(e)}function p({pagesList:e,isDisabled:t,selectedPageIds:r,startRenaming:n,cancelMultiselect:i,cancelReordering:s}){(0,a.useEffect)(()=>{if(t)return;let a=t=>{let a=(0,c.Pe)(e),d=r.filter(t=>{let r=a[t];return void 0!==r&&!e[r].isDivider}).sort((e,t)=>a[e]-a[t]);if(0!==d.length)switch(t.keyCode){case o.Uz.ESCAPE:i(),s();break;case o.Uz.R:(0,o.Fo)(t)&&(1===d.length?n(d[0]):l.Y5.triggerActionInUserEditScope("batch-page-rename",{args:{nodeIds:d}}))}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t,e,r,i,s,n])}function f(e){let[t,r]=(0,n.fp)(d.cE),o=(0,s.dh)(),c=(0,a.useCallback)(()=>{r(e=>e.length?[]:e)},[r]),m=(0,a.useCallback)((a,n)=>{let s=u(n);switch(s&&((0,i.tJ)([]),l.Y5.commit()),s){case"individual":return r(t.includes(a)?t.filter(e=>e!==a):0===t.length&&o!==a?[o,a]:[...t,a]),!0;case"range":{let n=0===t.length?o:t[t.length-1],l=e.findIndex(e=>e.nodeId===n),i=e.findIndex(e=>e.nodeId===a),s=Math.min(l,i),c=Math.max(l,i),d=new Set(t),m=e.slice(s,c+1).map(e=>e.nodeId);return d.has(m[0])&&d.has(m[m.length-1])?r(t.filter(e=>!m.includes(e))):r([...t,...m.filter(e=>!d.has(e))]),!0}case null:return c(),!1}},[c,e,o,t,r]);return{selectedPageIds:t,handleMultiselectClick:m,cancelMultiselect:c}}},104896:(e,t,r)=>{r.d(t,{c:()=>E});var a=r(848318),n=r(716544),o=r(741419),l=r(179703),i=r(23459),s=r(541525),c=r(963376),d=r(58802),m=r(416105),u=r(326971),_=r(439984),p=r(369600),f=r(764016),g=r(158845);function E(e){let t=(0,u.dh)(),[r,E]=(0,i.fp)(g.l7),[b,h]=(0,i.fp)(g.oZ),v=(0,p.q5)(),y=(0,n.wA)(),w=(0,u.rE)(),T=(0,n.d4)(e=>e.versionHistory),I=(0,s.am)(),C=(0,f.W)(),S=(0,i.Xr)(d.Yh),x=(0,a.useCallback)(e=>{E(e),o.glU.triggerActionInUserEditScope("track-page-rename",{args:{nodeId:e}})},[E]),k=(0,a.useCallback)(()=>E(null),[E]),N=(0,a.useCallback)(async()=>{if(!r)return;let a=(0,l.UN)().get(r),n=a?.name,i=b||"",s=await (0,u.zO)({openFile:v,pageNode:a,pageName:i});if((0,u.CQ)({openFile:v,pageId:r,newName:i,oldName:n,trackRenamePage:()=>I("page_commit_rename",{nodeId:t,isDivider:s},{forwardToDatadog:!0})}),s&&t===r){let r=e.findIndex(e=>e.nodeId===t),a=r+1,n=e[a];for(;n&&n.isDivider;)a+=1,n=e[a];if(n)(0,m.J)(()=>(0,u.$P)(n.nodeId,t,T,y,(0,_.Fy)(e,n.nodeId)===o.xal.LOADED,I));else{let a=r-1,n=e[a];for(;n&&n.isDivider;)a-=1,n=e[a];n?(0,m.J)(()=>(0,u.$P)(n.nodeId,t,T,y,(0,_.Fy)(e,n.nodeId)===o.xal.LOADED,I)):w(null)}}E(e=>e===r?null:e),C({newTitle:i,nodeType:"PAGE"}),n!==i&&(0,f.d)(i).length>0&&(S(r),(0,c.YQ)({id:"page_name_changed_with_rfd_indicator",properties:{pageId:r}}))},[e,w,r,E,b,v,t,T,I,y,C,S]);return{renamingPageId:r,startRenaming:x,cancelRenaming:k,commitRenaming:N,pendingPageName:b,setPendingPageName:h}}},545408:(e,t,r)=>{r.d(t,{C:()=>s});var a=r(848318),n=r(741419),o=r(673906),l=r(541525),i=r(252244);function s(e){let[t,r]=(0,a.useState)([]),s=(0,a.useRef)(null),[c,d]=(0,a.useState)(null),m=t.length>0,u=(0,l.U)(),_=(0,a.useCallback)(e=>{r(e),d(null),s.current=null},[]),p=(0,a.useCallback)(()=>{r(e=>e.length?[]:e),d(null),s.current=null},[]),f=(0,a.useCallback)((e,r)=>{if(t.includes(e)){d(null);return}let a=r.target;c&&c.dragOverPageId===e&&s.current||(s.current=a.getBoundingClientRect());let n=r.clientY-s.current.top<s.current.height/2?"before":"after";d(t=>t&&t.dragOverPageId===e&&t.insertPosition===n?t:{dragOverPageId:e,insertPosition:n})},[c,t]),g=(0,a.useCallback)(()=>!c||!m||t.includes(c.dragOverPageId)?(p(),!1):(o.l7.user("reorder-pages",()=>{let r=(0,i.Pe)(e);"before"===c.insertPosition?[...t].sort((e,t)=>r[e]-r[t]).forEach(e=>{n.Egt.pageMoveBeforePage(e,c.dragOverPageId)}):[...t].sort((e,t)=>r[t]-r[e]).forEach(e=>{n.Egt.pageMoveAfterPage(e,c.dragOverPageId)})}),p(),u("page_reorder",{reorderedPageIds:t,dragOverPageId:c.dragOverPageId,insertPosition:c.insertPosition},{forwardToDatadog:!0}),!0),[e,m,t,p,c,u]);return{isReordering:m,reorderingPageIds:t,startReordering:_,cancelReordering:p,commitReordering:g,draggingState:c,updateDraggingState:f}}},74276:(e,t,r)=>{r.d(t,{$v:()=>I,BI:()=>S,Ec:()=>R,Lz:()=>A,Mi:()=>x,Nm:()=>k,_G:()=>N,jA:()=>w,lj:()=>C,rQ:()=>O,yG:()=>T});var a=r(848318),n=r(716544),o=r(741419),l=r(453822),i=r(166365),s=r(17755),c=r(442313),d=r(667323),m=r(376780),u=r(710665),_=r(35315),p=r(355323),f=r(6760),g=r(969048),E=r(345908);if(443==r.j)var b=r(563869);if(443==r.j)var h=r(136271);if(443==r.j)var v=r(623519);function y(){return a.createElement(l.Ex,{color:l.zE.DEFAULT,text:(0,c.t)("pro_onboarding.professional"),className:s.s.colorTextBrand.colorBgSelectedSecondary.font11.$})}function w({dismissModal:e}){let t="team-view-new-project-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.hello_organized_files"),subtitle:(0,c.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(y,null)})}function T({dismissModal:e,canCreateFigjamBoard:t}){let r="folder-page-view-new-file-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:t?(0,c.t)("pro_onboaridng.so_many_files_and_boards"):(0,c.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(y,null)})}function I({dismissModal:e}){let t="share-prototype";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,c.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:a.createElement(y,null)})}function C({dismissModal:e}){let t="meeting-panel-button";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,c.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:a.createElement(y,null)})}function S({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:(0,c.tx)("rcs.pro_trials_onboarding.unlimited_pages_subtitle",{maxFreePages:u.LF[m._Y.DESIGN]}),width:320,badge:a.createElement(y,null)})}function x({dismissModal:e}){let t=(0,n.d4)(e=>e.multiplayer.allUsers.length>1),r=t?"audio-nux-key":E.v4,o=t?(0,c.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,c.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:(0,c.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:o,width:320,badge:a.createElement(y,null)})}function k({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:a.createElement(y,null)})}function N({dismissModal:e}){let t=[(0,c.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,c.t)("file_access_row.anyone_with_the_link_and_password")}),(0,c.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:"'file-share-audience-select-key'",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:a.createElement(y,null)})}function R({dismissModal:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>Object.keys(e.library.local.components).length>0),l=(0,n.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.c1)(l,"create-symbol");a.useEffect(()=>{t(d.FP({tab:o.xae.ASSETS}))},[]);let m=a.createElement(i.B,{svg:v.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),u=a.createElement(i.B,{svg:h.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),E=[a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",{teamLibraryIcon:m})),(0,c.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,c.t)("design_systems.libraries_modal.publish")})],b=[(0,c.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",{createComponentIcon:u,createComponentShortcut:s}))],w=r?(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),T=r?void 0:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:_.D,calloutTargetKey:_.D,arrowPosition:f.F_.LEFT_TITLE,title:w,subtitle:T,width:320,instructions:r?E:b,badge:a.createElement(y,null)})}function A({dismissModal:e}){let t=a.createElement(i.B,{svg:b.A,title:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),r=(0,c.tx)("rcs.pro_trials_onboarding.video_subtitle",{imageOrVideoIcon:t});return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.video_title"),subtitle:r,width:320,badge:a.createElement(y,null)})}function O({dismissModal:e}){let t="local-variables-panel-title";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("pro_onboarding.variables_save_you_time"),subtitle:(0,c.tx)("pro_onboarding.use_variables_in_components_and_prototypes"),width:320,badge:a.createElement(y,null)})}},469956:(e,t,r)=>{r.d(t,{R:()=>h});var a=r(848318),n=r(356505),o=r(536384),l=r.n(o),i=r(579020),s=r(423995),c=r(379338),d=r(831932),m=r(975512),u=r(442313),_=r(180423),p=r(155651);let f="mobile_download_prompt--mobilePromptTitle--7Tgsn text--fontPos13--xW8hS text--_fontBase--QdLsd",g="mobile_download_prompt--mobilePromptOptionTitle--mMUYW text--fontPos13--xW8hS text--_fontBase--QdLsd",E="mobile_download_prompt--mobilePromptOptionImage--Cp9zK",b="mobile_download_prompt_dismissed";function h(e){let{isCompact:t}=e,r=d.aR?"https://apps.apple.com/us/app/figma-mirror/id1152747299#":"https://play.google.com/store/apps/details?id=com.figma.mirror",o=(0,s.UG)(),f=!t&&!!e.renderBlockingPrompt,[h,w]=a.useState(!f),[T,I]=a.useState(!f);a.useEffect(()=>{null===o.get(b)&&(w(!1),I(!1))},[o,f]);let C=()=>{f||(w(!0),(0,i.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{I(!0)},300),o.set(b,!0))};return null!==o.get(b)?null:a.createElement(p.fu,{name:"Mobile Download Prompt"},a.createElement("div",{className:l()({"mobile_download_prompt--overlay--OzW6J":!0,"mobile_download_prompt--overlayClosed--2FWpY":h,"mobile_download_prompt--overlayAnimateEnd--dBvI0":T}),style:{transitionDuration:"300ms"},onClick:C},a.createElement("div",{className:l()("mobile_download_prompt--mobilePromptContainer--FKz5e","mobile_download_prompt--mobileDownloadPromptContainer--FaI33",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--DHusv":h,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--B100f":f}),onClick:e=>{e.stopPropagation()}},a.createElement("div",{className:l()("mobile_download_prompt--mobilePromptDescriptionContainer--1PhoH",{"mobile_download_prompt--fullHeightPrompt--U6KWw":f})},t?a.createElement(y,null):a.createElement(v,{renderBlockingPrompt:f??!1})),a.createElement("hr",{className:l()({"mobile_download_prompt--mobilePromptHR--UpOqS":!0,"mobile_download_prompt--fullWidthHR--B-2i1":f})}),a.createElement("div",{className:"mobile_download_prompt--mobilePromptGrid--Mvqf-"},a.createElement("img",{className:E,src:(0,c.ck)("249f0f055b922ecef6bffc592a8420e7e6eddcea"),alt:(0,u.t)("file_browser.mobile_prompt.app_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,u.tx)("file_browser.mobile_prompt.app_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--APlZp text--fontPos11--2LvXf text--_fontBase--QdLsd"},f?(0,u.tx)("file_browser.mobile_prompt.app_description_new"):(0,u.tx)("file_browser.mobile_prompt.app_description"))),a.createElement(m.pW,{size:"lg",trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:_.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},width:"fill",href:r},(0,u.tx)("file_browser.mobile_prompt.app_action")),!f&&a.createElement(a.Fragment,null,a.createElement("img",{className:E,src:(0,c.ck)("741698fed49afa5e8f3becdd906e66d32c8e7fae"),alt:(0,u.t)("file_browser.mobile_prompt.browser_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,u.tx)("file_browser.mobile_prompt.browser_title"))),a.createElement(n.Pw,{onClick:C,variant:"secondary"},(0,u.tx)("file_browser.mobile_prompt.browser_action")))))))}function v(e){return a.createElement(a.Fragment,null,a.createElement("img",{className:"mobile_download_prompt--mobilePromptImage--U2Yqj",src:(0,c.ck)("5f1dc37f397dbddf711d3d950bee5dd46c07fc72"),alt:(0,u.t)("file_browser.mobile_prompt.image_alt")}),a.createElement("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--o8VIK"},a.createElement("h2",{className:f},e.renderBlockingPrompt?(0,u.tx)("file_browser.mobile_prompt.modal_title_blocking"):(0,u.tx)("file_browser.mobile_prompt.modal_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptSubTitle--GFR67 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.renderBlockingPrompt?(0,u.tx)("file_browser.mobile_prompt.modal_body_blocking"):(0,u.tx)("file_browser.mobile_prompt.modal_body"))))}function y(){return a.createElement(a.Fragment,null,a.createElement("h2",{className:f},(0,u.tx)("file_browser.mobile_prompt.modal_title_compact")))}},949002:(e,t,r)=>{r.d(t,{h:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 5h-2V4h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2h-2zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3-6h-2v3h2zm-2-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9h-2V8h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 5H9V4h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2H4zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1zm3-6H4v3h2zM4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9H9V8h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})})})},968189:(e,t,r)=>{r.d(t,{U:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m3 5a1 1 0 1 1 2 0v2.5a.5.5 0 0 0 1 0V10a2 2 0 1 0-4 0v2.5a.5.5 0 0 0 1 0zM5 9a1 1 0 0 0-1 1v2.5a.5.5 0 0 1-1 0V10a2 2 0 1 1 4 0v2.5a.5.5 0 0 1-1 0V10a1 1 0 0 0-1-1m7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"})})})},219575:(e,t,r)=>{r.d(t,{L:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0m1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0m-5.146-.354-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 .708.708L11.5 9.707V15.5a.5.5 0 0 0 1 0V9.707l2.646 2.647a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 11.5a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0m1 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0m-5.146-.354-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708L11 9.707V14.5a.5.5 0 0 0 1 0V9.707l2.146 2.147a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})})})},524271:(e,t,r)=>{r.d(t,{o:()=>n});var a=r(749214);let n=(0,r(848318).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.5 9.495a1 1 0 0 1 .62-.925l8.119-3.343a2 2 0 0 1 1.522 0l8.12 3.343a1 1 0 0 1 0 1.85l-.881.362V15.5a.5.5 0 0 1-1 0v-4.306l-1 .412V16c0 .64-.328 1.148-.706 1.505-.375.355-.865.629-1.387.838-1.05.42-2.432.657-3.907.657s-2.857-.237-3.907-.657c-.522-.21-1.012-.483-1.387-.838C6.328 17.148 6 16.64 6 16v-4.394l-2.88-1.187a1 1 0 0 1-.62-.924M7 12.017V16c0 1.105 2.239 2 5 2s5-.895 5-2v-3.983l-4.238 1.746a2 2 0 0 1-1.524 0zM3.5 9.495l1.313.54 6.806 2.803a1 1 0 0 0 .762 0l6.806-2.803 1.313-.54-1.313-.541-6.806-2.803a1 1 0 0 0-.762 0L4.813 8.954z",clipRule:"evenodd"})})})},195631:(e,t,r)=>{r.d(t,{K:()=>l});var a=r(749214),n=r(848318),o=r(527828);let l=(0,n.memo)(function(e){return(0,o.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 7.5V7a2 2 0 1 0-2 2h2zm.724-1.76A3 3 0 1 0 7.264 9H5.5A1.5 1.5 0 0 0 4 10.5v1a1.5 1.5 0 0 0 1 1.415v5.586A1.5 1.5 0 0 0 6.5 20h11a1.5 1.5 0 0 0 1.5-1.5v-5.586a1.5 1.5 0 0 0 1-1.414v-1A1.5 1.5 0 0 0 18.5 9H16a2.5 2.5 0 0 0-3.776-3.26M12.5 7.5V9H14a1.5 1.5 0 1 0-1.5-1.5M6 13v5.5a.5.5 0 0 0 .5.5h5v-6zm6.5 0v6h5a.5.5 0 0 0 .5-.5V13zm0-1v-2h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5zm-1-2v2h-6a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 7.5V7a2 2 0 1 0-2 2h2zm.724-1.76A3 3 0 1 0 6.764 9H5.5A1.5 1.5 0 0 0 4 10.5v1a1.5 1.5 0 0 0 1 1.415v5.586A1.5 1.5 0 0 0 6.5 20h10a1.5 1.5 0 0 0 1.5-1.5v-5.586a1.5 1.5 0 0 0 1-1.414v-1A1.5 1.5 0 0 0 17.5 9h-2a2.5 2.5 0 0 0-3.776-3.26M12 7.5V9h1.5A1.5 1.5 0 1 0 12 7.5M6 13v5.5a.5.5 0 0 0 .5.5H11v-6zm6 0v6h4.5a.5.5 0 0 0 .5-.5V13zm0-1v-2h5.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5zm-1-2v2H5.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z",clipRule:"evenodd"})})})}}]);

//# debugId=dc2b40ab-3646-536c-875c-0d5713cdb5f4

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/e33e8df1e994be02833afd6e7916717c170ae75c/0c62c2fd-a0720ae25e4ae32f.min.js.map